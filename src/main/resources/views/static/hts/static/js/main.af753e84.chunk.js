(this.webpackJsonplamisplus=this.webpackJsonplamisplus||[]).push([[0],{569:function(e,t,a){},570:function(e,t,a){},667:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),n=a(32),i=a.n(n),c=a(52),o=a(11),l=(a(28),a(569),a(570),a(571),a(7)),d=a(728),j=a(729),b=a(751),u=a(743),m=a(730),h=a(4),O=a(108),p=a.n(O),x=a(14),g=a.n(x),f=new URLSearchParams(window.location.search).get("jwt"),v="/api/v1/",N=(a(60),a(47)),y=a(127),T=a.n(y),C=a(137),R=a.n(C),S=a(128),D=a.n(S),w=a(135),I=a.n(w),P=a(89),k=a.n(P),Y=a(88),A=a.n(Y),H=a(129),B=a.n(H),F=a(130),L=a.n(F),E=a(132),M=a.n(E),V=a(133),W=a.n(V),_=a(134),z=a.n(_),G=a(138),q=a.n(G),U=a(131),K=a.n(U),Q=a(136),X=a.n(Q),J=a(139),Z=a.n(J),$=(a(30),a(499)),ee=a(419),te=a(721),ae=a(535),se=(a(263),a(245)),re=a(364),ne=a(15),ie=a.n(ne),ce=a(337),oe=a.n(ce),le=a(1);ie.a.locale("en"),oe()();var de={Add:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},je=(Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=(a[0],a[1]),n=Object(s.useState)(!0),i=Object(l.a)(n,2),c=i[0],o=i[1];Object(s.useEffect)((function(){}),[]);var d=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"},j=function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""},b=function(e){e.target.checked?o(!1):o(!0)};return Object(le.jsx)("div",{children:Object(le.jsx)(p.a,{icons:de,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:c},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Client Code",field:"clientCode",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"HTS Count",field:"count",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,a){return g.a.get("".concat(v,"hts/persons?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){return e})).then((function(a){r(!1),t({data:a.data.records.map((function(e){return{name:e.hivPositive&&!0===e.hivPositive?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("sup",{children:Object(le.jsx)("b",{style:{color:"red"},children:Object(le.jsx)(se.a,{name:"circle",size:"small"})})})," "," "+e.personResponseDto.firstName+" "+e.personResponseDto.surname," "]}):e.personResponseDto.firstName+" "+e.personResponseDto.surname,hospital_number:j(e.personResponseDto.identifier),clientCode:e.clientCode,gender:e&&e.personResponseDto.sex?e.personResponseDto.sex:"",age:0===e.personResponseDto.dateOfBirth||void 0===e.personResponseDto.dateOfBirth||null===e.personResponseDto.dateOfBirth||""===e.personResponseDto.dateOfBirth?0:d(ie()(e.personResponseDto.dateOfBirth).format("DD-MM-YYYY")),count:Object(le.jsx)(re.a,{color:"blue",size:"mini",children:e.htsCount}),actions:Object(le.jsx)("div",{children:e.htsCount>=0&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(N.a,{to:{pathname:"/patient-history",state:{patientObject:e,patientObj:e.personResponseDto,clientCode:e.clientCode}},children:Object(le.jsxs)(te.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)(ee.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(ae.a,{})}),Object(le.jsx)(ee.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})})}})),page:e.page,totalCount:a.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:function(e){return Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==c,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(le.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(le.jsx)(O.MTableToolbar,Object(h.a)({},e))]})}}})})}),be=(a(661),a(725)),ue=a(726),me=a(727),he=a(722),Oe=a(144),pe=a.n(Oe),xe=a(266),ge=a.n(xe);pe.a.setOptions({colors:pe.a.map(pe.a.getOptions().colors,(function(e){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,e],[1,pe.a.color(e).brighten(-.3).get("rgb")]]}}))});var fe={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Number of Adults and Children currently receiving ART by Age"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",connectorColor:"black"},showInLegend:!0}},series:[{name:"Currently Receiving ART By Age",data:[{name:"25 + ",sliced:!0,y:61.41},{name:"20-24 ",y:11.84},{name:"10-19 ",y:10.85},{name:"\u2264 9 ",y:4.67}]}]},ve={chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:"Total Number Tested by Sex",align:"center",verticalAlign:"middle",y:-160},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-50,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{fontWeight:"bold",color:"white"}},startAngle:-90,endAngle:90,center:["50%","75%"],size:"110%",showInLegend:!0}},series:[{type:"pie",name:"Newly Enrolled on ART ",innerSize:"50%",data:[["Male",58.9],["Female",13.29]]}]},Ne=Object($.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),ye=function(e){Ne();var t=Object(s.useState)(""),a=Object(l.a)(t,2),n=(a[0],a[1],Object(s.useState)(!1)),i=Object(l.a)(n,2),c=(i[0],i[1],Object(s.useState)({activeItem:"gamepad"})),o=Object(l.a)(c,2),d=o[0],j=(o[1],d.activeItem,r.a.useState(null)),b=Object(l.a)(j,2),u=b[0];b[1],Boolean(u);return Object(le.jsx)("div",{spacing:5,style:{padding:20},children:Object(le.jsx)(be.a,{children:Object(le.jsx)(ue.a,{md:12,children:Object(le.jsxs)(be.a,{children:[Object(le.jsx)(ue.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(he.a,{children:Object(le.jsx)(me.a,{children:Object(le.jsx)(ge.a,{highcharts:pe.a,options:ve})})})}),Object(le.jsx)(ue.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(he.a,{children:Object(le.jsx)(me.a,{children:Object(le.jsx)(ge.a,{highcharts:pe.a,options:fe})})})})]})})})})},Te=function(){return Object(le.jsx)(s.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-primary text-danger",children:Object(le.jsx)("i",{class:"fa fa-user-plus","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"NEWLY TESTED"}),Object(le.jsx)("h4",{className:"mb-0",children:"3280"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-warning text-warning",children:Object(le.jsx)("i",{class:"fa fa-heartbeat","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENT ON ART"}),Object(le.jsx)("h4",{className:"mb-0",children:"2570"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body  p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-danger text-danger",children:Object(le.jsx)("i",{class:"fa fa-compress","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"NEWLY POSITIVE"}),Object(le.jsx)("h4",{className:"mb-0",children:"50"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-success text-success",children:Object(le.jsx)("i",{class:"fa fa-users","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENTLY ACTIVE"}),Object(le.jsx)("h4",{className:"mb-0",children:"2340"})]})]})})})}),Object(le.jsx)(ye,{})]})})},Ce=a(151),Re={borderRadius:"2px",fontSize:14},Se=function(){var e=Object(s.useState)("home"),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(le.jsxs)(s.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsx)("h4",{children:"HTS"})})})}),Object(le.jsx)(N.a,{to:"register-patient",children:Object(le.jsx)(ee.a,{variant:"contained",color:"primary",className:"mt-2 mr-3 mb-0 float-end",startIcon:Object(le.jsx)(Ce.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:Re,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:a,onSelect:function(e){return r(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"Find Patients",children:Object(le.jsx)(je,{})}),Object(le.jsx)(m.a,{eventKey:"visualization",title:"Data Visualisation ",children:Object(le.jsx)(Te,{})})]})})})})})})]})},De=a(746),we=a(735),Ie=(a(40),a(742)),Pe=a(17),ke=a(50),Ye=a(79),Ae=a(9),He=a(731),Be=a(732),Fe=a(733),Le=a(85),Ee=a.n(Le),Me=a(741),Ve=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),We=function(e){var t=Ve();console.log(e);Object(c.g)();var a=Object(s.useState)({}),n=Object(l.a)(a,2),i=n[0],d=n[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),u=(b[0],b[1]),m=Object(s.useState)(!1),O=Object(l.a)(m,2),p=(O[0],O[1],Object(s.useState)([])),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)([]),C=Object(l.a)(T,2),R=C[0],S=C[1],D=Object(s.useState)([]),w=Object(l.a)(D,2),I=w[0],P=w[1],k=Object(s.useState)([]),Y=Object(l.a)(k,2),A=(Y[0],Y[1]),H=Object(s.useState)([]),B=Object(l.a)(H,2),F=B[0],L=B[1],E=Object(s.useState)([]),M=Object(l.a)(E,2),V=M[0],W=M[1],_=Object(s.useState)([]),z=Object(l.a)(_,2),G=z[0],q=z[1],U=Object(s.useState)([]),K=Object(l.a)(U,2),Q=K[0],X=K[1],J=Object(s.useState)(!0),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=Object(s.useState)([]),ae=Object(l.a)(te,2),se=ae[0],re=ae[1],ie=Object(s.useState)([]),ce=Object(l.a)(ie,2),oe=ce[0],de=ce[1],je=Object(h.a)({},i),be=r.a.useState(!1),ue=Object(l.a)(be,2),Oe=ue[0],pe=ue[1],xe=function(){return pe(!Oe)},ge=Object(s.useState)([]),fe=Object(l.a)(ge,2),ve=fe[0],Ne=fe[1],ye=Object(s.useState)(""),Te=Object(l.a)(ye,2),Ce=Te[0],Re=Te[1],Se=Object(s.useState)(""),we=Object(l.a)(Se,2),Ie=we[0],Le=we[1],We=Object(s.useState)(""),_e=Object(l.a)(We,2),ze=_e[0],Ge=_e[1],qe=e.patientObj.personResponseDto.address,Ue=qe&&qe.address&&qe.address.length>0?qe.address[0]:null,Ke=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ne(e.patientObj.personResponseDto.dateOfBirth).format("DD-MM-YYYY")),Qe=Object(s.useState)({active:!0,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",age:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?Ke:"",dob:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",dateOfBirth:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:"",dateOfRegistration:e.patientObj&&e.patientObj.dateOfRegistration?e.patientObj.dateOfRegistration:"",deceased:"",deceasedDateTime:"",educationId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.educationId?e.patientObj.personResponseDto.educationId:"",employmentStatusId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.employmentStatusId?e.patientObj.personResponseDto.employmentStatusId:"",facilityId:"",firstName:e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.firstName:"",genderId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.genderId?e.patientObj.personResponseDto.genderId:"",address:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.address?function(e){var t=e.address.find((function(e){return e.city}));return t?t.city:""}(e.patientObj.personResponseDto.address):"",phoneNumber:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.contactPoint?function(e){var t=e.contactPoint.find((function(e){return"phone"==e.type}));return t?t.value:""}(e.patientObj.personResponseDto.contactPoint):"",isDateOfBirthEstimated:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.isDateOfBirthEstimated?e.patientObj.personResponseDto.isDateOfBirthEstimated:"",maritalStatusId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.maritalStatus?e.patientObj.personResponseDto.maritalStatus.id:"",organizationId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.genderId?e.patientObj.personResponseDto.genderId:"",otherName:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.otherName?e.patientObj.personResponseDto.otherName:"",sex:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.sex?e.patientObj.personResponseDto.sex:"",stateId:Ue&&Ue.stateId?Ue.stateId:"",riskAssessment:e.extra&&e.extra.riskAssessment?e.extra.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",lga:Ue&&Ue.district?Ue.district:"",surname:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.surname?e.patientObj.personResponseDto.surname:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:""}),Xe=Object(l.a)(Qe,2),Je=Xe[0],Ze=Xe[1];Object(s.useEffect)((function(){var t;$e(),st(),nt(),it(),ot(),rt(),ct(),at(),tt(),et(),""!==Je.age&&e.setPatientObjAge(Je.age),e.extra&&""!==e.extra.age&&e.setPatientObjAge(e.extra.age),Ue&&""!==Ue.stateId&&(t=Ue.stateId,g.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){q(e.data)})).catch((function(e){})))}),[Je.age,e.patientObj,e.extra.age]);var $e=function(){g.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){y(e.data)})).catch((function(e){}))},et=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){Ne(e.data)})).catch((function(e){}))},tt=function(){g.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){de(e.data)})).catch((function(e){}))},at=function(){g.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){re(e.data)})).catch((function(e){}))},st=function(){g.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){S(e.data)})).catch((function(e){}))},rt=function(){g.a.get("".concat(v,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){X(e.data)})).catch((function(e){}))},nt=function(){g.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){P(e.data)})).catch((function(e){}))},it=function(){g.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){A(e.data)})).catch((function(e){}))},ct=function(){g.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){L(e.data)})).catch((function(e){}))},ot=function(){var e;e="1",g.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){W(e.data)})).catch((function(e){})),Ze(Object(h.a)(Object(h.a)({},Je),{},{countryId:1}))};var lt=function(e){if(d(Object(h.a)(Object(h.a)({},je),{},Object(Ae.a)({},e.target.name,""))),"firstName"===e.target.name&&""!==e.target.value){var t=jt(e.target.value);Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=jt(e.target.value);Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var s=jt(e.target.value);Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},e.target.name,s)))}if("indexClientCode"===e.target.name&&""!==e.target.value){var r=function(){var t=Object(Ye.a)(Object(ke.a)().mark((function t(){var a,s;return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,g.a.get("".concat(v,"hts/client/").concat(a),{headers:{Authorization:"Bearer ".concat(f),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(s=t.sent).data?(Le(""),Re(s.data)):(Re(""),Le(s.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r()}Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},e.target.name,e.target.value)))},dt=function(e){"Actual"==e.target.value?(Je.isDateOfBirthEstimated=!1,ee(!0)):"Estimated"==e.target.value&&(Je.isDateOfBirthEstimated=!0,ee(!1))},jt=function(e){return e.replace(/[^a-z]/gi,"")},bt=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"BASIC INFORMATION - CLIENT INTAKE FORM"}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:lt,value:Je.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0,children:[Object(le.jsx)("option",{value:""}),N.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==i.targetGroup?Object(le.jsx)("span",{className:t.error,children:i.targetGroup}):""]})}),Object(le.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Client Code *"}),Object(le.jsx)(Fe.a,{type:"text",name:"clientCode",id:"clientCode",value:Je.clientCode,onBlur:function(e){function t(){return(t=Object(Ye.a)(Object(ke.a)().mark((function e(){var t;return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Je.clientCode,e.next=3,g.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(f),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?Ge("Client code already exist"):Ge("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.clientCode?Object(le.jsx)("span",{className:t.error,children:i.clientCode}):""]}),""!==ze?Object(le.jsx)("span",{className:t.error,children:ze}):""]})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Referred From *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",value:Je.referredFrom,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),I.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==i.referredFrom?Object(le.jsx)("span",{className:t.error,children:i.referredFrom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Setting*"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:Je.testingSetting,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),R.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==i.testingSetting?Object(le.jsx)("span",{className:t.error,children:i.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"dateVisit",id:"dateVisit",value:Je.dateVisit,onChange:lt,min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.dateVisit?Object(le.jsx)("span",{className:t.error,children:i.dateVisit}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"First Name *"}),Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",value:Je.firstName,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.firstName?Object(le.jsx)("span",{className:t.error,children:i.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"otherName",id:"otherName",value:Je.otherName,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.otherName?Object(le.jsx)("span",{className:t.error,children:i.otherName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Last Name *"}),Object(le.jsx)(Fe.a,{type:"text",name:"surname",id:"surname",value:Je.surname,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.surname?Object(le.jsx)("span",{className:t.error,children:i.surname}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return dt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return dt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:Je.dateVisit,max:ne(new Date).format("YYYY-MM-DD"),value:Je.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,Je.age=s}else Ze(Object(h.a)(Object(h.a)({},Je),{},{age:""}));Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},e.target.name,e.target.value))),Ze(Object(h.a)(Object(h.a)({},Je),{},{dob:e.target.value})),""!==Je.age&&Je.age>=85&&xe()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:Je.age,disabled:$,onChange:function(e){if(!$&&e.target.value){""!==e.target.value&&e.target.value>=85&&xe();var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");Ze(Object(h.a)(Object(h.a)({},Je),{},{dob:ne(a).format("YYYY-MM-DD")})),Je.dob=ne(a).format("YYYY-MM-DD")}Ze(Object(h.a)(Object(h.a)({},Je),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Phone Number *"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:Je.phoneNumber,onChange:function(e){!function(e,t){Ze(Object(h.a)(Object(h.a)({},Je),{},Object(Ae.a)({},t,e.slice(0,10))))}(e,"phoneNumber")}}),""!==i.phoneNumber?Object(le.jsx)("span",{className:t.error,children:i.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",name:"state",id:"state",onChange:function(e){var t=e.target.value;Ze(Object(h.a)(Object(h.a)({},Je),{},{stateId:e.target.value})),g.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){q(e.data)})).catch((function(e){}))},value:Je.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),V.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),""!==i.stateId?Object(le.jsx)("span",{className:t.error,children:i.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"LGA *"}),Object(le.jsxs)("select",{className:"form-control",name:"lga",id:"lga",value:Je.lga,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),G.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==i.lga?Object(le.jsx)("span",{className:t.error,children:i.lga}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Address *"}),Object(le.jsx)(Fe.a,{type:"textarea",name:"address",id:"address",value:Je.address,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.address?Object(le.jsx)("span",{className:t.error,children:i.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex*"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:Je.sex,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),F.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==i.sex?Object(le.jsx)("span",{className:t.error,children:i.sex}):""]})}),Je.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",value:Je.maritalStatusId,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Q.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Je.age>9&&"Male"===Je.sex&&5!==Je.maritalStatusId&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Number of wives/co-wives"}),Object(le.jsx)(Fe.a,{type:"number",name:"numWives",min:0,id:"numWives",value:Je.numWives,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Je.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Number of Children ","<5"," years"]}),Object(le.jsx)(Fe.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:Je.numChildren,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Testing"}),Object(le.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:Je.indexClient,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==i.indexClient?Object(le.jsx)("span",{className:t.error,children:i.indexClient}):""]})}),"true"===Je.indexClient&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship of the index client"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:Je.relationshipWithIndexClient,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),ve.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsxs)("div",{className:"form-group  col-md-4",children:[Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Client Code/ID"}),Object(le.jsx)(Fe.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:Je.indexClientCode,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]}),""!==Ie?Object(le.jsx)("span",{className:t.error,children:Ie}):"",""!==Ce?Object(le.jsx)("span",{className:t.success,children:Ce}):""]})]}),"Female"===Je.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Pregnant"}),Object(le.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:Je.pregnant,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),oe.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Breast Feeding"}),Object(le.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:Je.breastFeeding,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"First time visit"}),Object(le.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:Je.firstTimeVisit,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==i.firstTimeVisit?Object(le.jsx)("span",{className:t.error,children:i.firstTimeVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested within the last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:Je.previouslyTested,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==i.previouslyTested?Object(le.jsx)("span",{className:t.error,children:i.previouslyTested}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Type of Counseling"}),Object(le.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:Je.typeCounseling,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),se.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==i.typeCounseling?Object(le.jsx)("span",{className:t.error,children:i.typeCounseling}):""]})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){if(t.preventDefault(),je.typeCounseling=Je.typeCounseling?"":"This field is required.",je.testingSetting=Je.testingSetting?"":"This field is required.",je.targetGroup=Je.targetGroup?"":"This field is required.",je.referredFrom=Je.referredFrom?"":"This field is required.",je.previouslyTested=Je.previouslyTested?"":"This field is required.",je.surname=Je.surname?"":"This field is required.",je.sex=Je.sex?"":"This field is required.",je.clientCode=Je.clientCode?"":"This field is required.",je.phoneNumber=Je.phoneNumber?"":"This field is required.",je.firstName=Je.firstName?"":"This field is required.",je.address=Je.address?"":"This field is required.",je.indexClient=Je.indexClient?"":"This field is required.",je.firstTimeVisit=Je.firstTimeVisit?"":"This field is required.",je.dateVisit=Je.dateVisit?"":"This field is required.",je.dob=Je.dob?"":"This field is required.",je.age=Je.age?"":"This field is required.",d(Object(h.a)({},je)),Object.values(je).every((function(e){return""==e}))){var a=F.find((function(e){return e.display===Je.sex})),s={clientCode:Je.clientCode,dateVisit:Je.dateVisit,extra:{},firstTimeVisit:Je.firstTimeVisit,indexClient:Je.indexClient,numChildren:Je.numChildren,numWives:Je.numWives,personDto:{active:!0,address:[{city:Je.address,countryId:1,district:Je.lga,line:[""],organisationUnitId:"",postalCode:"",stateId:Je.stateId}],contact:[],contactPoint:[{type:"phone",value:Je.phoneNumber}],dateOfBirth:Je.dob,dateOfRegistration:Je.dateVisit,deceased:!0,deceasedDateTime:null,educationId:"",employmentStatusId:"",facilityId:"",firstName:Je.firstName,genderId:a.id,id:"",identifier:[{assignerId:1,type:"HospitalNumber",value:Je.clientCode}],isDateOfBirthEstimated:Je.isDateOfBirthEstimated,maritalStatusId:Je.maritalStatusId,organizationId:"",otherName:Je.otherName,sexId:a.id,surname:Je.surname},personId:"",hospitalNumber:Je.clientCode,previouslyTested:Je.previouslyTested,referredFrom:Je.referredFrom,targetGroup:Je.targetGroup,testingSetting:Je.testingSetting,typeCounseling:Je.typeCounseling,breastFeeding:Je.breastFeeding,indexClientCode:Je.indexClientCode,pregnant:Je.pregnant,relationshipWithIndexClient:Je.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};e.setPatientObj(Object(h.a)(Object(h.a)({},e.patientObj),Je)),g.a.post("".concat(v,"hts"),s,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){u(!1),e.setPatientObj(t.data),Je.age>14?bt("pre-test-counsel","basic"):bt("hiv-test","basic")})).catch((function(e){if(u(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}else o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})})})]})})]})}),Object(le.jsxs)(Me.a,{show:Oe,toggle:xe,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(Me.a.Header,{children:Object(le.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(Me.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(Me.a.Footer,{children:Object(le.jsx)(De.a,{onClick:xe,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},_e=a(734),ze=a(744),Ge=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),qe=function(e){var t=Ge(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(s.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(s.useState)({}),b=Object(l.a)(j,2),u=b[0],m=(b[1],Object(h.a)({},u),Object(s.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),O=Object(l.a)(m,2),p=O[0],x=O[1];Object(s.useEffect)((function(){e.patientObj&&(x(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),B(e.patientObj.riskAssessmentPartner&&null!==e.patientObj.riskAssessmentPartner?e.patientObj.riskAssessmentPartner:{}),W(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),K(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.extra.riskAssessment?I(e.extra.riskAssessment&&null!==e.extra.riskAssessment?e.extra.riskAssessment:{}):I(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),p.clientPregnant=73===e.patientObj.pregnant?"true":"")}),[e.patientObj]);var N=function(t,a){e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])),e.handleItemClick(t)},y=Object(s.useState)({htsClientId:r,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),T=Object(l.a)(y,2),C=T[0],R=(T[1],function(e){x(Object(h.a)(Object(h.a)({},p),{},Object(Ae.a)({},e.target.name,e.target.value)))}),S=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),D=Object(l.a)(S,2),w=D[0],I=D[1],P=function(e){I(Object(h.a)(Object(h.a)({},w),{},Object(Ae.a)({},e.target.name,e.target.value)))},k=Object.values(w).filter((function(e){return"true"===e})),Y=Object(s.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),A=Object(l.a)(Y,2),H=A[0],B=A[1],F=function(e){B(Object(h.a)(Object(h.a)({},H),{},Object(Ae.a)({},e.target.name,e.target.value)))},L=Object.values(H).filter((function(e){return"true"===e})),E=Object(s.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),M=Object(l.a)(E,2),V=M[0],W=M[1],_=function(e){W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,e.target.value)))},z=Object.values(V).filter((function(e){return"true"===e})),G=Object(s.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),q=Object(l.a)(G,2),U=q[0],K=q[1],Q=function(e){K(Object(h.a)(Object(h.a)({},U),{},Object(Ae.a)({},e.target.name,e.target.value)))},X=Object.values(U).filter((function(e){return"true"===e}));return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested HIV negative *"}),Object(le.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:p.previousTestedHIVNegative,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.previousTestedHIVNegative?Object(le.jsx)("span",{className:t.error,children:u.previousTestedHIVNegative}):""]})}),"true"===p.previousTestedHIVNegative&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Time of last HIV Negative test Result"}),Object(le.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:p.timeLastHIVNegativeTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(le.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(le.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(le.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==u.timeLastHIVNegativeTestResult?Object(le.jsx)("span",{className:t.error,children:u.timeLastHIVNegativeTestResult}):""]})}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client pregnant *"}),Object(le.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:p.clientPregnant,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientPregnant?Object(le.jsx)("span",{className:t.error,children:u.clientPregnant}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about HIV transmission routes "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:p.clientInformHivTransRoutes,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformHivTransRoutes?Object(le.jsx)("span",{className:t.error,children:u.clientInformHivTransRoutes}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about risk factors for HIV transmission "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:p.clientInformRiskkHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformRiskkHivTrans?Object(le.jsx)("span",{className:t.error,children:u.clientInformRiskkHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed on preventing HIV transmission methods "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:p.clientInformPreventingsHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformPreventingsHivTrans?Object(le.jsx)("span",{className:t.error,children:u.clientInformPreventingsHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about possible test results "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:p.clientInformPossibleTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformPossibleTestResult?Object(le.jsx)("span",{className:t.error,children:u.clientInformPossibleTestResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Informed consent for HIV testing given "}),Object(le.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:p.informConsentHivTest,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.informConsentHivTest?Object(le.jsx)("span",{className:t.error,children:u.informConsentHivTest}):""]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Current cough "}),Object(le.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:U.currentCough,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.currentCough?Object(le.jsx)("span",{className:t.error,children:u.currentCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Weight loss *"}),Object(le.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:U.weightLoss,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.weightLoss?Object(le.jsx)("span",{className:t.error,children:u.weightLoss}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(le.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:U.lymphadenopathy,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.lymphadenopathy?Object(le.jsx)("span",{className:t.error,children:u.lymphadenopathy}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Fever "}),Object(le.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:U.fever,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.fever?Object(le.jsx)("span",{className:t.error,children:u.fever}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Night sweats"}),Object(le.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:U.nightSweats,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.nightSweats?Object(le.jsx)("span",{className:t.error,children:u.nightSweats}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(le.jsxs)("b",{children:["Score : ",X.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Ever had sexual intercourse "}),Object(le.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:w.everHadSexualIntercourse,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.everHadSexualIntercourse?Object(le.jsx)("span",{className:t.error,children:u.everHadSexualIntercourse}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Blood transfusion in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:w.bloodtransInlastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.bloodtransInlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.bloodtransInlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with casual partner in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:w.uprotectedSexWithCasualLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedSexWithCasualLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:w.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedSexWithRegularPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected vaginal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:w.unprotectedVaginalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.unprotectedVaginalSex?Object(le.jsx)("span",{className:t.error,children:u.unprotectedVaginalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:w.uprotectedAnalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:u.uprotectedAnalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"STI in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:w.stiLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.stiLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.stiLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex under the influence of drugs or alcohol"}),Object(le.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:w.sexUnderInfluence,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.sexUnderInfluence?Object(le.jsx)("span",{className:t.error,children:u.sexUnderInfluence}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"More than 1 sex partner during last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:w.moreThanOneSexPartnerLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.moreThanOneSexPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score : ",k.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:w.experiencePain,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.experiencePain?Object(le.jsx)("span",{className:t.error,children:u.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:w.haveSexWithoutCondom,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.haveSexWithoutCondom?Object(le.jsx)("span",{className:t.error,children:u.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  "}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:w.haveCondomBurst,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.haveCondomBurst?Object(le.jsx)("span",{className:t.error,children:u.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:w.abuseDrug,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.abuseDrug?Object(le.jsx)("span",{className:t.error,children:u.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:w.bloodTransfusion,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.bloodTransfusion?Object(le.jsx)("span",{className:t.error,children:u.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:w.consistentWeightFeverNightCough,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:t.error,children:u.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? "}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:w.soldPaidVaginalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.soldPaidVaginalSex?Object(le.jsx)("span",{className:t.error,children:u.soldPaidVaginalSex}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score :",k.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(le.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:H.sexPartnerHivPositive,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.sexPartnerHivPositive?Object(le.jsx)("span",{className:t.error,children:u.sexPartnerHivPositive}):""]})}),"true"===H.sexPartnerHivPositive&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?"}),Object(le.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:H.newDiagnosedHivlastThreeMonths,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.newDiagnosedHivlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:u.newDiagnosedHivlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:H.currentlyArvForPmtct,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.currentlyArvForPmtct?Object(le.jsx)("span",{className:t.error,children:u.currentlyArvForPmtct}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:H.knowHivPositiveOnArv,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.knowHivPositiveOnArv?Object(le.jsx)("span",{className:t.error,children:u.knowHivPositiveOnArv}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:H.knowHivPositiveAfterLostToFollowUp,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.knowHivPositiveAfterLostToFollowUp?Object(le.jsx)("span",{className:t.error,children:u.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:H.uprotectedAnalSex,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:u.uprotectedAnalSex}):""]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(le.jsxs)("b",{children:["Score :",L.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj.personResponseDto&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:V.vaginalDischarge,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.vaginalDischarge?Object(le.jsx)("span",{className:t.error,children:u.vaginalDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(le.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:V.lowerAbdominalPains,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.lowerAbdominalPains?Object(le.jsx)("span",{className:t.error,children:u.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:V.urethralDischarge,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.urethralDischarge?Object(le.jsx)("span",{className:t.error,children:u.urethralDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of scrotal swelling and pain"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:V.complaintsOfScrotal,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.complaintsOfScrotal?Object(le.jsx)("span",{className:t.error,children:u.complaintsOfScrotal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:V.complaintsGenitalSore,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==u.complaintsGenitalSore?Object(le.jsx)("span",{className:t.error,children:u.complaintsGenitalSore}):""]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(le.jsxs)("b",{children:["Score :",z.length]})]}),c?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return N("basic","basic")}}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),C.htsClientId=r,C.knowledgeAssessment=p,C.personId=a,C.riskAssessment=w,C.stiScreening=V,C.tbScreening=U,C.sexPartnerRiskAssessment=H,g.a.put("".concat(v,"hts/").concat(r,"/pre-test-counseling"),C,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){d(!1),e.setPatientObj(t.data),N("hiv-test","pre-test-counsel")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},Ue=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ke=function(e){var t=Ue(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(h.a)({},j);console.log(e.patientObj);var m=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",O=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(s.useState)(""),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!0),C=Object(l.a)(T,2),R=C[0],S=C[1],D=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ne(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),w=Object(s.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),I=Object(l.a)(w,2),P=I[0],k=(I[1],Object(s.useState)({date:"",result:""})),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=Object(s.useState)({date2:"",result2:""}),F=Object(l.a)(B,2),L=F[0],E=F[1],M=function(e){z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))},V=Object(s.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),W=Object(l.a)(V,2),_=W[0],z=W[1],G=function(e){"No"===e.target.value?(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),X({date:"",result:""}),oe({date:"",result:""}),S(!1)):(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),S(!0))},q=function(e){"No"===e.target.value?(E(Object(h.a)(Object(h.a)({},L),{},Object(Ae.a)({},e.target.name,e.target.value))),ee({date:"",result:""}),ue({date:"",result:""}),S(!1)):(E(Object(h.a)(Object(h.a)({},L),{},Object(Ae.a)({},e.target.name,e.target.value))),S(!0))},U=Object(s.useState)({date:"",result:""}),K=Object(l.a)(U,2),Q=K[0],X=K[1],J=Object(s.useState)({date2:"",result2:""}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=function(e){X(Object(h.a)(Object(h.a)({},Q),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===A.result&&e.target.value,S(!0)},ae=function(e){ee(Object(h.a)(Object(h.a)({},$),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===L.result2&&e.target.value,S(!0)},se=Object(s.useState)({date:"",result:""}),ie=Object(l.a)(se,2),ce=ie[0],oe=ie[1],de=Object(s.useState)({date2:"",result2:""}),je=Object(l.a)(de,2),be=je[0],ue=je[1],Oe=function(e){oe(Object(h.a)(Object(h.a)({},ce),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===Q.result&&"Yes"===e.target.value?S(!0):"No"===Q.result&&"No"===e.target.value?S(!1):S(!0)},pe=function(e){ue(Object(h.a)(Object(h.a)({},be),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===$.result2&&"Yes"===e.target.value?S(!0):"No"===$.result2&&"No"===e.target.value?S(!1):S(!0)},xe=Object(s.useState)({syphilisTestResult:""}),ge=Object(l.a)(xe,2),fe=ge[0],ve=ge[1],Ne=Object(s.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),ye=Object(l.a)(Ne,2),Te=ye[0],Ce=ye[1],Re=function(e){Ce(Object(h.a)(Object(h.a)({},Te),{},Object(Ae.a)({},e.target.name,e.target.value)))},Se=Object(s.useState)({longitude:"",latitude:"",adhocCode:""}),we=Object(l.a)(Se,2),Ie=we[0],ke=we[1];Object(s.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?y(e.patientObj.dateVisit):y(""),z(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),H(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),X(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),oe(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),ve(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),Ce(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),ke(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),E(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),ee(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),ue(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}))}),[e.patientObj]);var Ye=function(e){ke(Object(h.a)(Object(h.a)({},Ie),{},Object(Ae.a)({},e.target.name,e.target.value)))},Le=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))};return console.log(R),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),Object(le.jsx)("h4",{children:"Initial Test :"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:A.date,onChange:G,min:""!==N&&null!==N?N:"",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(le.jsx)("span",{className:t.error,children:j.date}):""]})}),A.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:A.result,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===A.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(le.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===A.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:Q.date,onChange:te,min:A.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(le.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),Q.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:Q.result,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===Q.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===Q.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:ce.date,onChange:Oe,min:Q.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),ce.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:ce.result,onChange:Oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ce.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group  col-md-12",children:["No"===A.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===A.result&&"No"===Q.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===A.result&&"Yes"===Q.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting :"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:L.date2,onChange:q,min:Q.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:L.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===L.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===L.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:L.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:pe,min:$.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===Q.result&&"Yes"===ce.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:L.date2,onChange:q,min:ce.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:L.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===L.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===L.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:L.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:pe,min:$.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===Q.result&&"No"===ce.result&&("Yes"===A.result||"Yes"===A.result||""===A.result)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===L.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===L.result2&&"No"===$.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===L.result2&&"Yes"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{})]}),"No"===$.result2&&"Yes"===be.result2&&Object(le.jsx)(re.a,{color:"red",children:"Positive"}),"No"===$.result2&&"No"===be.result2&&("Yes"===L.result2||"Yes"===L.result2||""===L.result2)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"})]})}),R&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count "}),Object(le.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:_.cd4Count,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===_.cd4Count&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count Value"}),Object(le.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:_.cd4SemiQuantitative,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"<200",children:"<200"}),Object(le.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===_.cd4Count&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"CD4 Count Value"}),Object(le.jsx)(Fe.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:_.cd4FlowCyteometry,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-7"})]}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result "}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:fe.syphilisTestResult,onChange:function(e){ve(Object(h.a)(Object(h.a)({},fe),{},Object(Ae.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:Te.hepatitisBTestResult,onChange:Re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:Te.hepatitisCTestResult,onChange:Re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",value:Ie.longitude,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",value:Ie.latitude,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Ie.adhocCode,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Le("basic","basic")}})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Le("pre-test-counsel","pre-test-counsel")}})}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==A.date&&(u.date=A.result?"":"This field is required."),b(Object(h.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===L.result2?P.hivTestResult2="Negative":"Yes"===L.result2&&"Yes"===$.result2||"No"===$.result2&&"Yes"===be.result2?P.hivTestResult2="Positive":"No"===$.result2&&"No"===be.result2?P.hivTestResult2="Negative":P.hivTestResult2="","No"===A.result?P.hivTestResult="Negative":"Yes"===A.result&&"Yes"===Q.result||"No"===Q.result&&"Yes"===ce.result?P.hivTestResult="Positive":"No"===Q.result&&"No"===ce.result?P.hivTestResult="Negative":P.hivTestResult="",P.htsClientId=O,P.confirmatoryTest=Q,P.confirmatoryTest2=$,P.personId=m,P.test1=A,P.test2=L,P.tieBreakerTest=ce,P.tieBreakerTest2=be,P.syphilisTesting=fe,P.hepatitisTesting=Te,P.cd4=_,P.others=Ie,g.a.put("".concat(v,"hts/").concat(O,"/request-result"),P,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){i(!1),e.setPatientObj(t.data),Le("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})},Qe=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Xe=function(e){var t=Qe(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=(d[1],Object(s.useState)([])),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(s.useState)([]),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!0),C=Object(l.a)(T,2),R=C[0],S=C[1],D=Object(s.useState)([]),w=Object(l.a)(D,2),I=w[0],P=w[1],k=Object(s.useState)([]),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=Object(s.useState)(""),F=Object(l.a)(B,2),L=F[0],E=F[1],M=Object(s.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),V=Object(l.a)(M,2),W=(V[0],V[1],Object(s.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""})),_=Object(l.a)(W,2),z=_[0],G=_[1];Object(s.useEffect)((function(){q(),Q(),U(),K(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?E(e.patientObj.dateVisit):E(""))}),[e.patientObj]);var q=function(){g.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){O(e.data)})).catch((function(e){}))},U=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){P(e.data)})).catch((function(e){}))},K=function(){g.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){H(e.data)})).catch((function(e){}))},Q=function(){g.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){y(e.data)})).catch((function(e){}))},X=function(t){e.handleIClickPage(t)},J=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var s=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,s)))}G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,e.target.value)))},Z=function(e){"Actual"==e.target.value?(z.isDateOfBirthEstimated=!1,S(!0)):"Estimated"==e.target.value&&(z.isDateOfBirthEstimated=!0,S(!1))},$=function(e,t){G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},t,e.slice(0,10))))},ee=function(e){return e.replace(/[^a-z]/gi,"")};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return X("list")},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"First Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",value:z.firstName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"middleName",id:"middleName",value:z.middleName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Last Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"lastName",id:"lastName",value:z.lastName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ne(new Date).format("YYYY-MM-DD"),value:z.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,z.age=s}else G(Object(h.a)(Object(h.a)({},z),{},{age:""}));G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,e.target.value))),G(Object(h.a)(Object(h.a)({},z),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:z.age,disabled:R,onChange:function(e){if(!R&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");G(Object(h.a)(Object(h.a)({},z),{},{dob:ne(a).format("YYYY-MM-DD")})),z.dob=ne(a).format("YYYY-MM-DD")}G(Object(h.a)(Object(h.a)({},z),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:z.phoneNumber,onChange:function(e){$(e,"phoneNumber")}}),""!==j.phoneNumber?Object(le.jsx)("span",{className:t.error,children:j.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Alternative Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:z.altPhoneNumber,onChange:function(e){$(e,"altPhoneNumber")}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:z.sex,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Address"}),Object(le.jsx)(Fe.a,{type:"text",name:"address",id:"address",value:z.address,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Hang-out spots"}),Object(le.jsx)(Fe.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:z.hangOutSpots,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship to Index Client *"}),Object(le.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:z.relativeToIndexClient,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),I.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you currently live with this partner? *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:z.currentlyLiveWithPartner,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:z.partnerTestedPositive,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:z.physicalHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:z.threatenToHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:z.sexuallyUncomfortable,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Notification Method selected*"}),Object(le.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:z.notificationMethod,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),N.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(le.jsx)(Fe.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:z.datePartnerCameForTesting,onChange:J,min:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.datePartnerComeForTesting?Object(le.jsx)("span",{className:t.error,children:j.datePartnerComeForTesting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Offered INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:z.offeredIns,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Accepted INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:z.acceptedIns,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),z.isDateOfBirthEstimated=1==z.isDateOfBirthEstimated?1:0,g.a.post("".concat(v,"index-elicitation"),z,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),X("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})},Je={Add:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},Ze=(Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ye.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(le.jsxs)("div",{children:[Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:Je,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(ie()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(le.jsx)(le.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),$e=function(e){var t=Object(c.g)(),a=Object(s.useState)("list"),r=Object(l.a)(a,2),n=r[0],i=r[1],o=function(e){i(e)};return Object(le.jsx)(s.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsxs)(j.a,{md:12,children:["list"===n&&Object(le.jsx)(Ze,{activePage:n,setActivePage:i,handleIClickPage:o,patientObj:e.patientObj}),"add"===n&&Object(le.jsx)(Xe,{activePage:n,setActivePage:i,handleIClickPage:o,patientObj:e.patientObj}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){t.push("/")}})})})]})})})},et=a(116),tt=a.n(et),at=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),st=function(e){var t=at(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=(r[1],Object(s.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Completed By"}),Object(le.jsx)(Fe.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ee.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)(tt.a,{}),onClick:function(){return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])));var t,a},style:{backgroundColor:"#014d88"},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},rt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),nt=function(e){var t=rt(),a=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(s.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(s.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),m=Object(l.a)(u,2),O=m[0],p=(m[1],Object(s.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1];Object(s.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?y(e.patientObj.postTestCounselingKnowledgeAssessment):""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(N.hivTestResult="true",y(Object(h.a)(Object(h.a)({},N),{},{hivTestResult:"false"}))):(N.hivTestResult="true",y(Object(h.a)(Object(h.a)({},N),{},{hivTestResult:"true"})))}),[e.patientObj,N.hivTestResult]);var T=function(e){y(Object(h.a)(Object(h.a)({},N),{},Object(Ae.a)({},e.target.name,e.target.value)))},C=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},R=function(t){t.preventDefault(),Object.values(N).every((function(e){return""===e}))?o.b.error("All post test fields are required"):(O.htsClientId=e.patientObj.id,O.postTestCounselingKnowledgeAssessment=N,O.personId=e.patientObj.personResponseDto.id,g.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),O,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?C("recency-testing","post-test"):"false"===N.hivTestResult&&a.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Positive"}),Object(le.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you been tested for HIV before within this year? "}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(le.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(le.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(le.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form signed by tester "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client received HIV test result "}),Object(le.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test counseling done "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Risk reduction plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test disclosure plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Will bring partner(s) for HIV testing "}),Object(le.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(le.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Provided with information on FP and dual contraception "}),Object(le.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Correct condom use demonstrated "}),Object(le.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Condoms provided to client "}),Object(le.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client referred to other services "}),Object(le.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)(ze.a,{success:!0,children:Object(le.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return C("hiv-test","hiv-test")}}),"true"===N.hivTestResult&&Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R}),"false"===N.hivTestResult&&Object(le.jsx)(De.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R})]})})]})})]})})})},it=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ct=function(e){var t=it(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(s.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(s.useState)({}),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(s.useState)(""),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(h.a)({},u),T=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},C=Object(s.useState)({htsClientId:r,recency:{},personId:a}),R=Object(l.a)(C,2),S=R[0],D=(R[1],Object(s.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),w=Object(l.a)(D,2),I=w[0],P=w[1];Object(s.useEffect)((function(){e.patientObj&&(P(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Recent")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Invalid")))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine,e.patientObj]),console.log(e.patientObj);var k=function(e){if(m(Object(h.a)(Object(h.a)({},y),{},Object(Ae.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=Y(e.target.value);P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,t)))}else P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))},Y=function(e){return e.slice(0,10)};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"RECENCY FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Opt Out of RTRI?*"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Name *"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Asante",children:"Asante"}),Object(le.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Date *"}),Object(le.jsx)(Fe.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency ID *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Control Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Verification Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Long Term Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency Interpretation *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has viral load request been made? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Viral Load Classification :"}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Collected Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:I.sampleCollectedDate,min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Refernce Number"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(le.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Type"}),Object(le.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"DBS",children:"DBS"}),Object(le.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(le.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Sample Sent to PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,value:I.dateSampleSentToPCRLab,max:ne(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(le.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Test Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Receiving PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(le.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(le.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(le.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(le.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Final Recency Result"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),S.htsClientId=r,S.recency=I,S.personId=a,"true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),m(Object(h.a)({},y)),Object.values(y).every((function(e){return""===e}))&&g.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},ot=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),lt=function(e){var t,a,n=ot(),i=(Object(c.g)(),Object(s.useState)([])),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(s.useState)([]),m=Object(l.a)(u,2),O=m[0],p=m[1],x=Object(s.useState)({}),N=Object(l.a)(x,2),y=N[0],T=N[1],C=Object(s.useState)(!0),R=Object(l.a)(C,2),S=R[0],D=R[1],w=Object(s.useState)(!1),I=Object(l.a)(w,2),P=(I[0],I[1]),k=Object(h.a)({},y),Y=r.a.useState(!1),A=Object(l.a)(Y,2),H=A[0],B=A[1],F=function(){return B(!H)},L=Object(s.useState)([]),E=Object(l.a)(L,2),M=E[0],V=E[1],W=Object(s.useState)(0),_=Object(l.a)(W,2),z=_[0],G=_[1],q=Object(s.useState)((t={age:"",dob:"",code:"",visitDate:"",dateOfBirth:null,dateOfRegistration:null,isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:""},Object(Ae.a)(t,"code",""),Object(Ae.a)(t,"personId",""),Object(Ae.a)(t,"riskAssessment",{}),Object(Ae.a)(t,"entryPoint",""),t)),U=Object(l.a)(q,2),K=U[0],Q=U[1],X=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),J=Object(l.a)(X,2),Z=J[0],$=J[1];Object(s.useEffect)((function(){te(),ee(),""!==K.age&&e.setPatientObjAge(K.age)}),[K.age]);var ee=function(){g.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){b(e.data)})).catch((function(e){}))},te=function(){g.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){p(e.data)})).catch((function(e){}))},ae=function(e){T(Object(h.a)(Object(h.a)({},k),{},Object(Ae.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;g.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){V(e.data)})).catch((function(e){}))}(e.target.value),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(G(1),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(G(1),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(G(1),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value)))):(G(0),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value))))),Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},e.target.name,e.target.value)))},se=function(e){"Actual"==e.target.value?(K.isDateOfBirthEstimated=!1,D(!0)):"Estimated"==e.target.value&&(K.isDateOfBirthEstimated=!0,D(!1))};var re=function(){return k.visitDate=K.visitDate?"":"This field is required.",k.entryPoint=K.entryPoint?"":"This field is required.",k.testingSetting=K.testingSetting?"":"This field is required.",k.entryPoint=K.entryPoint?"":"This field is required.",k.modality=K.modality?"":"This field is required.",k.dob=K.dob?"":"This field is required.",k.age=K.age?"":"This field is required.",K.age>15&&(k.targetGroup=K.targetGroup?"":"This field is required."),T(Object(h.a)({},k)),Object.values(k).every((function(e){return""==e}))},ie=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},ce=Object.values(Z);a=ce.filter((function(e){return"true"===e}));var oe=Object(s.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),de=Object(l.a)(oe,2),je=(de[0],de[1],function(e){$(Object(h.a)(Object(h.a)({},Z),{},Object(Ae.a)({},e.target.name,e.target.value)))});return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(he.a,{className:n.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Entry Point"}),Object(le.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:K.entryPoint,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Facility",children:"Facility"}),Object(le.jsx)("option",{value:"Community",children:"Community"})]}),""!==y.entryPoint?Object(le.jsx)("span",{className:n.error,children:y.entryPoint}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"visitDate",id:"visitDate",value:K.visitDate,onChange:ae,min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==y.visitDate?Object(le.jsx)("span",{className:n.error,children:y.visitDate}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Setting"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:K.testingSetting,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),j.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==y.testingSetting?Object(le.jsx)("span",{className:n.error,children:y.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Modality"}),Object(le.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:K.modality,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),M.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==y.modality?Object(le.jsx)("span",{className:n.error,children:y.modality}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:ae,value:K.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),O.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==y.targetGroup?Object(le.jsx)("span",{className:n.error,children:y.targetGroup}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return se(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return se(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),value:K.dob,onChange:function(t){if(t.target.value){var a=new Date,s=new Date(t.target.value),r=a.getFullYear()-s.getFullYear(),n=a.getMonth()-s.getMonth();(n<0||0===n&&a.getDate()<s.getDate())&&r--,K.age=r}else Q(Object(h.a)(Object(h.a)({},K),{},{age:""}));Q(Object(h.a)(Object(h.a)({},K),{},Object(Ae.a)({},t.target.name,t.target.value))),Q(Object(h.a)(Object(h.a)({},K),{},{dob:t.target.value})),""!==K.age&&K.age<=15||""!==K.age&&K.age,e.setHideOtherMenu(!0),""!==K.age&&K.age>=85&&F()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==y.dob?Object(le.jsx)("span",{className:n.error,children:y.dob}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:K.age,disabled:S,onChange:function(t){if(!S&&t.target.value){""!==t.target.value&&t.target.value>=85&&F(),""!==t.target.value&&t.target.value<=15?e.setHideOtherMenu(!1):(""!==t.target.value&&t.target.value,e.setHideOtherMenu(!0));var a=new Date;a.setDate(15),a.setMonth(5);var s=ne(a.toISOString()).add(-1*t.target.value,"years");Q(Object(h.a)(Object(h.a)({},K),{},{dob:ne(s).format("YYYY-MM-DD")})),K.dob=ne(s).format("YYYY-MM-DD")}Q(Object(h.a)(Object(h.a)({},K),{},{age:t.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==y.age?Object(le.jsx)("span",{className:n.error,children:y.age}):""]})}),Object(le.jsx)("br",{}),K.age>15&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:Z.lastHivTestBasedOnRequest,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestBasedOnRequest?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestBasedOnRequest}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"When was your last HIV test done?  "}),Object(le.jsx)("input",{className:"form-control",name:"lastHivTestDone",type:"date",id:"lastHivTestDone",value:Z.lastHivTestDone,onChange:je,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==y.lastHivTestDone?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestDone}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"What was the result? "}),Object(le.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:Z.whatWasTheResult,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==y.whatWasTheResult?Object(le.jsx)("span",{className:n.error,children:y.whatWasTheResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:Z.lastHivTestVaginalOral,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestVaginalOral?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestVaginalOral}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:Z.lastHivTestBloodTransfusion,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestBloodTransfusion?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestBloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:Z.lastHivTestPainfulUrination,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestPainfulUrination?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestPainfulUrination}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? "}),Object(le.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:Z.diagnosedWithTb,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.diagnosedWithTb?Object(le.jsx)("span",{className:n.error,children:y.diagnosedWithTb}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:Z.lastHivTestInjectedDrugs,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestInjectedDrugs?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestInjectedDrugs}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:Z.lastHivTestHadAnal,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestHadAnal?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestHadAnal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you been forced to have sex? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:Z.lastHivTestForceToHaveSex,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==y.lastHivTestForceToHaveSex?Object(le.jsx)("span",{className:n.error,children:y.lastHivTestForceToHaveSex}):""]})}),Object(le.jsx)("br",{})]}),Object(le.jsx)("br",{}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(le.jsxs)("b",{children:["Score :",z+(K.age>15?a.length:0)]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),e.patientObj.personResponseDto.dob=K.dob,e.patientObj.personResponseDto.dateOfBirth=K.dob,e.patientObj.personResponseDto.isDateOfBirthEstimated=K.isDateOfBirthEstimated,e.patientObj.targetGroup=K.targetGroup,e.patientObj.testingSetting=K.testingSetting,e.patientObj.modality=K.modality,e.patientObj.dateVisit=K.visitDate,e.patientObj.riskAssessment=Z,K.riskAssessment=Z,(z>0||a.length>0)&&K.age>15&&(re()?(ie("basic","risk"),e.setHideOtherMenu(!1),g.a.post("".concat(v,"risk-stratification"),K,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){P(!1),e.patientObj.riskStratificationResponseDto=t.data,K.code=t.data.code,e.setExtra(K)})).catch((function(e){if(P(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})),K.age<15?re()?g.a.post("".concat(v,"risk-stratification"),K,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){P(!1),e.patientObj.riskStratificationResponseDto=t.data,K.code=t.data.code,e.setExtra(K),ie("basic","risk")})).catch((function(e){if(P(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setHideOtherMenu(!1),e.setExtra(K),re()?g.a.post("".concat(v,"risk-stratification"),K,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){P(!1),e.patientObj.riskStratificationResponseDto=t.data,K.code=t.data.code,e.setExtra(K)})).catch((function(e){if(P(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(le.jsxs)(Me.a,{show:H,toggle:F,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(Me.a.Header,{children:Object(le.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(Me.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(Me.a.Footer,{children:Object(le.jsx)(De.a,{onClick:F,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},dt=(Object($.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(c.h)().state,a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=(r[0],r[1],Object(s.useState)("risk")),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(s.useState)([]),u=Object(l.a)(b,2),m=u[0],h=u[1],O=Object(s.useState)(0),p=Object(l.a)(O,2),x=p[0],g=p[1],f=Object(s.useState)(!0),v=Object(l.a)(f,2),y=v[0],T=v[1],C=function(e){j(e)},R=Object(s.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),S=Object(l.a)(R,2),D=S[0],w=S[1],I=Object(s.useState)({breastFeeding:"",capturedBy:"",riskStratificationCode:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:"",personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),P=Object(l.a)(I,2),k=P[0],Y=P[1];return Object(s.useEffect)((function(){t&&t.patientObj&&Y(t.patientObj)}),[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:["HTS / ",Object(le.jsx)("span",{style:{color:"#014D88",fontSize:"1.1rem",fontWeight:"bolder"},children:"NEW HTS CLIENT"})]})})})}),Object(le.jsx)(we.a,{children:Object(le.jsx)(me.a,{children:Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsxs)("h3",{children:["HIV COUNSELLING AND TESTING",Object(le.jsx)(N.a,{to:"/",children:Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end",style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(le.jsxs)(Ie.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"risk"===d,onClick:function(){return C("risk")},style:{backgroundColor:"risk"===d?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Risk Stratification",m.includes("risk")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),0==y&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"basic"===d,onClick:function(){return C("basic")},style:{backgroundColor:"basic"===d?"#000":""},disabled:"basic"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",m.includes("basic")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),x>14&&Object(le.jsx)(Ie.a.Item,{name:"spam",active:"pre-test-counsel"===d,onClick:function(){return C("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===d?"#000":""},disabled:"pre-test-counsel"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",m.includes("pre-test-counsel")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"hiv-test"===d,onClick:function(){return C("hiv-test")},style:{backgroundColor:"hiv-test"===d?"#000":""},disabled:"hiv-test"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",m.includes("hiv-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"post-test"===d,onClick:function(){return C("post-test")},style:{backgroundColor:"post-test"===d?"#000":""},disabled:"post-test"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",m.includes("post-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"recency-testing"===d,onClick:function(){return C("recency-testing")},style:{backgroundColor:"recency-testing"===d?"#000":""},disabled:"recency-testing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",m.includes("recency-testing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"indexing"===d,onClick:function(){return C("indexing")},style:{backgroundColor:"indexing"===d?"#000":""},disabled:"indexing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",m.includes("indexing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})})]})]})}),Object(le.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===d&&Object(le.jsx)(lt,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setPatientObjAge:g,setHideOtherMenu:T,setExtra:w,extra:D}),"basic"===d&&Object(le.jsx)(We,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setPatientObjAge:g,setExtra:w,extra:D}),"pre-test-counsel"===d&&Object(le.jsx)(qe,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D}),"hiv-test"===d&&Object(le.jsx)(Ke,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D}),"post-test"===d&&Object(le.jsx)(nt,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D}),"indexing"===d&&Object(le.jsx)($e,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D}),"recency-testing"===d&&Object(le.jsx)(ct,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D}),"others"===d&&Object(le.jsx)(st,{handleItemClick:C,setCompleted:h,completed:m,setPatientObj:Y,patientObj:k,setExtra:w,extra:D})]})]})})})})]})}),jt=a(10),bt=a(747),ut=a(752),mt=a(723),ht=a(724),Ot=a(736);ie.a.locale("en"),oe()();var pt=Object(jt.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=e.classes,a=e.patientObj?e.patientObj:{},r=(e.permissions&&e.permissions,Object(s.useState)(a)),n=Object(l.a)(r,2),i=n[0];function c(){return(c=Object(Ye.a)(Object(ke.a)().mark((function e(){return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("".concat(v,"hiv/status/patient-current/").concat(i.id),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n[1],Object(s.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[e.patientObj]),Object(le.jsx)(Ot.a,{children:Object(le.jsx)("div",{className:t.root,children:Object(le.jsx)(mt.a,{children:Object(le.jsx)(ht.a,{children:Object(le.jsx)(be.a,{children:Object(le.jsx)(ue.a,{md:12,children:Object(le.jsxs)(be.a,{className:"mt-1",children:[Object(le.jsxs)(ue.a,{md:12,className:t.root2,children:[Object(le.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:i.firstName+" "+i.surname}),Object(le.jsx)(N.a,{to:"/",children:Object(le.jsx)(ee.a,{variant:"contained",color:"primary",className:"float-end ms-2 mr-2 mt-2",style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Patient ID :",Object(le.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""}(i.identifier)})]})}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:["Date Of Birth : ",Object(le.jsx)("b",{style:{color:"#0B72AA"},children:i.dateOfBirth})]})}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Age : ",Object(le.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"}(ie()(i.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(le.jsx)(ue.a,{md:4,children:Object(le.jsxs)("span",{children:[" ","Gender :"," ",Object(le.jsx)("b",{style:{color:"#0B72AA"},children:i.sex&&null!==i.sex?i.sex:""})]})}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Phone Number : ",Object(le.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=e.contactPoint.find((function(e){return"phone"==e.type}));return t?t.value:""}(i.contactPoint)})]})}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Address : ",Object(le.jsxs)("b",{style:{color:"#0B72AA"},children:[function(e){var t=e.address.find((function(e){return e.city}));return t?t.line[0]+" "+t.city:""}(i.address)," "]})]})}),Object(le.jsx)(ue.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Client Code : ",Object(le.jsxs)("b",{style:{color:"#0B72AA"},children:[e&&e.clientCode?e.clientCode:""," "]})]})})]})})})})})})})})),xt=a(740),gt={Add:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},ft=(Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){Object(s.useEffect)((function(){}),[e.patientObj]);var t=function(t,a){e.setActivePage(Object(h.a)(Object(h.a)({},e.activePage),{},{activePage:"view",activeObject:t,actionType:a}))};return Object(le.jsx)("div",{children:Object(le.jsx)(p.a,{icons:gt,title:"HTS HISTORY ",columns:[{title:"Date",field:"date"},{title:"Pre Test Counseling",field:"pre"},{title:"Recency Test",field:"rencency"},{title:"Post Test",field:"post"},{title:"Request & Result",field:"requestResult",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:e.loading,data:e.patientList.map((function(e){return{date:e.dateVisit,pre:e.knowledgeAssessment?"Filled":"Not Filled ",requestResult:e.confirmatoryTest?"Filled":"Not Filled ",rencency:e.recency?"Filled":"Not Filled ",post:e.postTestCounselingKnowledgeAssessment?"Filled":"Not Filled ",actions:Object(le.jsx)("div",{children:Object(le.jsx)(Ie.a.Menu,{position:"right",children:Object(le.jsx)(Ie.a.Item,{children:Object(le.jsx)(De.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(le.jsx)(xt.a,{item:!0,text:"Action",children:Object(le.jsxs)(xt.a.Menu,{style:{marginTop:"10px"},children:[Object(le.jsxs)(xt.a.Item,{onClick:function(){return t(e,"view")},children:[" ",Object(le.jsx)(se.a,{name:"eye"}),"View"]}),Object(le.jsxs)(xt.a.Item,{onClick:function(){return t(e,"update")},children:[Object(le.jsx)(se.a,{name:"edit"}),"Edit"]})]})})})})})})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),vt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Nt=function(e){var t=vt(),a=(Object(c.g)(),Object(s.useState)({})),r=Object(l.a)(a,2),n=r[0],i=r[1],d=Object(s.useState)(!1),j=Object(l.a)(d,2),b=(j[0],j[1]),u=Object(s.useState)(!1),m=Object(l.a)(u,2),O=(m[0],m[1],Object(s.useState)([])),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(s.useState)([]),T=Object(l.a)(y,2),C=T[0],R=T[1],S=Object(s.useState)([]),D=Object(l.a)(S,2),w=D[0],I=D[1],P=Object(s.useState)([]),k=Object(l.a)(P,2),Y=(k[0],k[1]),A=Object(s.useState)([]),H=Object(l.a)(A,2),B=H[0],F=H[1],L=Object(s.useState)([]),E=Object(l.a)(L,2),M=E[0],V=E[1],W=Object(s.useState)([]),_=Object(l.a)(W,2),z=_[0],G=_[1],q=Object(h.a)({},n),U=Object(s.useState)(""),K=Object(l.a)(U,2),Q=(K[0],K[1]),X=Object(s.useState)(""),J=Object(l.a)(X,2),Z=(J[0],J[1]),$=Object(s.useState)(""),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],se=Object(s.useState)({active:!0,personId:e.patientObj.personId,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:""}),re=Object(l.a)(se,2),ie=re[0],ce=re[1];Object(s.useEffect)((function(){oe(),ue(),Oe(),pe(),be(),je(),de()}),[e.patientObj]);var oe=function(){g.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){N(e.data)})).catch((function(e){}))},de=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){G(e.data)})).catch((function(e){}))},je=function(){g.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){V(e.data)})).catch((function(e){}))},be=function(){g.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){F(e.data)})).catch((function(e){}))},ue=function(){g.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){R(e.data)})).catch((function(e){}))},Oe=function(){g.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){I(e.data)})).catch((function(e){}))},pe=function(){g.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){Y(e.data)})).catch((function(e){}))},xe=function(e){if(i(Object(h.a)(Object(h.a)({},q),{},Object(Ae.a)({},e.target.name,""))),"indexClientCode"===e.target.name&&""!==e.target.value){var t=function(){var t=Object(Ye.a)(Object(ke.a)().mark((function t(){var a,s;return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,g.a.get("".concat(v,"hts/client/").concat(a),{headers:{Authorization:"Bearer ".concat(f),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(s=t.sent).data?(Z(""),Q(s.data)):(Q(""),Z(s.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}ce(Object(h.a)(Object(h.a)({},ie),{},Object(Ae.a)({},e.target.name,e.target.value)))},ge=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:xe,value:ie.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),x.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.targetGroup?Object(le.jsx)("span",{className:t.error,children:n.targetGroup}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Client Code *"}),Object(le.jsx)(Fe.a,{type:"text",name:"clientCode",id:"clientCode",value:ie.clientCode,onChange:xe,disabled:""!==e.clientCode&&null!==e.clientCode,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.clientCode?Object(le.jsx)("span",{className:t.error,children:n.clientCode}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Referred From *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),w.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.referredFrom?Object(le.jsx)("span",{className:t.error,children:n.referredFrom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Setting*"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:ie.testingSetting,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),C.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.testingSetting?Object(le.jsx)("span",{className:t.error,children:n.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"dateVisit",id:"dateVisit",value:ie.dateVisit,onChange:xe,min:ie.dateOfRegistration,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.dateVisit?Object(le.jsx)("span",{className:t.error,children:n.dateVisit}):""]})}),ie.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Number of Children ","<5"," years"]}),Object(le.jsx)(Fe.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:ie.numChildren,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),ie.age>9&&"Male"===ie.sex&&5!==ie.maritalStatusId&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Number of wives/co-wives"}),Object(le.jsx)(Fe.a,{type:"number",name:"numWives",id:"numWives",min:0,value:ie.numWives,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Testing"}),Object(le.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:ie.indexClient,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.indexClient?Object(le.jsx)("span",{className:t.error,children:n.indexClient}):""]})}),"true"===ie.indexClient&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship of the index client"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:ie.relationshipWithIndexClient,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),z.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Client Code/ID"}),Object(le.jsx)(Fe.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:ie.indexClientCode,onBlur:function(e){function t(){return(t=Object(Ye.a)(Object(ke.a)().mark((function e(){var t;return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ie.clientCode,e.next=3,g.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(f),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?ae("Client code already exist"):ae("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==te?Object(le.jsx)("span",{className:t.error,children:te}):""]})})]}),"Female"===ie.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Pregnant"}),Object(le.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:ie.pregnant,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),M.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Breast Feeding"}),Object(le.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:ie.breastFeeding,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"First time visit"}),Object(le.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:ie.firstTimeVisit,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.firstTimeVisit?Object(le.jsx)("span",{className:t.error,children:n.firstTimeVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested within the last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:ie.previouslyTested,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.previouslyTested?Object(le.jsx)("span",{className:t.error,children:n.previouslyTested}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Type of Counseling"}),Object(le.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:ie.typeCounseling,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.typeCounseling?Object(le.jsx)("span",{className:t.error,children:n.typeCounseling}):""]})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault();var a={clientCode:ie.clientCode,dateVisit:ie.dateVisit,extra:{},firstTimeVisit:ie.firstTimeVisit,indexClient:ie.indexClient,numChildren:ie.numChildren,numWives:ie.numWives,personId:e.patientObj.personId,hospitalNumber:ie.clientCode,previouslyTested:ie.previouslyTested,referredFrom:ie.referredFrom,targetGroup:ie.targetGroup,testingSetting:ie.testingSetting,typeCounseling:ie.typeCounseling,breastFeeding:ie.breastFeeding,pregnant:ie.pregnant,indexClientCode:ie.indexClientCode,relationshipWithIndexClient:ie.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};q.clientCode=ie.clientCode?"":"This field is required.",q.typeCounseling=ie.typeCounseling?"":"This field is required.",q.testingSetting=ie.testingSetting?"":"This field is required.",q.targetGroup=ie.targetGroup?"":"This field is required.",q.referredFrom=ie.referredFrom?"":"This field is required.",q.previouslyTested=ie.previouslyTested?"":"This field is required.",q.indexClient=ie.indexClient?"":"This field is required.",q.firstTimeVisit=ie.firstTimeVisit?"":"This field is required.",q.dateVisit=ie.dateVisit?"":"This field is required.",i(Object(h.a)({},q)),Object.values(q).every((function(e){return""==e}))?g.a.post("".concat(v,"hts"),a,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){b(!1),e.setPatientObj(t.data),e.patientAge>15?ge("pre-test-counsel","basic"):ge("hiv-test","basic")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})})})]})})]})})})},yt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Tt=function(e){var t=yt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(s.useState)(!1),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(s.useState)({}),u=Object(l.a)(b,2),m=u[0],O=(u[1],Object(h.a)({},m),Object(s.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""})),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(s.useState)({htsClientId:n,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),T=Object(l.a)(y,2),C=T[0],R=(T[1],Object(s.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),S=Object(l.a)(R,2),D=S[0],w=S[1],I=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),P=Object(l.a)(I,2),k=P[0],Y=P[1],A=Object(s.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),H=Object(l.a)(A,2),B=H[0],F=H[1],L=Object(s.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),E=Object(l.a)(L,2),M=E[0],V=E[1];Object(s.useEffect)((function(){e.patientObj&&(w(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),Y(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),N(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),F(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),V(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?Y(Object(h.a)(Object(h.a)({},k),e.patientObj.riskStratificationResponseDto.riskAssessment)):Y(Object(h.a)(Object(h.a)({},k),e.patientObj.riskAssessment)),D.clientPregnant=73===e.patientObj.pregnant?"true":"")}),[e.patientObj]);var W=function(t,a){e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])),e.handleItemClick(t)},_=function(e){w(Object(h.a)(Object(h.a)({},D),{},Object(Ae.a)({},e.target.name,e.target.value)))},z=function(e){Y(Object(h.a)(Object(h.a)({},k),{},Object(Ae.a)({},e.target.name,e.target.value)))},G=Object.values(k).filter((function(e){return"true"===e})),q=function(e){N(Object(h.a)(Object(h.a)({},x),{},Object(Ae.a)({},e.target.name,e.target.value)))},U=Object.values(x).filter((function(e){return"true"===e})),K=function(e){F(Object(h.a)(Object(h.a)({},B),{},Object(Ae.a)({},e.target.name,e.target.value)))},Q=Object.values(B).filter((function(e){return"true"===e})),X=Object(s.useState)(0),J=Object(l.a)(X,2),Z=J[0],$=J[1],ee=function(e){if("true"===e.target.value){var t=Z+1;t>=0&&t<=5&&$(t)}if("false"===e.target.value){var a=Z-1;$(a<=0?0:a)}V(Object(h.a)(Object(h.a)({},M),{},Object(Ae.a)({},e.target.name,e.target.value)))};return console.log(x),Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested HIV negative *"}),Object(le.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:D.previousTestedHIVNegative,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.previousTestedHIVNegative?Object(le.jsx)("span",{className:t.error,children:m.previousTestedHIVNegative}):""]})}),"true"===D.previousTestedHIVNegative&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Time of last HIV Negative test Result"}),Object(le.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:D.timeLastHIVNegativeTestResult,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(le.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(le.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(le.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]}),""!==m.timeLastHIVNegativeTestResult?Object(le.jsx)("span",{className:t.error,children:m.timeLastHIVNegativeTestResult}):""]})}),"Female"===r&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client pregnant "}),Object(le.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:D.clientPregnant,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientPregnant?Object(le.jsx)("span",{className:t.error,children:m.clientPregnant}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about HIV transmission routes "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:D.clientInformHivTransRoutes,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformHivTransRoutes?Object(le.jsx)("span",{className:t.error,children:m.clientInformHivTransRoutes}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about risk factors for HIV transmission "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:D.clientInformRiskkHivTrans,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformRiskkHivTrans?Object(le.jsx)("span",{className:t.error,children:m.clientInformRiskkHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed on preventing HIV transmission methods "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:D.clientInformPreventingsHivTrans,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformPreventingsHivTrans?Object(le.jsx)("span",{className:t.error,children:m.clientInformPreventingsHivTrans}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about possible test results "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:D.clientInformPossibleTestResult,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.clientInformPossibleTestResult?Object(le.jsx)("span",{className:t.error,children:m.clientInformPossibleTestResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Informed consent for HIV testing given "}),Object(le.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:D.informConsentHivTest,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.informConsentHivTest?Object(le.jsx)("span",{className:t.error,children:m.informConsentHivTest}):""]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Current cough "}),Object(le.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:M.currentCough,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.currentCough?Object(le.jsx)("span",{className:t.error,children:m.currentCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Weight loss "}),Object(le.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:M.weightLoss,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.weightLoss?Object(le.jsx)("span",{className:t.error,children:m.weightLoss}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(le.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:M.lymphadenopathy,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.lymphadenopathy?Object(le.jsx)("span",{className:t.error,children:m.lymphadenopathy}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Fever *"}),Object(le.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:M.fever,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.fever?Object(le.jsx)("span",{className:t.error,children:m.fever}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Night sweats"}),Object(le.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:M.nightSweats,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.nightSweats?Object(le.jsx)("span",{className:t.error,children:m.nightSweats}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(le.jsxs)("b",{children:["Score : ",Z]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Ever had sexual intercourse "}),Object(le.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:k.everHadSexualIntercourse,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.everHadSexualIntercourse?Object(le.jsx)("span",{className:t.error,children:m.everHadSexualIntercourse}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Blood transfusion in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:k.bloodtransInlastThreeMonths,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.bloodtransInlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.bloodtransInlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with casual partner in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:k.uprotectedSexWithCasualLastThreeMonths,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedSexWithCasualLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:k.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedSexWithRegularPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected vaginal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:k.unprotectedVaginalSex,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.unprotectedVaginalSex?Object(le.jsx)("span",{className:t.error,children:m.unprotectedVaginalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:k.uprotectedAnalSex,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:m.uprotectedAnalSex}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"STI in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:k.stiLastThreeMonths,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.stiLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.stiLastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex under the influence of drugs or alcohol"}),Object(le.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:k.sexUnderInfluence,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.sexUnderInfluence?Object(le.jsx)("span",{className:t.error,children:m.sexUnderInfluence}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"More than 1 sex partner during last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:k.moreThanOneSexPartnerLastThreeMonths,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.moreThanOneSexPartnerLastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score : ",G.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:k.experiencePain,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.experiencePain?Object(le.jsx)("span",{className:t.error,children:m.experiencePain}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:k.haveSexWithoutCondom,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.haveSexWithoutCondom?Object(le.jsx)("span",{className:t.error,children:m.haveSexWithoutCondom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  "}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:k.haveCondomBurst,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.haveCondomBurst?Object(le.jsx)("span",{className:t.error,children:m.haveCondomBurst}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:k.abuseDrug,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.abuseDrug?Object(le.jsx)("span",{className:t.error,children:m.abuseDrug}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:k.bloodTransfusion,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.bloodTransfusion?Object(le.jsx)("span",{className:t.error,children:m.bloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:k.consistentWeightFeverNightCough,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.consistentWeightFeverNightCough?Object(le.jsx)("span",{className:t.error,children:m.consistentWeightFeverNightCough}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? "}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:k.soldPaidVaginalSex,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.soldPaidVaginalSex?Object(le.jsx)("span",{className:t.error,children:m.soldPaidVaginalSex}):""]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score :",G.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(le.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:x.sexPartnerHivPositive,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.sexPartnerHivPositive?Object(le.jsx)("span",{className:t.error,children:m.sexPartnerHivPositive}):""]})}),"true"===x.sexPartnerHivPositive&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?"}),Object(le.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:x.newDiagnosedHivlastThreeMonths,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.newDiagnosedHivlastThreeMonths?Object(le.jsx)("span",{className:t.error,children:m.newDiagnosedHivlastThreeMonths}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:x.currentlyArvForPmtct,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.currentlyArvForPmtct?Object(le.jsx)("span",{className:t.error,children:m.currentlyArvForPmtct}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:x.knowHivPositiveOnArv,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.knowHivPositiveOnArv?Object(le.jsx)("span",{className:t.error,children:m.knowHivPositiveOnArv}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:x.knowHivPositiveAfterLostToFollowUp,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.knowHivPositiveAfterLostToFollowUp?Object(le.jsx)("span",{className:t.error,children:m.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:x.uprotectedAnalSex,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.uprotectedAnalSex?Object(le.jsx)("span",{className:t.error,children:m.uprotectedAnalSex}):""]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(le.jsxs)("b",{children:["Score :",U.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:B.vaginalDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.vaginalDischarge?Object(le.jsx)("span",{className:t.error,children:m.vaginalDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(le.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:B.lowerAbdominalPains,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.lowerAbdominalPains?Object(le.jsx)("span",{className:t.error,children:m.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:B.urethralDischarge,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.urethralDischarge?Object(le.jsx)("span",{className:t.error,children:m.urethralDischarge}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of scrotal swelling and pain"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:B.complaintsOfScrotal,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.complaintsOfScrotal?Object(le.jsx)("span",{className:t.error,children:m.complaintsOfScrotal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:B.complaintsGenitalSore,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==m.complaintsGenitalSore?Object(le.jsx)("span",{className:t.error,children:m.complaintsGenitalSore}):""]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(le.jsxs)("b",{children:["Score :",Q.length]})]}),d?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return W("basic","basic")}}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),C.htsClientId=n,C.knowledgeAssessment=D,C.personId=a,C.riskAssessment=k,C.stiScreening=B,C.tbScreening=M,C.sexPartnerRiskAssessment=x,g.a.put("".concat(v,"hts/").concat(n,"/pre-test-counseling"),C,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){j(!1),e.setPatientObj(t.data),W("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},Ct=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Rt=function(e){var t=Ct(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(h.a)({},j);console.log(e.patientObj);var m=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",O=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(s.useState)(""),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!0),C=Object(l.a)(T,2),R=C[0],S=C[1],D=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ne(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),w=Object(s.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),I=Object(l.a)(w,2),P=I[0],k=(I[1],Object(s.useState)({date:"",result:""})),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=Object(s.useState)({date2:"",result2:""}),F=Object(l.a)(B,2),L=F[0],E=F[1],M=function(e){z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))},V=Object(s.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),W=Object(l.a)(V,2),_=W[0],z=W[1],G=function(e){"No"===e.target.value?(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),X({date:"",result:""}),oe({date:"",result:""}),S(!1)):(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),S(!0))},q=function(e){"No"===e.target.value?(E(Object(h.a)(Object(h.a)({},L),{},Object(Ae.a)({},e.target.name,e.target.value))),ee({date:"",result:""}),ue({date:"",result:""}),S(!1)):(E(Object(h.a)(Object(h.a)({},L),{},Object(Ae.a)({},e.target.name,e.target.value))),S(!0))},U=Object(s.useState)({date:"",result:""}),K=Object(l.a)(U,2),Q=K[0],X=K[1],J=Object(s.useState)({date2:"",result2:""}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=function(e){X(Object(h.a)(Object(h.a)({},Q),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===A.result&&e.target.value,S(!0)},ae=function(e){ee(Object(h.a)(Object(h.a)({},$),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===L.result2&&e.target.value,S(!0)},se=Object(s.useState)({date:"",result:""}),ie=Object(l.a)(se,2),ce=ie[0],oe=ie[1],de=Object(s.useState)({date2:"",result2:""}),je=Object(l.a)(de,2),be=je[0],ue=je[1],Oe=function(e){oe(Object(h.a)(Object(h.a)({},ce),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===Q.result&&"Yes"===e.target.value?S(!0):"No"===Q.result&&"No"===e.target.value?S(!1):S(!0)},pe=function(e){ue(Object(h.a)(Object(h.a)({},be),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===$.result2&&"Yes"===e.target.value?S(!0):"No"===$.result2&&"No"===e.target.value?S(!1):S(!0)},xe=Object(s.useState)({syphilisTestResult:""}),ge=Object(l.a)(xe,2),fe=ge[0],ve=ge[1],Ne=Object(s.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),ye=Object(l.a)(Ne,2),Te=ye[0],Ce=ye[1],Re=function(e){Ce(Object(h.a)(Object(h.a)({},Te),{},Object(Ae.a)({},e.target.name,e.target.value)))},Se=Object(s.useState)({longitude:"",latitude:"",adhocCode:""}),we=Object(l.a)(Se,2),Ie=we[0],ke=we[1];Object(s.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?y(e.patientObj.dateVisit):y(""),z(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),H(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),X(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),oe(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),ve(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),Ce(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),ke(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),E(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),ee(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),ue(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}))}),[e.patientObj]);var Ye=function(e){ke(Object(h.a)(Object(h.a)({},Ie),{},Object(Ae.a)({},e.target.name,e.target.value)))},Le=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),Object(le.jsx)("h4",{children:"Initial Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:A.date,onChange:G,min:""!==N&&null!==N?N:"",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(le.jsx)("span",{className:t.error,children:j.date}):""]})}),A.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:A.result,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===A.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(le.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===A.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:Q.date,onChange:te,min:A.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(le.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),Q.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:Q.result,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===Q.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===Q.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:ce.date,onChange:Oe,min:Q.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),ce.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:ce.result,onChange:Oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ce.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group  col-md-12",children:["No"===A.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===A.result&&"No"===Q.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===A.result&&"Yes"===Q.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:L.date2,onChange:q,min:Q.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:L.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===L.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===L.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:L.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:pe,min:$.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===Q.result&&"Yes"===ce.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:L.date2,onChange:q,min:ce.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:L.result2,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===L.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===L.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:$.date2,onChange:ae,min:L.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:$.result2,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===$.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:be.date2,onChange:pe,min:$.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:be.result2,onChange:pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===be.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===Q.result&&"No"===ce.result&&("Yes"===A.result||"Yes"===A.result||""===A.result)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===L.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===L.result2&&"No"===$.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===L.result2&&"Yes"===$.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{})]}),"No"===$.result2&&"Yes"===be.result2&&Object(le.jsx)(re.a,{color:"red",children:"Positive"}),"No"===$.result2&&"No"===be.result2&&("Yes"===L.result2||"Yes"===L.result2||""===L.result2)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"})]})}),R&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count "}),Object(le.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:_.cd4Count,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===_.cd4Count&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count Value"}),Object(le.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:_.cd4SemiQuantitative,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"<200",children:"<200"}),Object(le.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===_.cd4Count&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"CD4 Count Value"}),Object(le.jsx)(Fe.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:_.cd4FlowCyteometry,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-7"})]}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result "}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:fe.syphilisTestResult,onChange:function(e){ve(Object(h.a)(Object(h.a)({},fe),{},Object(Ae.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:Te.hepatitisBTestResult,onChange:Re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:Te.hepatitisCTestResult,onChange:Re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",value:Ie.longitude,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",value:Ie.latitude,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Ie.adhocCode,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Le("basic","basic")}})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Le("pre-test-counsel","pre-test-counsel")}})}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==A.date&&(u.date=A.result?"":"This field is required."),b(Object(h.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===L.result2?P.hivTestResult2="Negative":"Yes"===L.result2&&"Yes"===$.result2||"No"===$.result2&&"Yes"===be.result2?P.hivTestResult2="Positive":"No"===$.result2&&"No"===be.result2?P.hivTestResult2="Negative":P.hivTestResult2="","No"===A.result?P.hivTestResult="Negative":"Yes"===A.result&&"Yes"===Q.result||"No"===Q.result&&"Yes"===ce.result?P.hivTestResult="Positive":"No"===Q.result&&"No"===ce.result?P.hivTestResult="Negative":P.hivTestResult="",P.htsClientId=O,P.confirmatoryTest=Q,P.confirmatoryTest2=$,P.personId=m,P.test1=A,P.test2=L,P.tieBreakerTest=ce,P.tieBreakerTest2=be,P.syphilisTesting=fe,P.hepatitisTesting=Te,P.cd4=_,P.others=Ie,g.a.put("".concat(v,"hts/").concat(O,"/request-result"),P,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){i(!1),e.setPatientObj(t.data),Le("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})},St=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Dt=function(e){var t=St(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=(d[1],Object(s.useState)([])),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(s.useState)([]),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!0),C=Object(l.a)(T,2),R=C[0],S=C[1],D=Object(s.useState)([]),w=Object(l.a)(D,2),I=w[0],P=w[1],k=Object(s.useState)([]),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=Object(s.useState)(""),F=Object(l.a)(B,2),L=F[0],E=F[1],M=Object(s.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),V=Object(l.a)(M,2),W=(V[0],V[1],Object(s.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""})),_=Object(l.a)(W,2),z=_[0],G=_[1];Object(s.useEffect)((function(){q(),Q(),U(),K(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?E(e.patientObj.dateVisit):E(""))}),[e.patientObj]);var q=function(){g.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){O(e.data)})).catch((function(e){}))},U=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){P(e.data)})).catch((function(e){}))},K=function(){g.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){H(e.data)})).catch((function(e){}))},Q=function(){g.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){y(e.data)})).catch((function(e){}))},X=function(t){e.handleIClickPage(t)},J=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var s=ee(e.target.value);G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,s)))}G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,e.target.value)))},Z=function(e){"Actual"==e.target.value?(z.isDateOfBirthEstimated=!1,S(!0)):"Estimated"==e.target.value&&(z.isDateOfBirthEstimated=!0,S(!1))},$=function(e,t){G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},t,e.slice(0,10))))},ee=function(e){return e.replace(/[^a-z]/gi,"")};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return X("list")},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"First Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",value:z.firstName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"middleName",id:"middleName",value:z.middleName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Last Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"lastName",id:"lastName",value:z.lastName,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return Z(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ne(new Date).format("YYYY-MM-DD"),value:z.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,z.age=s}else G(Object(h.a)(Object(h.a)({},z),{},{age:""}));G(Object(h.a)(Object(h.a)({},z),{},Object(Ae.a)({},e.target.name,e.target.value))),G(Object(h.a)(Object(h.a)({},z),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:z.age,disabled:R,onChange:function(e){if(!R&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");G(Object(h.a)(Object(h.a)({},z),{},{dob:ne(a).format("YYYY-MM-DD")})),z.dob=ne(a).format("YYYY-MM-DD")}G(Object(h.a)(Object(h.a)({},z),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:z.phoneNumber,onChange:function(e){$(e,"phoneNumber")}}),""!==j.phoneNumber?Object(le.jsx)("span",{className:t.error,children:j.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Alternative Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:z.altPhoneNumber,onChange:function(e){$(e,"altPhoneNumber")}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:z.sex,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Address"}),Object(le.jsx)(Fe.a,{type:"text",name:"address",id:"address",value:z.address,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Hang-out spots"}),Object(le.jsx)(Fe.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:z.hangOutSpots,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship to Index Client *"}),Object(le.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:z.relativeToIndexClient,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),I.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you currently live with this partner? *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:z.currentlyLiveWithPartner,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:z.partnerTestedPositive,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:z.physicalHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:z.threatenToHurt,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:z.sexuallyUncomfortable,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Notification Method selected*"}),Object(le.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:z.notificationMethod,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),N.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(le.jsx)(Fe.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:z.datePartnerCameForTesting,onChange:J,min:L,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.datePartnerComeForTesting?Object(le.jsx)("span",{className:t.error,children:j.datePartnerComeForTesting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Offered INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:z.offeredIns,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Accepted INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:z.acceptedIns,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),z.isDateOfBirthEstimated=1==z.isDateOfBirthEstimated?1:0,g.a.post("".concat(v,"index-elicitation"),z,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),X("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}})})})]})})]})})})},wt={Add:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},It=(Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ye.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(le.jsxs)("div",{children:[Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:wt,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(ie()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(le.jsx)(le.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),Pt=function(e){var t=Object(s.useState)("list"),a=Object(l.a)(t,2),r=a[0],n=a[1],i=function(e){n(e)};return Object(le.jsx)(s.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsxs)(j.a,{md:12,children:["list"===r&&Object(le.jsx)(It,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),"add"===r&&Object(le.jsx)(Dt,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){e.setActivePage(Object(h.a)(Object(h.a)({},e.activePage),{},{activePage:"home"}))}})})})]})})})},kt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Yt=function(e){var t=kt(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=(r[1],Object(s.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Completed By"}),Object(le.jsx)(Fe.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ee.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)(tt.a,{}),onClick:function(){return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])));var t,a},style:{backgroundColor:"#014d88"},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},At=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ht=function(e){var t=At(),a=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(s.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1];console.log(e.patientObj);var u=Object(s.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),m=Object(l.a)(u,2),O=m[0],p=(m[1],Object(s.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1];Object(s.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?y(e.patientObj.postTestCounselingKnowledgeAssessment):""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(N.hivTestResult="false",y(Object(h.a)(Object(h.a)({},N),{},{hivTestResult:"true"}))):(N.hivTestResult="true",y(Object(h.a)(Object(h.a)({},N),{},{hivTestResult:"true"})))}),[e.patientObj,N.hivTestResult]);var T=function(e){y(Object(h.a)(Object(h.a)({},N),{},Object(Ae.a)({},e.target.name,e.target.value)))},C=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},R=function(t){t.preventDefault(),Object.values(N).every((function(e){return""===e}))?o.b.error("All post test fields are required"):(O.htsClientId=e.patientObj.id,O.postTestCounselingKnowledgeAssessment=N,O.personId=e.patientObj.personResponseDto.id,g.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),O,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?C("recency-testing","post-test"):"false"===N.hivTestResult&&a.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Positive"}),Object(le.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you been tested for HIV before within this year? "}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(le.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(le.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(le.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form signed by tester "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client received HIV test result "}),Object(le.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test counseling done "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Risk reduction plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test disclosure plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Will bring partner(s) for HIV testing "}),Object(le.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(le.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Provided with information on FP and dual contraception "}),Object(le.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Correct condom use demonstrated "}),Object(le.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Condoms provided to client "}),Object(le.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client referred to other services "}),Object(le.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)(ze.a,{success:!0,children:Object(le.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return C("hiv-test","hiv-test")}}),"true"===N.hivTestResult&&Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R}),"false"===N.hivTestResult&&Object(le.jsx)(De.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R})]})})]})})]})})})},Bt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ft=function(e){var t=Bt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(s.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(s.useState)({}),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(s.useState)(""),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(h.a)({},u),T=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},C=Object(s.useState)({htsClientId:r,recency:{},personId:a}),R=Object(l.a)(C,2),S=R[0],D=(R[1],Object(s.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),w=Object(l.a)(D,2),I=w[0],P=w[1];Object(s.useEffect)((function(){e.patientObj&&(P(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Recent")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Invalid")))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine,e.patientObj]);var k=function(e){if(m(Object(h.a)(Object(h.a)({},y),{},Object(Ae.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=Y(e.target.value);P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,t)))}else P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))},Y=function(e){return e.slice(0,10)};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"RECENCY FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Opt Out of RTRI?*"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Name *"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Asante",children:"Asante"}),Object(le.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Date *"}),Object(le.jsx)(Fe.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency ID *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Control Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Verification Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Long Term Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency Interpretation *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has viral load request been made? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Viral Load Classification :"}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Collected Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:I.sampleCollectedDate,min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Refernce Number"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(le.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Type"}),Object(le.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"DBS",children:"DBS"}),Object(le.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(le.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Sample Sent to PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,value:I.dateSampleSentToPCRLab,max:ne(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(le.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Test Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Receiving PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(le.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(le.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(le.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(le.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Final Recency Result"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),Object(le.jsx)(De.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),S.htsClientId=r,S.recency=I,S.personId=a,"true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),m(Object(h.a)({},y)),Object.values(y).every((function(e){return""==e}))&&g.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},Lt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Et=function(e){var t=Lt();Object(c.g)();console.log(e);var a,n=Object(s.useState)([]),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(s.useState)([]),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(s.useState)({}),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!1),C=Object(l.a)(T,2),R=(C[0],C[1]),S=Object(h.a)({},N),D=r.a.useState(!1),w=Object(l.a)(D,2),I=w[0],P=w[1],k=function(){return P(!I)},Y=Object(s.useState)([]),A=Object(l.a)(Y,2),H=A[0],B=A[1],F=Object(s.useState)(0),L=Object(l.a)(F,2),E=L[0],M=L[1],V=Object(s.useState)({age:e.patientAge,dob:e.patientObj.personResponseDto.dateOfBirth,visitDate:"",dateOfBirth:e.patientObj.personResponseDto.dateOfBirth,dateOfRegistration:e.patientObj.personResponseDto.dateOfRegistration,isDateOfBirthEstimated:e.patientObj.personResponseDto.isDateOfBirthEstimated,targetGroup:"",testingSetting:"",modality:"",code:"",personId:e.patientObj.personId,riskAssessment:{},entryPoint:""}),W=Object(l.a)(V,2),_=W[0],z=W[1],G=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:"",lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),q=Object(l.a)(G,2),U=q[0],K=q[1];Object(s.useEffect)((function(){X(),Q()}),[e.patientObj]);var Q=function(){g.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){j(e.data)})).catch((function(e){}))},X=function(){g.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){O(e.data)})).catch((function(e){}))},J=function(e){y(Object(h.a)(Object(h.a)({},S),{},Object(Ae.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;g.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){B(e.data)})).catch((function(e){}))}(e.target.value),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(M(1),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(M(1),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(M(1),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))):(M(0),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value))))),z(Object(h.a)(Object(h.a)({},_),{},Object(Ae.a)({},e.target.name,e.target.value)))};var Z=function(){return S.dateVisit=_.visitDate?"":"This field is required.",S.testingSetting=_.testingSetting?"":"This field is required.",S.entryPoint=_.entryPoint?"":"This field is required.",S.modality=_.modality?"":"This field is required.",e.patientAge>15&&(S.targetGroup=_.targetGroup?"":"This field is required."),y(Object(h.a)({},S)),Object.values(S).every((function(e){return""==e}))},$=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},ee=Object.values(U);a=ee.filter((function(e){return"true"===e}));var te=function(e){K(Object(h.a)(Object(h.a)({},U),{},Object(Ae.a)({},e.target.name,e.target.value)))};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Entry Point "}),Object(le.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:_.entryPoint,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Object(le.jsx)("option",{value:"Facility",children:"Facility"}),Object(le.jsx)("option",{value:"Community",children:"Community"})]}),""!==N.entryPoint?Object(le.jsx)("span",{className:t.error,children:N.entryPoint}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Visit Date * "}),Object(le.jsx)(Fe.a,{type:"date",name:"visitDate",id:"visitDate",value:_.visitDate,onChange:J,min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==N.dateVisit?Object(le.jsx)("span",{className:t.error,children:N.dateVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Setting"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:_.testingSetting,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),d.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==N.testingSetting?Object(le.jsx)("span",{className:t.error,children:N.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-6",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Modality"}),Object(le.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:_.modality,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),H.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==N.modality?Object(le.jsx)("span",{className:t.error,children:N.modality}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:J,value:_.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==N.targetGroup?Object(le.jsx)("span",{className:t.error,children:N.targetGroup}):""]})}),Object(le.jsx)("br",{}),e.patientAge>15&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider\u2019s  request? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:U.lastHivTestBasedOnRequest,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestBasedOnRequest?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestBasedOnRequest}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"When was your last HIV test done?  "}),Object(le.jsx)("input",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",type:"date",value:U.lastHivTestDone,onChange:te,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==N.lastHivTestDone?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestDone}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"What was the result? *"}),Object(le.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:U.whatWasTheResult,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Positive",children:"Positive"}),Object(le.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==N.whatWasTheResult?Object(le.jsx)("span",{className:t.error,children:N.whatWasTheResult}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:U.lastHivTestVaginalOral,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestVaginalOral?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestVaginalOral}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:U.lastHivTestBloodTransfusion,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestBloodTransfusion?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestBloodTransfusion}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:U.lastHivTestPainfulUrination,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestPainfulUrination?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestPainfulUrination}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? "}),Object(le.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:U.diagnosedWithTb,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.diagnosedWithTb?Object(le.jsx)("span",{className:t.error,children:N.diagnosedWithTb}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:U.lastHivTestInjectedDrugs,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestInjectedDrugs?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestInjectedDrugs}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:U.lastHivTestHadAnal,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestHadAnal?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestHadAnal}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Since your last HIV test, have you been forced to have sex? "}),Object(le.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:U.lastHivTestForceToHaveSex,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]}),""!==N.lastHivTestForceToHaveSex?Object(le.jsx)("span",{className:t.error,children:N.lastHivTestForceToHaveSex}):""]})}),Object(le.jsx)("br",{})]}),Object(le.jsx)("br",{}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score "}),Object(le.jsxs)("b",{children:["Score :",E+(e.patientAge>15?a.length:0)]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),e.patientObj.targetGroup=_.targetGroup,e.patientObj.testingSetting=_.testingSetting,e.patientObj.dateVisit=_.visitDate,e.patientObj.riskAssessment=U,_.riskAssessment=U,(E>0||a.length>0)&&e.patientAge>15&&(Z()?g.a.post("".concat(v,"risk-stratification"),_,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){R(!1),_.code=t.data.code,e.setExtra(_),$("basic","risk"),e.setHideOtherMenu(!1)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})),e.patientAge<15?Z()?g.a.post("".concat(v,"risk-stratification"),_,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){R(!1),e.patientObj.riskStratificationResponseDto=t.data,_.code=t.data.code,e.setExtra(_),e.setHideOtherMenu(!1),$("basic","risk")})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...")})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setExtra(_),Z()?g.a.post("".concat(v,"risk-stratification"),_,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){R(!1),e.patientObj.riskStratificationResponseDto=t.data,_.code=t.data.code,e.setExtra(_)})).catch((function(e){if(R(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))}})})})]})})]})}),Object(le.jsxs)(Me.a,{show:I,toggle:k,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(le.jsx)(Me.a.Header,{children:Object(le.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(Me.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(Me.a.Footer,{children:Object(le.jsx)(De.a,{onClick:k,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},Mt=Object($.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Vt=function(e){Mt(),Object(c.g)();var t=Object(c.h)().state;console.log(e);var a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=(r[0],r[1],Object(s.useState)("risk")),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(s.useState)([]),u=Object(l.a)(b,2),m=u[0],h=u[1],O=Object(s.useState)(!0),p=Object(l.a)(O,2),x=p[0],g=p[1],f=Object(s.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:"",personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),v=Object(l.a)(f,2),N=v[0],y=v[1],T=Object(s.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),C=Object(l.a)(T,2),R=C[0],S=C[1],D=function(e){j(e)};return Object(s.useEffect)((function(){t&&t.patientObj&&y(t.patientObject)}),[]),Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(we.a,{children:Object(le.jsx)(me.a,{children:Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h3",{children:"HIV COUNSELLING AND TESTING"}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(le.jsxs)(Ie.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"risk"===d,onClick:function(){return D("risk")},style:{backgroundColor:"risk"===d?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Risk Stratification",m.includes("risk")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),!1===x&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"basic"===d,onClick:function(){return D("basic")},style:{backgroundColor:"basic"===d?"#000":""},disabled:"basic"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",m.includes("basic")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),e.patientAge>=15&&Object(le.jsx)(Ie.a.Item,{name:"spam",active:"pre-test-counsel"===d,onClick:function(){return D("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===d?"#000":""},disabled:"pre-test-counsel"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",m.includes("pre-test-counsel")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"hiv-test"===d,onClick:function(){return D("hiv-test")},style:{backgroundColor:"hiv-test"===d?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",m.includes("hiv-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"post-test"===d,onClick:function(){return D("post-test")},style:{backgroundColor:"post-test"===d?"#000":""},disabled:"post-test"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",m.includes("post-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"recency-testing"===d,onClick:function(){return D("recency-testing")},style:{backgroundColor:"recency-testing"===d?"#000":""},disabled:"recency-testing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",m.includes("recency-testing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"indexing"===d,onClick:function(){return D("indexing")},style:{backgroundColor:"indexing"===d?"#000":""},disabled:"indexing"!==d,children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",m.includes("indexing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})})]})]})}),Object(le.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===d&&Object(le.jsx)(Et,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,setHideOtherMenu:g,patientAge:e.patientAge,setExtra:S,extra:R,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===d&&Object(le.jsx)(Nt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge,setExtra:S,extra:R}),"pre-test-counsel"===d&&Object(le.jsx)(Tt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge}),"hiv-test"===d&&Object(le.jsx)(Rt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge}),"post-test"===d&&Object(le.jsx)(Ht,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge,patientsHistory:e.patients}),"indexing"===d&&Object(le.jsx)(Pt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge}),"recency-testing"===d&&Object(le.jsx)(Ft,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge}),"others"===d&&Object(le.jsx)(Yt,{handleItemClick:D,setCompleted:h,completed:m,setPatientObj:y,patientObj:N,clientCode:e.clientCode,patientAge:e.patientAge})]})]})})})})]})},Wt={borderRadius:"2px",fontSize:14},_t=function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)(!0),c=Object(l.a)(i,2),o=c[0],h=c[1],O=e.patientObj&&e.patientObj.id?e.patientObj.id:null,p=Object(s.useState)("home"),x=Object(l.a)(p,2),N=x[0],y=x[1];function T(){return C.apply(this,arguments)}function C(){return(C=Object(Ye.a)(Object(ke.a)().mark((function e(){return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),g.a.get("".concat(v,"hts/persons/").concat(O),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){h(!1),n(e.data.htsClientDtoList)})).catch((function(e){h(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(e.patientObject),Object(s.useEffect)((function(){T(),"home"===e.activePage.activePage&&y("home")}),[e.patientObj,e.activePage]),Object(le.jsxs)(s.Fragment,{children:[Object(le.jsx)("br",{}),Object(le.jsx)(d.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:Wt,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:N,onSelect:function(e){return y(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"HTS HISTORY",children:Object(le.jsx)(ft,{patientObj:e.patientObj,activePage:e.activePage,setActivePage:e.setActivePage,clientCode:e.clientCode,patientAge:e.patientAge,patients:T,patientList:r,loading:o})}),e.patientObject&&!0!==e.patientObject.hivPositive&&Object(le.jsx)(m.a,{eventKey:"new",title:"NEW HTS",children:Object(le.jsx)(Vt,{patientObj:e.patientObj,activePage:e.activePage,setActivePage:e.setActivePage,clientCode:e.clientCode,patientAge:e.patientAge,patients:T})})]})})})})})})]})},zt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Gt=function(e){var t=zt(),a=(Object(c.g)(),Object(s.useState)({})),r=Object(l.a)(a,2),n=r[0],i=r[1],d=Object(s.useState)(!1),j=Object(l.a)(d,2),b=(j[0],j[1]),u=Object(s.useState)(!1),m=Object(l.a)(u,2),O=(m[0],m[1],Object(s.useState)([])),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(s.useState)([]),T=Object(l.a)(y,2),C=T[0],R=T[1],S=Object(s.useState)([]),D=Object(l.a)(S,2),w=D[0],I=D[1],P=Object(s.useState)([]),k=Object(l.a)(P,2),Y=(k[0],k[1]),A=Object(s.useState)([]),H=Object(l.a)(A,2),B=H[0],F=H[1],L=Object(s.useState)([]),E=Object(l.a)(L,2),M=E[0],V=E[1],W=Object(s.useState)([]),_=Object(l.a)(W,2),z=_[0],G=_[1],q=Object(h.a)({},n),U=Object(s.useState)({active:!0,clientCode:"",age:"",dob:"",breastFeeding:"",dateVisit:"",firstTimeVisit:null,indexClient:null,numChildren:"",numWives:"",pregnant:"",dateOfBirth:null,dateOfRegistration:null,deceased:!0,deceasedDateTime:null,educationId:"",employmentStatusId:"",facilityId:"",firstName:"",genderId:"",address:"",phoneNumber:"",isDateOfBirthEstimated:"",maritalStatusId:"",organizationId:"",otherName:"",sexId:"",state:null,lga:"",surname:"",previouslyTested:"",referredFrom:"",targetGroup:"",testingSetting:"",typeCounseling:"",relationshipWithIndexClient:"",indexClientCode:""}),K=Object(l.a)(U,2),Q=K[0],X=K[1];Object(s.useEffect)((function(){J(),te(),ae(),se(),ee(),$(),Z(),X(e.patientObj)}),[e.patientObj]);var J=function(){g.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){N(e.data)})).catch((function(e){}))},Z=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){G(e.data)})).catch((function(e){}))},$=function(){g.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){V(e.data)})).catch((function(e){}))},ee=function(){g.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){F(e.data)})).catch((function(e){}))},te=function(){g.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){R(e.data)})).catch((function(e){}))},ae=function(){g.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){I(e.data)})).catch((function(e){}))},se=function(){g.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){Y(e.data)})).catch((function(e){}))},re=function(e){i(Object(h.a)(Object(h.a)({},q),{},Object(Ae.a)({},e.target.name,""))),X(Object(h.a)(Object(h.a)({},Q),{},Object(Ae.a)({},e.target.name,e.target.value)))},ie=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},ce=function(t){if(t.preventDefault(),"update"===e.activePage.actionType){var a={clientCode:Q.clientCode,dateVisit:Q.dateVisit,extra:{},firstTimeVisit:Q.firstTimeVisit,indexClient:Q.indexClient,numChildren:Q.numChildren,numWives:Q.numWives,personId:e.patientObj.personId,hospitalNumber:Q.clientCode,previouslyTested:Q.previouslyTested,referredFrom:Q.referredFrom,targetGroup:Q.targetGroup,testingSetting:Q.testingSetting,typeCounseling:Q.typeCounseling,breastFeeding:Q.breastFeeding,indexClientCode:Q.indexClientCode,pregnant:Q.pregnant,relationshipWithIndexClient:Q.relationshipWithIndexClient};q.clientCode=Q.clientCode?"":"This field is required.",q.typeCounseling=Q.typeCounseling?"":"This field is required.",q.testingSetting=Q.testingSetting?"":"This field is required.",q.targetGroup=""!==Q.targetGroup?"":"This field is required.",q.referredFrom=""!==Q.referredFrom?"":"This field is required.",q.previouslyTested=""!==Q.previouslyTested?"":"This field is required.",q.indexClient=""!==Q.indexClient?"":"This field is required.",q.firstTimeVisit=""!==Q.firstTimeVisit?"":"This field is required.",q.dateVisit=Q.dateVisit?"":"This field is required.",i(Object(h.a)({},q)),Object.values(q).every((function(e){return""==e}))&&g.a.put("".concat(v,"hts/").concat(e.patientObj.id),a,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){b(!1),e.setPatientObj(t.data),o.b.success("HTS Test successful"),e.patientAge>14?ie("pre-test-counsel","basic"):ie("hiv-test","basic")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}"view"===e.activePage.actionType&&(e.patientAge>14?ie("pre-test-counsel","basic"):ie("hiv-test","pre-test-counsel"))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Target Group *"}),Object(le.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:re,value:Q.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),x.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.targetGroup?Object(le.jsx)("span",{className:t.error,children:n.targetGroup}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Client Code *"}),Object(le.jsx)(Fe.a,{type:"number",name:"clientCode",id:"clientCode",value:Q.clientCode,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.clientCode?Object(le.jsx)("span",{className:t.error,children:n.clientCode}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Referred From *"}),Object(le.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",value:Q.referredFrom,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),w.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.referredFrom?Object(le.jsx)("span",{className:t.error,children:n.referredFrom}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Setting*"}),Object(le.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:Q.testingSetting,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),C.map((function(e){return Object(le.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.testingSetting?Object(le.jsx)("span",{className:t.error,children:n.testingSetting}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Visit Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"dateVisit",id:"dateVisit",value:ne(new Date).format("YYYY-MM-DD"),onChange:re,min:Q.dateOfRegistration,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.dateVisit?Object(le.jsx)("span",{className:t.error,children:n.dateVisit}):""]})}),Q.age>9&&"Male"===Q.sex&&5!==Q.maritalStatusId&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Number of wives/co-wives"}),Object(le.jsx)(Fe.a,{type:"number",name:"numWives",id:"numWives",min:0,value:Q.numWives,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Q.age>9&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Number of Children ","<5"," years"]}),Object(le.jsx)(Fe.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:Q.numChildren,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Testing"}),Object(le.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:Q.indexClient,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.indexClient?Object(le.jsx)("span",{className:t.error,children:n.indexClient}):""]})}),"true"===Q.indexClient&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship of the index client"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:Q.relationshipWithIndexClient,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),z.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Index Client Code/ID"}),Object(le.jsx)(Fe.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:Q.indexClientCode,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})})]}),"Female"===Q.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Pregnant"}),Object(le.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:Q.pregnant,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),M.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Breast Feeding"}),Object(le.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:Q.breastFeeding,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"First time visit"}),Object(le.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:Q.firstTimeVisit,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.firstTimeVisit?Object(le.jsx)("span",{className:t.error,children:n.firstTimeVisit}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested within the last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:Q.previouslyTested,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"YES"}),Object(le.jsx)("option",{value:"false",children:"NO"})]}),""!==n.previouslyTested?Object(le.jsx)("span",{className:t.error,children:n.previouslyTested}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Type of Counseling"}),Object(le.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:Q.typeCounseling,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),B.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.typeCounseling?Object(le.jsx)("span",{className:t.error,children:n.typeCounseling}):""]})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:["update"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ce}),"view"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ce})]})})]})})]})})})},qt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ut=function(e){var t=qt(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",i=Object(s.useState)(!1),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(s.useState)({}),u=Object(l.a)(b,2);u[0],u[1];console.log(e.patientObj);var m=function(t,a){e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])),e.handleItemClick(t)},O=Object(s.useState)({htsClientId:r,knowledgeAssessment:{},personId:a,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),p=Object(l.a)(O,2),x=p[0],N=(p[1],Object(s.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),y=Object(l.a)(N,2),T=y[0],C=y[1],R=function(e){C(Object(h.a)(Object(h.a)({},T),{},Object(Ae.a)({},e.target.name,e.target.value)))},S=Object(s.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),D=Object(l.a)(S,2),w=D[0],I=D[1],P=function(e){I(Object(h.a)(Object(h.a)({},w),{},Object(Ae.a)({},e.target.name,e.target.value)))},k=Object.values(w).filter((function(e){return"true"===e})),Y=Object(s.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),A=Object(l.a)(Y,2),H=A[0],B=A[1],F=function(e){B(Object(h.a)(Object(h.a)({},H),{},Object(Ae.a)({},e.target.name,e.target.value))),("false"===H.sexPartnerHivPositive||"sexPartnerHivPositive"===e.target.name&&"false"===e.target.value)&&B({sexPartnerHivPositive:e.target.value,newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""})},L=Object.values(H).filter((function(e){return"true"===e})),E=Object(s.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),M=Object(l.a)(E,2),V=M[0],W=M[1],_=function(e){W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,e.target.value)))},z=Object.values(V).filter((function(e){return"true"===e})),G=Object(s.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),q=Object(l.a)(G,2),U=q[0],K=q[1],Q=function(e){K(Object(h.a)(Object(h.a)({},U),{},Object(Ae.a)({},e.target.name,e.target.value)))},X=Object.values(U).filter((function(e){return"true"===e}));Object(s.useEffect)((function(){C(Object(h.a)(Object(h.a)({},T),e.patientObj.knowledgeAssessment)),I(Object(h.a)(Object(h.a)({},w),e.patientObj.riskAssessment)),W(Object(h.a)(Object(h.a)({},V),e.patientObj.stiScreening)),K(Object(h.a)(Object(h.a)({},U),e.patientObj.tbScreening)),B(Object(h.a)(Object(h.a)({},H),e.patientObj.sexPartnerRiskAssessment))}),[e.patientObj]);var J=function(t){t.preventDefault(),"view"===e.activePage.actionType&&m("hiv-test","pre-test-counsel"),"update"===e.activePage.actionType&&(x.htsClientId=r,x.knowledgeAssessment=T,x.personId=a,x.riskAssessment=w,x.stiScreening=V,x.tbScreening=U,x.sexPartnerRiskAssessment=H,g.a.put("".concat(v,"hts/").concat(r,"/pre-test-counseling"),x,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){j(!1),e.setPatientObj(e&&e.patientObj?e.patientObj:""),m("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Previously tested HIV negative "}),Object(le.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:T.previousTestedHIVNegative,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"false"===T.previousTestedHIVNegative&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Time of last HIV Negative test Result"}),Object(le.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:T.timeLastHIVNegativeTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(le.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(le.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(le.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]})]})}),"Female"===n&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client pregnant "}),Object(le.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:T.clientPregnant,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about HIV transmission routes "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:T.clientInformHivTransRoutes,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about risk factors for HIV transmission "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:T.clientInformRiskkHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed on preventing HIV transmission methods "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:T.clientInformPreventingsHivTrans,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client informed about possible test results "}),Object(le.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:T.clientInformPossibleTestResult,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Informed consent for HIV testing given "}),Object(le.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:T.informConsentHivTest,onChange:R,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Current cough "}),Object(le.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:U.currentCough,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Weight loss "}),Object(le.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:U.weightLoss,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(le.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:U.lymphadenopathy,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Fever "}),Object(le.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:U.fever,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Night sweats"}),Object(le.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:U.nightSweats,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(le.jsxs)("b",{children:["Score : ",X.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Ever had sexual intercourse "}),Object(le.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:w.everHadSexualIntercourse,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Blood transfusion in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:w.bloodtransInlastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with casual partner in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:w.uprotectedSexWithCasualLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected sex with regular partner in the last 3months"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:w.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected vaginal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:w.unprotectedVaginalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:w.uprotectedAnalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"STI in last 3 months "}),Object(le.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:w.stiLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex under the influence of drugs or alcohol"}),Object(le.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:w.sexUnderInfluence,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"More than 1 sex partner during last 3 months"}),Object(le.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:w.moreThanOneSexPartnerLastThreeMonths,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score : ",k.legth]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth?"}),Object(le.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:w.experiencePain,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:w.haveSexWithoutCondom,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had a condom burst with your partner during sexual intercourse?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:w.haveCondomBurst,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind?"}),Object(le.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:w.abuseDrug,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner had any blood or blood product transfusion?"}),Object(le.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:w.bloodTransfusion,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner experienced coughing, weight loss, fever, night sweats consistently?"}),Object(le.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:w.consistentWeightFeverNightCough,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you/partner paid or sold vaginal, anal or oral sex? *"}),Object(le.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:w.soldPaidVaginalSex,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(le.jsxs)("b",{children:["Score :",k.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{})]}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(le.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:H.sexPartnerHivPositive,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===H.sexPartnerHivPositive&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?*"}),Object(le.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:H.newDiagnosedHivlastThreeMonths,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:H.currentlyArvForPmtct,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:H.knowHivPositiveOnArv,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(le.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:H.knowHivPositiveAfterLostToFollowUp,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Unprotected Anal sex"}),Object(le.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:H.uprotectedAnalSex,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 6 answers)"}),Object(le.jsxs)("b",{children:["Score :",L.length]})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj.personResponseDto&&"Female"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:V.vaginalDischarge,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(le.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:V.lowerAbdominalPains,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(le.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:V.urethralDischarge,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Male: Complaints of scrotal swelling and pain"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:V.complaintsOfScrotal,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(le.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:V.complaintsGenitalSore,onChange:_,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})})]}),Object(le.jsxs)(ze.a,{warning:!0,children:[Object(le.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(le.jsxs)("b",{children:["Score :",z.length]})]}),d?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return m("basic","basic")}}),"update"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:J}),"view"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:J})]})})]})})]})})})},Kt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Qt=function(e){var t=Kt(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(h.a)({},j);console.log(e.patientObj);var m=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",O=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(s.useState)(!0),x=Object(l.a)(p,2),N=x[0],y=x[1],T=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ne(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),C=Object(s.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{}}),R=Object(l.a)(C,2),S=R[0],D=(R[1],Object(s.useState)({date:"",result:""})),w=Object(l.a)(D,2),I=w[0],P=w[1],k=Object(s.useState)({date2:"",result2:""}),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=function(e){M(Object(h.a)(Object(h.a)({},E),{},Object(Ae.a)({},e.target.name,e.target.value)))},F=Object(s.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),L=Object(l.a)(F,2),E=L[0],M=L[1],V=function(e){"No"===e.target.value?(P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value))),q({date:"",result:""}),ae({date:"",result:""}),y(!1)):(P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value))),y(!0))},W=function(e){"No"===e.target.value?(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),X({date:"",result:""}),oe({date:"",result:""}),y(!1)):(H(Object(h.a)(Object(h.a)({},A),{},Object(Ae.a)({},e.target.name,e.target.value))),y(!0))},_=Object(s.useState)({date:"",result:""}),z=Object(l.a)(_,2),G=z[0],q=z[1],U=Object(s.useState)({date2:"",result2:""}),K=Object(l.a)(U,2),Q=K[0],X=K[1],J=function(e){q(Object(h.a)(Object(h.a)({},G),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===I.result&&e.target.value,y(!0)},Z=function(e){X(Object(h.a)(Object(h.a)({},Q),{},Object(Ae.a)({},e.target.name,e.target.value))),"Yes"===A.result2&&e.target.value,y(!0)},$=Object(s.useState)({date:"",result:""}),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],se=Object(s.useState)({date2:"",result2:""}),ie=Object(l.a)(se,2),ce=ie[0],oe=ie[1],de=function(e){ae(Object(h.a)(Object(h.a)({},te),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===G.result&&"Yes"===e.target.value?y(!0):"No"===G.result&&"No"===e.target.value?y(!1):y(!0)},je=function(e){oe(Object(h.a)(Object(h.a)({},ce),{},Object(Ae.a)({},e.target.name,e.target.value))),"No"===Q.result2&&"Yes"===e.target.value?y(!0):"No"===Q.result2&&"No"===e.target.value?y(!1):y(!0)},be=Object(s.useState)({syphilisTestResult:""}),ue=Object(l.a)(be,2),Oe=ue[0],pe=ue[1],xe=Object(s.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),ge=Object(l.a)(xe,2),fe=ge[0],ve=ge[1],Ne=function(e){ve(Object(h.a)(Object(h.a)({},fe),{},Object(Ae.a)({},e.target.name,e.target.value)))},ye=Object(s.useState)({longitude:"",latitude:"",adhocCode:""}),Te=Object(l.a)(ye,2),Ce=Te[0],Re=Te[1];Object(s.useEffect)((function(){e.patientObj&&(M(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),P(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),q(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),ae(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),pe(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),ve(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),Re(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),H(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),X(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),oe(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}),null!==e.patientObj.hivTestResult&&""!==e.patientObj.hivTestResult&&"Positive"===e.patientObj.hivTestResult?y(!0):y(!1),null!==e.patientObj.hivTestResult2&&""!==e.patientObj.hivTestResult2&&"Positive"===e.patientObj.hivTestResult2?y(!0):y(!1))}),[e.patientObj]);var Se=function(e){Re(Object(h.a)(Object(h.a)({},Ce),{},Object(Ae.a)({},e.target.name,e.target.value)))},we=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},Ie=function(t){t.preventDefault(),""!==I.date&&(u.date=I.result?"":"This field is required."),b(Object(h.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===A.result2?S.hivTestResult2="Negative":"Yes"===A.result2&&"Yes"===Q.result2||"No"===Q.result2&&"Yes"===ce.result2?S.hivTestResult2="Positive":"No"===Q.result2&&"No"===ce.result2?S.hivTestResult2="Negative":S.hivTestResult2="","No"===I.result?S.hivTestResult="Negative":"Yes"===I.result&&"Yes"===G.result||"No"===G.result&&"Yes"===te.result?S.hivTestResult="Positive":"No"===G.result&&"No"===te.result?S.hivTestResult="Negative":S.hivTestResult="","view"===e.activePage.actionType&&we("post-test","hiv-test"),"update"===e.activePage.actionType&&(S.htsClientId=O,S.confirmatoryTest=G,S.confirmatoryTest2=Q,S.personId=m,S.test1=I,S.test2=A,S.tieBreakerTest=te,S.tieBreakerTest2=ce,S.syphilisTesting=Oe,S.hepatitisTesting=fe,S.cd4=E,S.others=Ce,g.a.put("".concat(v,"hts/").concat(O,"/request-result"),S,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){i(!1),e.setPatientObj(t.data),console.log(t.data),we("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),Object(le.jsx)("h4",{children:"Initial Test :"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:I.date,onChange:V,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(le.jsx)("span",{className:t.error,children:j.date}):""]})}),I.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:I.result,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===I.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(le.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===I.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:G.date,onChange:J,min:I.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(le.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),G.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:G.result,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===G.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===G.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date",id:"date",value:te.date,onChange:de,min:G.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),te.date&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result",id:"result",value:te.result,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===te.date,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group  col-md-12",children:["No"===I.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===I.result&&"No"===G.result&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===I.result&&"Yes"===G.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:A.date2,onChange:W,min:G.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:A.result2,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===A.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===A.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:Q.date2,onChange:Z,min:A.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:Q.result2,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===Q.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===Q.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:ce.date2,onChange:je,min:Q.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:ce.result2,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ce.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===G.result&&"Yes"===te.result&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Retesting:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:A.date2,onChange:W,min:te.date,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(le.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result  "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:A.result2,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===A.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(le.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===A.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:Q.date2,onChange:Z,min:A.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:Q.result2,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===Q.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===Q.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:" Date  "}),Object(le.jsx)(Fe.a,{type:"date",name:"date2",id:"date2",value:ce.date2,onChange:je,min:Q.date2,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Result "}),Object(le.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:ce.result2,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ce.date2,children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===G.result&&"No"===te.result&&("Yes"===I.result||"Yes"===I.result||""===I.result)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===A.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"No"===A.result2&&"No"===Q.result2&&Object(le.jsx)(re.a,{color:"green",children:"Negative"}),"Yes"===A.result2&&"Yes"===Q.result2&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{color:"red",children:"Positive"}),Object(le.jsx)("br",{})]}),"No"===Q.result2&&"Yes"===ce.result2&&Object(le.jsx)(re.a,{color:"red",children:"Positive"}),"No"===Q.result2&&"No"===ce.result2&&("Yes"===A.result2||"Yes"===A.result2||""===A.result2)&&Object(le.jsx)(re.a,{color:"green",children:"Negative"})]})}),N&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count "}),Object(le.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:E.cd4Count,onChange:B,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(le.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===E.cd4Count&&Object(le.jsx)("div",{className:"form-group  col-md-5",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"CD4 Count Value"}),Object(le.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:E.cd4SemiQuantitative,onChange:B,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"<200",children:"<200"}),Object(le.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===E.cd4Count&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"CD4 Count Value"}),Object(le.jsx)(Fe.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:E.cd4FlowCyteometry,onChange:B,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-7"})]}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result "}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:Oe.syphilisTestResult,onChange:function(e){pe(Object(h.a)(Object(h.a)({},Oe),{},Object(Ae.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:fe.hepatitisBTestResult,onChange:Ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result "}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:fe.hepatitisCTestResult,onChange:Ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(le.jsx)("br",{})," ",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",value:Ce.longitude,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",value:Ce.latitude,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Ce.adhocCode,onChange:Se,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[T<=15?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return we("basic","basic")}})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return we("pre-test-counsel","pre-test-counsel")}})}),"update"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:Ie}),"view"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:Ie})]})})]})})]})})})},Xt=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Jt=function(e){var t=Xt(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=r[1],c=Object(s.useState)({}),d=Object(l.a)(c,2),j=d[0],b=(d[1],Object(s.useState)([])),u=Object(l.a)(b,2),m=u[0],O=u[1],p=Object(s.useState)([]),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(s.useState)(!0),C=Object(l.a)(T,2),R=C[0],S=C[1],D=Object(s.useState)([]),w=Object(l.a)(D,2),I=w[0],P=w[1],k=Object(s.useState)([]),Y=Object(l.a)(k,2),A=Y[0],H=Y[1],B=Object(s.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),F=Object(l.a)(B,2),L=(F[0],F[1],function(t){e.handleIClickPage(t)}),E=Object(s.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""}),M=Object(l.a)(E,2),V=M[0],W=M[1];Object(s.useEffect)((function(){_(),q(),G(),z()}),[]);var _=function(){g.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){O(e.data)})).catch((function(e){}))},z=function(){g.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){H(e.data)})).catch((function(e){}))},G=function(){g.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){P(e.data)})).catch((function(e){}))},q=function(){g.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){y(e.data)})).catch((function(e){}))},U=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=X(e.target.value);W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=X(e.target.value);W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var s=X(e.target.value);W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,s)))}W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,e.target.value)))},K=function(e){"Actual"==e.target.value?(V.isDateOfBirthEstimated=!1,S(!0)):"Estimated"==e.target.value&&(V.isDateOfBirthEstimated=!0,S(!1))},Q=function(e,t){W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},t,e.slice(0,10))))},X=function(e){return e.replace(/[^a-z]/gi,"")};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return L("list")},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"First Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"firstName",id:"firstName",value:V.firstName,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Middle Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"middleName",id:"middleName",value:V.middleName,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Last Name"}),Object(le.jsx)(Fe.a,{type:"text",name:"lastName",id:"lastName",value:V.lastName,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return K(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return K(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ne(new Date).format("YYYY-MM-DD"),value:V.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),s=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();(r<0||0===r&&t.getDate()<a.getDate())&&s--,V.age=s}else W(Object(h.a)(Object(h.a)({},V),{},{age:""}));W(Object(h.a)(Object(h.a)({},V),{},Object(Ae.a)({},e.target.name,e.target.value))),W(Object(h.a)(Object(h.a)({},V),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:V.age,disabled:R,onChange:function(e){if(!R&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");W(Object(h.a)(Object(h.a)({},V),{},{dob:ne(a).format("YYYY-MM-DD")})),V.dob=ne(a).format("YYYY-MM-DD")}W(Object(h.a)(Object(h.a)({},V),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:V.phoneNumber,onChange:function(e){Q(e,"phoneNumber")}}),""!==j.phoneNumber?Object(le.jsx)("span",{className:t.error,children:j.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Alternative Phone Number"}),Object(le.jsx)(Ee.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:V.altPhoneNumber,onChange:function(e){Q(e,"altPhoneNumber")}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:V.sex,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),m.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Address"}),Object(le.jsx)(Fe.a,{type:"text",name:"address",id:"address",value:V.address,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Hang-out spots"}),Object(le.jsx)(Fe.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:V.hangOutSpots,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Relationship to Index Client *"}),Object(le.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:V.relativeToIndexClient,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),I.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Do you currently live with this partner? *"}),Object(le.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:V.currentlyLiveWithPartner,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:V.partnerTestedPositive,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"As this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:V.physicalHurt,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(le.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:V.threatenToHurt,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:V.sexuallyUncomfortable,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Notification Method selected*"}),Object(le.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:V.notificationMethod,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),N.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(le.jsx)(Fe.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:V.datePartnerCameForTesting,onChange:U,max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==j.datePartnerComeForTesting?Object(le.jsx)("span",{className:t.error,children:j.datePartnerComeForTesting}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Offered INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:V.offeredIns,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Accepted INS ? *"}),Object(le.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:V.acceptedIns,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),A.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),V.isDateOfBirthEstimated=1==V.isDateOfBirthEstimated?1:0,g.a.post("".concat(v,"index-elicitation"),V,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){i(!1),o.b.success("Record save successful"),L("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})})})]})})]})})})},Zt={Add:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(D.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(B.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(L.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(M.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(I.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(A.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(X.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(h.a)(Object(h.a)({},e),{},{ref:t}))}))},$t=(Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ye.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(le.jsxs)("div",{children:[Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(p.a,{icons:Zt,title:"List of index client ",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(ie()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(le.jsx)(le.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),ea=function(e){var t=Object(s.useState)("list"),a=Object(l.a)(t,2),r=a[0],n=a[1],i=function(e){n(e)};return Object(le.jsx)(s.Fragment,{children:Object(le.jsx)(d.a,{children:Object(le.jsxs)(j.a,{md:12,children:["list"===r&&Object(le.jsx)($t,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),"add"===r&&Object(le.jsx)(Jt,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(De.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){var t,a;e.setActivePage(Object(h.a)(Object(h.a)({},e.activePage),{},{activePage:"home",activeObject:t,actionType:a}))}})})})]})})})},ta=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),aa=function(e){var t=ta(),a=Object(s.useState)(!1),r=Object(l.a)(a,2),n=r[0],i=(r[1],Object(s.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Syphilis test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Reactive"}),Object(le.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("br",{}),Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis B virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Hepatitis C virus test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Positive"}),Object(le.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Yes",children:"Yes"}),Object(le.jsx)("option",{value:"No",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Completed By"}),Object(le.jsx)(Fe.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Longitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Latitude"}),Object(le.jsx)(Fe.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{for:"",children:"Adhoc Code"}),Object(le.jsx)(Fe.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsx)(ee.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)(tt.a,{}),onClick:function(){return t="basic",a="others",e.handleItemClick(t),void(e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a])));var t,a},style:{backgroundColor:"#014d88"},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},sa=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ra=function(e){var t=sa(),a=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(s.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(s.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),m=Object(l.a)(u,2),O=m[0],p=(m[1],Object(s.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1],T=function(e){y(Object(h.a)(Object(h.a)({},N),{},Object(Ae.a)({},e.target.name,e.target.value)))},C=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))};Object(s.useEffect)((function(){y(Object(h.a)(Object(h.a)({},N),e.patientObj.postTestCounselingKnowledgeAssessment)),!e.patientObj||"Positive"!==e.patientObj.hivTestResult&&"Positive"===e.patientObj.hivTestResult2||(N.hivTestResult="Positive")}),[e.patientObj]);var R=function(t){t.preventDefault(),"view"===e.activePage.actionType&&C("recency-testing","post-test"),"update"===e.activePage.actionType&&(O.htsClientId=n,O.postTestCounselingKnowledgeAssessment=N,O.personId=r,g.a.put("".concat(v,"hts/").concat(n,"/post-test-counseling"),O,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?C("recency-testing","post-test"):"false"===N.hivTestResult&&a.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV test result *"}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Positive"}),Object(le.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Have you been tested for HIV before within this year? "}),Object(le.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(le.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(le.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(le.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form signed by tester "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(le.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client received HIV test result "}),Object(le.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test counseling done "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Risk reduction plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Post test disclosure plan developed "}),Object(le.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Will bring partner(s) for HIV testing "}),Object(le.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsxs)(Be.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(le.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Provided with information on FP and dual contraception "}),Object(le.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(le.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Correct condom use demonstrated "}),Object(le.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Condoms provided to client "}),Object(le.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Client referred to other services "}),Object(le.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)(ze.a,{success:!0,children:Object(le.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return C("hiv-test","hiv-test")}}),"update"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R}),"view"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:R})]})})]})})]})})})},na=Object($.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ia=function(e){var t=na(),a=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(s.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(s.useState)({}),b=Object(l.a)(j,2),u=b[0],m=b[1],O=Object(s.useState)(""),p=Object(l.a)(O,2),x=p[0],N=p[1],y=Object(h.a)({},u),T=function(t,a){e.handleItemClick(t),e.completed.includes(a)||e.setCompleted([].concat(Object(Pe.a)(e.completed),[a]))},C=Object(s.useState)({htsClientId:r,recency:{},personId:a}),R=Object(l.a)(C,2),S=R[0],D=(R[1],Object(s.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",receivingPcrLab:"",sampleType:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),w=Object(l.a)(D,2),I=w[0],P=w[1],k=function(e){if(m(Object(h.a)(Object(h.a)({},y),{},Object(Ae.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=Y(e.target.value);P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,t)))}else P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},e.target.name,e.target.value)))},Y=function(e){return e.slice(0,10)};Object(s.useEffect)((function(){"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Recent"))),P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"hasViralLoad","true")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","Invalid")))):P(Object(h.a)(Object(h.a)({},I),{},Object(Ae.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine]),Object(s.useEffect)((function(){e.patientObj&&(P(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),P(Object(h.a)({recency:I},e.patientObj.recency))}),[e.patientObj]);var A=function(t){t.preventDefault(),"view"===e.activePage.actionType&&T("indexing","recency-testing"),"update"===e.activePage.actionType&&("true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),m(Object(h.a)({},y)),Object.values(y).every((function(e){return""==e}))&&(S.htsClientId=r,S.recency=I,S.personId=a,g.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(f)}}).then((function(t){d(!1),e.setPatientObj(e&&e.patientObj?e.patientObj:""),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))))};return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(he.a,{className:t.root,children:Object(le.jsxs)(me.a,{children:[Object(le.jsx)("h2",{children:"RECENCY FORM"}),Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)(re.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h5",{style:{color:"#fff"},children:"RENCENCY"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Opt Out of RTRI?*"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Name *"}),Object(le.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"Asante",children:"Asante"}),Object(le.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Test Date *"}),Object(le.jsx)(Fe.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ne(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency ID *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Control Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Verification Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Long Term Line *"}),Object(le.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Recency Interpretation *"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Has viral load request been made? *"}),Object(le.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"true",children:"Yes"}),Object(le.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h4",{children:"Viral Load Classification :"}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Collected Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),value:I.sampleCollectedDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Refernce Number"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(le.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Type"}),Object(le.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsx)("option",{value:"DBS",children:"DBS"}),Object(le.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(le.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Date Sample Sent to PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),value:I.dateSampleSentToPCRLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(le.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Sample Test Date"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ne(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Receiving PCR Lab"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(le.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:""}),Object(le.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(le.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(le.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(le.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(Be.a,{children:"Final Recency Result"}),Object(le.jsx)(Fe.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(le.jsx)(_e.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(le.jsx)(De.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),"update"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:A}),"view"===e.activePage.actionType&&Object(le.jsx)(De.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:A})]})})]})})]})})})},ca=Object($.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),oa=function(e){ca();var t=Object(s.useState)("basic"),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)([]),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(s.useState)(""),u=Object(l.a)(b,2),m=u[0],O=u[1],p=function(e){n(e)};Object(s.useEffect)((function(){var t=e.activePage&&e.activePage.activeObject?e.activePage.activeObject:{};t&&O(t)}),[e.activePage]);return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(we.a,{children:Object(le.jsx)(me.a,{children:Object(le.jsx)("form",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsxs)("h3",{children:["HIV COUNSELLING AND TESTING   -  ",m&&m.dateVisit?m.dateVisit:"",Object(le.jsx)(De.a,{variant:"contained",color:"primary",className:" float-end",style:{backgroundColor:"#014d88"},onClick:function(t,a){e.setActivePage(Object(h.a)(Object(h.a)({},e.activePage),{},{activePage:"home",activeObject:t,actionType:a}))},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})]}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(le.jsxs)(Ie.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"basic"===r,onClick:function(){return p("basic")},style:{backgroundColor:"basic"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",d.includes("basic")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),e.patientAge>14&&Object(le.jsx)(Ie.a.Item,{name:"spam",active:"pre-test-counsel"===r,onClick:function(){return p("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",d.includes("pre-test-counsel")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"inbox",active:"hiv-test"===r,onClick:function(){return p("hiv-test")},style:{backgroundColor:"hiv-test"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",d.includes("hiv-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"post-test"===r,onClick:function(){return p("post-test")},style:{backgroundColor:"post-test"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",d.includes("post-test")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"recency-testing"===r,onClick:function(){return p("recency-testing")},style:{backgroundColor:"recency-testing"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",d.includes("recency-testing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})}),Object(le.jsx)(Ie.a.Item,{name:"spam",active:"indexing"===r,onClick:function(){return p("indexing")},style:{backgroundColor:"indexing"===r?"#000":""},children:Object(le.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",d.includes("indexing")&&Object(le.jsx)(se.a,{name:"check",color:"green"})]})})]})}),Object(le.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["basic"===r&&Object(le.jsx)(Gt,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"pre-test-counsel"===r&&Object(le.jsx)(Ut,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"hiv-test"===r&&Object(le.jsx)(Qt,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"post-test"===r&&Object(le.jsx)(ra,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"indexing"===r&&Object(le.jsx)(ea,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"recency-testing"===r&&Object(le.jsx)(ia,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"others"===r&&Object(le.jsx)(aa,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:O,patientObj:m,activePage:e.activePage,setActivePage:e.setActivePage})]})]})})})})]})};var la=Object(jt.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=Object(c.g)(),a=Object(s.useState)({activePage:"home",activeObject:{},actionType:""}),r=Object(l.a)(a,2),n=r[0],i=r[1],o=e.classes;Object(s.useEffect)((function(){}),[n]);var d=t.location&&t.location.state?t.location.state.patientObject:{},j=t.location&&t.location.state?t.location.state.patientObj:{},b=t.location&&t.location.state?t.location.state.clientCode:"",u=function(e){var t=new Date,a=e.split("-"),s=new Date(+a[2],a[1]-1,+a[0]),r=new Date(s),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i:n}(ie()(j.dateOfBirth).format("DD-MM-YYYY"));return Object(le.jsxs)("div",{className:o.root,children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(N.a,{to:"/",children:"HTS /"})," Patient Dashboard"]})})})}),Object(le.jsx)(bt.a,{children:Object(le.jsxs)(ut.a,{children:[Object(le.jsx)(pt,{patientObj:j,clientCode:b,patientObject:d}),"home"===n.activePage&&Object(le.jsx)(_t,{patientObj:j,activePage:n,setActivePage:i,clientCode:b,patientAge:u,patientObject:d}),"view"===n.activePage&&Object(le.jsx)(oa,{patientObj:j,activePage:n,setActivePage:i,clientCode:b,patientAge:u,patientObject:d})]})})]})}));function da(){return Object(le.jsxs)("div",{children:[Object(le.jsx)(o.a,{}),Object(le.jsxs)(c.d,{children:[Object(le.jsx)(c.b,{path:"/patient-history",children:Object(le.jsx)(la,{})}),Object(le.jsx)(c.b,{path:"/register-patient",children:Object(le.jsx)(dt,{})}),Object(le.jsx)(c.b,{path:"/",children:Object(le.jsx)(Se,{})})]})]})}var ja=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,918)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),r(e),n(e),i(e)}))},ba=a(539),ua="ltr",ma=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:ua},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:ua},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:ua},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:ua},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:ua},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:ua}],ha=Object(s.createContext)(),Oa=function(e){var t=Object(s.useState)({value:"full",label:"Full"}),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)({value:"fixed",label:"Fixed"}),c=Object(l.a)(i,2),o=c[0],d=c[1],j=Object(s.useState)({value:"fixed",label:"Fixed"}),b=Object(l.a)(j,2),u=b[0],m=b[1],h=Object(s.useState)({value:"vertical",label:"Vertical"}),O=Object(l.a)(h,2),p=O[0],x=O[1],g=Object(s.useState)({value:"ltr",label:"LTR"}),f=Object(l.a)(g,2),v=f[0],N=f[1],y=Object(s.useState)("color_1"),T=Object(l.a)(y,2),C=T[0],R=T[1],S=Object(s.useState)("color_1"),D=Object(l.a)(S,2),w=D[0],I=D[1],P=Object(s.useState)("color_1"),k=Object(l.a)(P,2),Y=k[0],A=k[1],H=Object(s.useState)("color_1"),B=Object(l.a)(H,2),F=B[0],L=B[1],E=Object(s.useState)(!1),M=Object(l.a)(E,2),V=M[0],W=M[1],_=Object(s.useState)(!1),z=Object(l.a)(_,2),G=z[0],q=z[1],U=Object(s.useState)({value:"light",label:"Light"}),K=Object(l.a)(U,2),Q=K[0],X=K[1],J=Object(s.useState)({value:"wide-boxed",label:"Wide Boxed"}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=document.querySelector("body"),ae=Object(s.useState)(0),se=Object(l.a)(ae,2),re=se[0],ne=se[1],ie=Object(s.useState)(0),ce=Object(l.a)(ie,2),oe=ce[0],de=ce[1],je=function(e){R(e),te.setAttribute("data-primary",e)},be=function(e){I(e),te.setAttribute("data-nav-headerbg",e)},ue=function(e){A(e),te.setAttribute("data-headerbg",e)},me=function(e){L(e),te.setAttribute("data-sibebarbg",e)},he=function(e){d(e),te.setAttribute("data-sidebar-position",e.value)},Oe=function(e){N(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},pe=function(e){"horizontal"===e.value&&"overlay"===r.value?(x(e),te.setAttribute("data-layout",e.value),n({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(x(e),te.setAttribute("data-layout",e.value))},xe=function(e){"horizontal"===p.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(n(e),W("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},ge=function(e){m(e),te.setAttribute("data-header-position",e.value)},fe=function(e){te.setAttribute("data-theme-version",e.value),X(e)},ve=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&xe({value:"overlay",label:"Overlay"})};return Object(s.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ne(window.innerWidth),de(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(le.jsx)(ha.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:C,navigationHader:w,windowWidth:re,windowHeight:oe,changePrimaryColor:je,changeNavigationHader:be,changeSideBarStyle:xe,sideBarStyle:r,changeSideBarPostion:he,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:ge,headerposition:u,changeSideBarLayout:pe,sidebarLayout:p,changeDirectionLayout:Oe,changeContainerPosition:ve,direction:v,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:Y,chnageHaderColor:ue,chnageSidebarColor:me,sidebarColor:F,iconHover:V,menuToggle:G,openMenuToggle:function(){"overly"===r.value?q(!0):q(!1)},changeBackground:fe,background:Q,containerPosition_:$,setDemoTheme:function(e,t){var a={},s=ma[e];te.setAttribute("data-typography",s.typography),a.value=s.version,fe(a),a.value=s.layout,pe(a),je(s.primary),be(s.navheaderBg),ue(s.headerBg),a.value=s.sidebarStyle,xe(a),me(s.sidebarBg),a.value=s.sidebarPosition,he(a),a.value=s.headerPosition,ge(a),a.value=s.containerLayout,ve(a),a.value=t,Oe(a)}},children:e.children})};i.a.render(Object(le.jsx)(r.a.StrictMode,{children:Object(le.jsx)(ba.a,{children:Object(le.jsx)(c.a,{basename:"/",children:Object(le.jsx)(Oa,{children:Object(le.jsx)(da,{})})})})}),document.getElementById("root")),ja()}},[[667,1,2]]]);
//# sourceMappingURL=main.af753e84.chunk.js.map