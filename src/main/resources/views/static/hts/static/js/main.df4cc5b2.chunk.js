(this.webpackJsonplamisplus=this.webpackJsonplamisplus||[]).push([[0],{569:function(e,t,s){},570:function(e,t,s){},667:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s.n(a),n=s(32),i=s.n(n),c=s(52),o=s(11),l=(s(28),s(569),s(570),s(571),s(7)),d=s(726),j=s(727),b=s(749),u=s(741),h=s(728),O=s(4),m=s(108),p=s.n(m),x=s(12),f=s.n(x),g=new URLSearchParams(window.location.search).get("jwt"),v="/api/v1/",N=(s(60),s(47)),y=s(127),T=s.n(y),R=s(137),C=s.n(R),S=s(128),D=s.n(S),P=s(135),I=s.n(P),w=s(88),k=s.n(w),A=s(87),H=s.n(A),Y=s(129),E=s.n(Y),B=s(130),F=s.n(B),L=s(132),M=s.n(L),_=s(133),V=s.n(_),G=s(134),W=s.n(G),q=s(138),U=s.n(q),z=s(131),K=s.n(z),Q=s(136),X=s.n(Q),J=s(139),Z=s.n(J),$=(s(30),s(416)),ee=s(719),te=s(535),se=(s(263),s(364)),ae=s(15),re=s.n(ae),ne=s(337),ie=s.n(ne),ce=s(1);re.a.locale("en"),ie()();var oe={Add:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(E.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(M.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(V.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(I.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(X.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},le=function(e){var t=Object(a.useState)(!0),s=Object(l.a)(t,2),r=s[0],n=s[1];Object(a.useEffect)((function(){}),[]);var i=function(e){e.target.checked?n(!1):n(!0)};return Object(ce.jsx)("div",{children:Object(ce.jsx)(p.a,{icons:oe,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:r},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Client Code",field:"clientCode",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"HTS Count",field:"count",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:function(e){return new Promise((function(t,s){return f.a.get("".concat(v,"hts/persons?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){return e})).then((function(s){t({data:s.data.records.map((function(e){return{name:e.firstName+" "+e.surname,hospital_number:e.hospitalNumber,clientCode:e.clientCode,gender:e.gender,age:e.age,count:Object(ce.jsx)(se.a,{color:"blue",size:"mini",children:e.htsCount}),actions:Object(ce.jsx)("div",{children:e.htsCount>=0&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(N.a,{to:{pathname:"/patient-history",state:{patientObject:e,patientObj:e,clientCode:e.clientCode}},children:Object(ce.jsxs)(ee.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ce.jsx)($.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)(te.a,{})}),Object(ce.jsx)($.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})})}})),page:e.page,totalCount:s.data.totalRecords})}))}))},options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:function(e){return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==r,onChange:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ce.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ce.jsx)(m.MTableToolbar,Object(O.a)({},e))]})}}})})},de=(s(661),s(723)),je=s(724),be=s(725),ue=s(720),he=s(499),Oe=s(144),me=s.n(Oe),pe=s(266),xe=s.n(pe);me.a.setOptions({colors:me.a.map(me.a.getOptions().colors,(function(e){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,e],[1,me.a.color(e).brighten(-.3).get("rgb")]]}}))});var fe={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Number of Adults and Children currently receiving ART by Age"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",connectorColor:"black"},showInLegend:!0}},series:[{name:"Currently Receiving ART By Age",data:[{name:"25 + ",sliced:!0,y:61.41},{name:"20-24 ",y:11.84},{name:"10-19 ",y:10.85},{name:"\u2264 9 ",y:4.67}]}]},ge={chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:"Total Number Tested by Sex",align:"center",verticalAlign:"middle",y:-160},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-50,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{fontWeight:"bold",color:"white"}},startAngle:-90,endAngle:90,center:["50%","75%"],size:"110%",showInLegend:!0}},series:[{type:"pie",name:"Newly Enrolled on ART ",innerSize:"50%",data:[["Male",58.9],["Female",13.29]]}]},ve=Object(he.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),Ne=function(e){ve();var t=Object(a.useState)(""),s=Object(l.a)(t,2),n=(s[0],s[1],Object(a.useState)(!1)),i=Object(l.a)(n,2),c=(i[0],i[1],Object(a.useState)({activeItem:"gamepad"})),o=Object(l.a)(c,2),d=o[0],j=(o[1],d.activeItem,r.a.useState(null)),b=Object(l.a)(j,2),u=b[0];b[1],Boolean(u);return Object(ce.jsx)("div",{spacing:5,style:{padding:20},children:Object(ce.jsx)(de.a,{children:Object(ce.jsx)(je.a,{md:12,children:Object(ce.jsxs)(de.a,{children:[Object(ce.jsx)(je.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(be.a,{children:Object(ce.jsx)(xe.a,{highcharts:me.a,options:ge})})})}),Object(ce.jsx)(je.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(be.a,{children:Object(ce.jsx)(xe.a,{highcharts:me.a,options:fe})})})})]})})})})},ye=function(){return Object(ce.jsx)(a.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(ce.jsx)("div",{className:"widget-stat card",children:Object(ce.jsx)("div",{className:"card-body p-4",children:Object(ce.jsxs)("div",{className:"media ai-icon",children:[Object(ce.jsx)("span",{className:"me-3 bgl-primary text-danger",children:Object(ce.jsx)("i",{class:"fa fa-user-plus","aria-hidden":"true"})}),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("p",{className:"mb-1",children:"NEWLY TESTED"}),Object(ce.jsx)("h4",{className:"mb-0",children:"3280"})]})]})})})}),Object(ce.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(ce.jsx)("div",{className:"widget-stat card",children:Object(ce.jsx)("div",{className:"card-body p-4",children:Object(ce.jsxs)("div",{className:"media ai-icon",children:[Object(ce.jsx)("span",{className:"me-3 bgl-warning text-warning",children:Object(ce.jsx)("i",{class:"fa fa-heartbeat","aria-hidden":"true"})}),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("p",{className:"mb-1",children:"CURRENT ON ART"}),Object(ce.jsx)("h4",{className:"mb-0",children:"2570"})]})]})})})}),Object(ce.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(ce.jsx)("div",{className:"widget-stat card",children:Object(ce.jsx)("div",{className:"card-body  p-4",children:Object(ce.jsxs)("div",{className:"media ai-icon",children:[Object(ce.jsx)("span",{className:"me-3 bgl-danger text-danger",children:Object(ce.jsx)("i",{class:"fa fa-compress","aria-hidden":"true"})}),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("p",{className:"mb-1",children:"NEWLY POSITIVE"}),Object(ce.jsx)("h4",{className:"mb-0",children:"50"})]})]})})})}),Object(ce.jsx)("div",{className:"col-xl-3 col-md-3 col-lg-3 col-sm-3 col-xs-3",children:Object(ce.jsx)("div",{className:"widget-stat card",children:Object(ce.jsx)("div",{className:"card-body p-4",children:Object(ce.jsxs)("div",{className:"media ai-icon",children:[Object(ce.jsx)("span",{className:"me-3 bgl-success text-success",children:Object(ce.jsx)("i",{class:"fa fa-users","aria-hidden":"true"})}),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("p",{className:"mb-1",children:"CURRENTLY ACTIVE"}),Object(ce.jsx)("h4",{className:"mb-0",children:"2340"})]})]})})})}),Object(ce.jsx)(Ne,{})]})})},Te=s(161),Re={borderRadius:"2px",fontSize:14},Ce=function(){var e=Object(a.useState)("home"),t=Object(l.a)(e,2),s=t[0],r=t[1];return Object(ce.jsxs)(a.Fragment,{children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsx)("h4",{children:"HTS"})})})}),Object(ce.jsx)(N.a,{to:"register-patient",children:Object(ce.jsx)($.a,{variant:"contained",color:"primary",className:"mt-2 mr-3 mb-0 float-end",startIcon:Object(ce.jsx)(Te.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)(d.a,{children:Object(ce.jsx)(j.a,{xl:12,children:Object(ce.jsx)(b.a,{style:Re,children:Object(ce.jsx)(b.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsxs)(u.a,{id:"controlled-tab-example",activeKey:s,onSelect:function(e){return r(e)},className:"mb-3",children:[Object(ce.jsx)(h.a,{eventKey:"home",title:"Find Patients",children:Object(ce.jsx)(le,{})}),Object(ce.jsx)(h.a,{eventKey:"visualization",title:"Data Visualisation ",children:Object(ce.jsx)(ye,{})})]})})})})})})]})},Se=s(744),De=s(733),Pe=(s(40),s(740)),Ie=s(245),we=s(16),ke=s(49),Ae=s(68),He=s(9),Ye=s(729),Ee=s(730),Be=s(731),Fe=s(102),Le=s.n(Fe),Me=s(739),_e=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Ve=function(e){var t=_e(),s=(Object(c.g)(),Object(a.useState)({})),n=Object(l.a)(s,2),i=n[0],d=n[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(!1),p=Object(l.a)(m,2),x=(p[0],p[1],Object(a.useState)([])),N=Object(l.a)(x,2),y=N[0],T=N[1],R=Object(a.useState)([]),C=Object(l.a)(R,2),S=C[0],D=C[1],P=Object(a.useState)([]),I=Object(l.a)(P,2),w=I[0],k=I[1],A=Object(a.useState)([]),H=Object(l.a)(A,2),Y=(H[0],H[1]),E=Object(a.useState)([]),B=Object(l.a)(E,2),F=B[0],L=B[1],M=Object(a.useState)([]),_=Object(l.a)(M,2),V=_[0],G=_[1],W=Object(a.useState)([]),q=Object(l.a)(W,2),U=q[0],z=q[1],K=Object(a.useState)([]),Q=Object(l.a)(K,2),X=Q[0],J=Q[1],Z=Object(a.useState)(!0),$=Object(l.a)(Z,2),ee=$[0],te=$[1],se=Object(a.useState)([]),re=Object(l.a)(se,2),ne=re[0],ie=re[1],oe=Object(a.useState)([]),le=Object(l.a)(oe,2),de=le[0],je=le[1],he=Object(O.a)({},i),Oe=r.a.useState(!1),me=Object(l.a)(Oe,2),pe=me[0],xe=me[1],fe=function(){return xe(!pe)},ge=Object(a.useState)([]),ve=Object(l.a)(ge,2),Ne=ve[0],ye=ve[1],Te=Object(a.useState)(""),Re=Object(l.a)(Te,2),Ce=Re[0],De=Re[1],Pe=Object(a.useState)(""),Ie=Object(l.a)(Pe,2),Fe=Ie[0],Ve=Ie[1],Ge=Object(a.useState)(""),We=Object(l.a)(Ge,2),qe=We[0],Ue=We[1],ze=e.patientObj.personResponseDto.address,Ke=ze&&ze.address&&ze.address.length>0?ze.address[0]:null,Qe=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ae(e.patientObj.personResponseDto.dateOfBirth).format("DD-MM-YYYY")),Xe=Object(a.useState)({active:!0,clientCode:e.patientObj&&e.patientObj.clientCode?e.patientObj.clientCode:"",age:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?Qe:"",dob:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",dateOfBirth:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:"",dateOfRegistration:e.patientObj&&e.patientObj.dateOfRegistration?e.patientObj.dateOfRegistration:"",deceased:"",deceasedDateTime:"",educationId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.educationId?e.patientObj.personResponseDto.educationId:"",employmentStatusId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.employmentStatusId?e.patientObj.personResponseDto.employmentStatusId:"",facilityId:"",firstName:e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.firstName:"",genderId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.genderId?e.patientObj.personResponseDto.genderId:"",address:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.address?function(e){var t=e.address.find((function(e){return e.city}));return t?t.city:""}(e.patientObj.personResponseDto.address):"",phoneNumber:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.contactPoint?function(e){var t=e.contactPoint.find((function(e){return"phone"==e.type}));return t?t.value:""}(e.patientObj.personResponseDto.contactPoint):"",isDateOfBirthEstimated:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.isDateOfBirthEstimated?e.patientObj.personResponseDto.isDateOfBirthEstimated:"",maritalStatusId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.maritalStatus?e.patientObj.personResponseDto.maritalStatus.id:"",organizationId:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.genderId?e.patientObj.personResponseDto.genderId:"",otherName:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.otherName?e.patientObj.personResponseDto.otherName:"",sex:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.sex?e.patientObj.personResponseDto.sex:"",stateId:Ke&&Ke.stateId?Ke.stateId:"",riskAssessment:e.extra&&e.extra.riskAssessment?e.extra.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",lga:Ke&&Ke.district?Ke.district:"",surname:e.patientObj.personResponseDto&&e.patientObj.personResponseDto.surname?e.patientObj.personResponseDto.surname:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:""}),Je=Object(l.a)(Xe,2),Ze=Je[0],$e=Je[1];Object(a.useEffect)((function(){var t;et(),rt(),it(),ct(),lt(),nt(),ot(),at(),st(),tt(),""!==Ze.age&&e.setPatientObjAge(Ze.age),e.extra&&""!==e.extra.age&&e.setPatientObjAge(e.extra.age),Ke&&""!==Ke.stateId&&(t=Ke.stateId,f.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){z(e.data)})).catch((function(e){})))}),[Ze.age,e.patientObj,e.extra.age]);var et=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){T(e.data)})).catch((function(e){}))},tt=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ye(e.data)})).catch((function(e){}))},st=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){je(e.data)})).catch((function(e){}))},at=function(){f.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){ie(e.data)})).catch((function(e){}))},rt=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){D(e.data)})).catch((function(e){}))},nt=function(){f.a.get("".concat(v,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){J(e.data)})).catch((function(e){}))},it=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},ct=function(){f.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){Y(e.data)})).catch((function(e){}))},ot=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){L(e.data)})).catch((function(e){}))},lt=function(){var e;e="1",f.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){G(e.data)})).catch((function(e){})),$e(Object(O.a)(Object(O.a)({},Ze),{},{countryId:1}))};var dt=function(e){if(d(Object(O.a)(Object(O.a)({},he),{},Object(He.a)({},e.target.name,""))),"firstName"===e.target.name&&""!==e.target.value){var t=bt(e.target.value);$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var s=bt(e.target.value);$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},e.target.name,s)))}if("middleName"===e.target.name&&""!==e.target.value){var a=bt(e.target.value);$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},e.target.name,a)))}if("indexClientCode"===e.target.name&&""!==e.target.value){var r=function(){var t=Object(Ae.a)(Object(ke.a)().mark((function t(){var s,a;return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.target.value,t.next=3,f.a.get("".concat(v,"hts/client/").concat(s),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(a=t.sent).data?(Ve(""),De(a.data)):(De(""),Ve(a.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r()}$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},e.target.name,e.target.value)))},jt=function(e){"Actual"==e.target.value?(Ze.isDateOfBirthEstimated=!1,te(!0)):"Estimated"==e.target.value&&(Ze.isDateOfBirthEstimated=!0,te(!1))},bt=function(e){return e.replace(/[^a-z]/gi,"")},ut=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"BASIC INFORMATION - CLIENT INTAKE FORM"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Target Group ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:dt,value:Ze.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0,children:[Object(ce.jsx)("option",{value:""}),y.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==i.targetGroup?Object(ce.jsx)("span",{className:t.error,children:i.targetGroup}):""]})}),Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Client Code ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"text",name:"clientCode",id:"clientCode",value:Ze.clientCode,onBlur:function(e){function t(){return(t=Object(Ae.a)(Object(ke.a)().mark((function e(){var t;return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ze.clientCode,e.next=3,f.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?Ue("Client code already exist"):Ue("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.clientCode?Object(ce.jsx)("span",{className:t.error,children:i.clientCode}):""]}),""!==qe?Object(ce.jsx)("span",{className:t.error,children:qe}):""]})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Referred From ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",value:Ze.referredFrom,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==i.referredFrom?Object(ce.jsx)("span",{className:t.error,children:i.referredFrom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Setting ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:Ze.testingSetting,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),S.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==i.testingSetting?Object(ce.jsx)("span",{className:t.error,children:i.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Visit Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Be.a,{type:"date",name:"dateVisit",id:"dateVisit",value:Ze.dateVisit,onChange:dt,min:"1983-12-31",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.dateVisit?Object(ce.jsx)("span",{className:t.error,children:i.dateVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["First Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"text",name:"firstName",id:"firstName",value:Ze.firstName,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.firstName?Object(ce.jsx)("span",{className:t.error,children:i.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Middle Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"otherName",id:"otherName",value:Ze.otherName,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.otherName?Object(ce.jsx)("span",{className:t.error,children:i.otherName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Last Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"text",name:"surname",id:"surname",value:Ze.surname,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.surname?Object(ce.jsx)("span",{className:t.error,children:i.surname}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return jt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return jt(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:Ze.dateVisit,max:ae(new Date).format("YYYY-MM-DD"),value:Ze.dob,onChange:function(e){if(e.target.value){var t=new Date,s=new Date(e.target.value),a=t.getFullYear()-s.getFullYear(),r=t.getMonth()-s.getMonth();(r<0||0===r&&t.getDate()<s.getDate())&&a--,Ze.age=a}else $e(Object(O.a)(Object(O.a)({},Ze),{},{age:""}));$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},e.target.name,e.target.value))),$e(Object(O.a)(Object(O.a)({},Ze),{},{dob:e.target.value})),""!==Ze.age&&Ze.age>=85&&fe()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:Ze.age,disabled:ee,onChange:function(e){if(!ee&&e.target.value){""!==e.target.value&&e.target.value>=85&&fe();var t=new Date;t.setDate(15),t.setMonth(5);var s=ae(t.toISOString()).add(-1*e.target.value,"years");$e(Object(O.a)(Object(O.a)({},Ze),{},{dob:ae(s).format("YYYY-MM-DD")})),Ze.dob=ae(s).format("YYYY-MM-DD")}$e(Object(O.a)(Object(O.a)({},Ze),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Phone Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:Ze.phoneNumber,onChange:function(e){!function(e,t){$e(Object(O.a)(Object(O.a)({},Ze),{},Object(He.a)({},t,e.slice(0,10))))}(e,"phoneNumber")}}),""!==i.phoneNumber?Object(ce.jsx)("span",{className:t.error,children:i.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["State ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"state",id:"state",onChange:function(e){var t=e.target.value;$e(Object(O.a)(Object(O.a)({},Ze),{},{stateId:e.target.value})),f.a.get("".concat(v,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){z(e.data)})).catch((function(e){}))},value:Ze.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),V.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),""!==i.stateId?Object(ce.jsx)("span",{className:t.error,children:i.stateId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["LGA ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lga",id:"lga",value:Ze.lga,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),U.map((function(e,t){return Object(ce.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==i.lga?Object(ce.jsx)("span",{className:t.error,children:i.lga}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Address ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"textarea",name:"address",id:"address",value:Ze.address,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==i.address?Object(ce.jsx)("span",{className:t.error,children:i.address}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:Ze.sex,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),F.map((function(e){return Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==i.sex?Object(ce.jsx)("span",{className:t.error,children:i.sex}):""]})}),Ze.age>9&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Marital Status"}),Object(ce.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",value:Ze.maritalStatusId,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),X.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Ze.age>9&&"Male"===Ze.sex&&5!==Ze.maritalStatusId&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Number of wives/co-wives"}),Object(ce.jsx)(Be.a,{type:"number",name:"numWives",min:0,id:"numWives",value:Ze.numWives,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Ze.age>9&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Number of Children ","<5"," years"]}),Object(ce.jsx)(Be.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:Ze.numChildren,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Testing"}),Object(ce.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:Ze.indexClient,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==i.indexClient?Object(ce.jsx)("span",{className:t.error,children:i.indexClient}):""]})}),"true"===Ze.indexClient&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship of the index client"}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:Ze.relationshipWithIndexClient,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Ne.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsxs)("div",{className:"form-group  col-md-4",children:[Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Client Code/ID"}),Object(ce.jsx)(Be.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:Ze.indexClientCode,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]}),""!==Fe?Object(ce.jsx)("span",{className:t.error,children:Fe}):"",""!==Ce?Object(ce.jsx)("span",{className:t.success,children:Ce}):""]})]}),"Female"===Ze.sex||"female"===Ze.sex||"FEMALE"===Ze.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Pregnant"}),Object(ce.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:Ze.pregnant,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),de.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),73!==Ze.pregnant||"73"!==Ze.pregnant&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Breast Feeding"}),Object(ce.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:Ze.breastFeeding,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"First time visit"}),Object(ce.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:Ze.firstTimeVisit,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==i.firstTimeVisit?Object(ce.jsx)("span",{className:t.error,children:i.firstTimeVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Previously tested within the last 3 months"}),Object(ce.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:Ze.previouslyTested,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==i.previouslyTested?Object(ce.jsx)("span",{className:t.error,children:i.previouslyTested}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Type of Counseling"}),Object(ce.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:Ze.typeCounseling,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),ne.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==i.typeCounseling?Object(ce.jsx)("span",{className:t.error,children:i.typeCounseling}):""]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return ut("risk","risk")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){if(t.preventDefault(),he.typeCounseling=Ze.typeCounseling?"":"This field is required.",he.testingSetting=Ze.testingSetting?"":"This field is required.",he.targetGroup=Ze.targetGroup?"":"This field is required.",he.referredFrom=Ze.referredFrom?"":"This field is required.",he.previouslyTested=Ze.previouslyTested?"":"This field is required.",he.surname=Ze.surname?"":"This field is required.",he.sex=Ze.sex?"":"This field is required.",he.clientCode=Ze.clientCode?"":"This field is required.",he.phoneNumber=Ze.phoneNumber?"":"This field is required.",he.firstName=Ze.firstName?"":"This field is required.",he.address=Ze.address?"":"This field is required.",he.indexClient=Ze.indexClient?"":"This field is required.",he.firstTimeVisit=Ze.firstTimeVisit?"":"This field is required.",he.dateVisit=Ze.dateVisit?"":"This field is required.",he.dob=Ze.dob?"":"This field is required.",he.age=Ze.age?"":"This field is required.",d(Object(O.a)({},he)),Object.values(he).every((function(e){return""==e}))){h(!0);var s=F.find((function(e){return e.display===Ze.sex})),a={clientCode:Ze.clientCode,dateVisit:Ze.dateVisit,extra:{},firstTimeVisit:Ze.firstTimeVisit,indexClient:Ze.indexClient,numChildren:Ze.numChildren,numWives:Ze.numWives,personDto:{active:!0,address:[{city:Ze.address,countryId:1,district:Ze.lga,line:[""],organisationUnitId:"",postalCode:"",stateId:Ze.stateId}],contact:[],contactPoint:[{type:"phone",value:Ze.phoneNumber}],dateOfBirth:Ze.dob,dateOfRegistration:Ze.dateVisit,deceased:!0,deceasedDateTime:null,educationId:"",employmentStatusId:"",facilityId:"",firstName:Ze.firstName,genderId:s.id,id:"",identifier:[{assignerId:1,type:"HospitalNumber",value:Ze.clientCode}],isDateOfBirthEstimated:Ze.isDateOfBirthEstimated,maritalStatusId:Ze.maritalStatusId,organizationId:"",otherName:Ze.otherName,sexId:s.id,surname:Ze.surname},personId:"",hospitalNumber:Ze.clientCode,previouslyTested:Ze.previouslyTested,referredFrom:Ze.referredFrom,targetGroup:Ze.targetGroup,testingSetting:Ze.testingSetting,typeCounseling:Ze.typeCounseling,breastFeeding:Ze.breastFeeding,indexClientCode:Ze.indexClientCode,pregnant:Ze.pregnant,relationshipWithIndexClient:Ze.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};e.setPatientObj(Object(O.a)(Object(O.a)({},e.patientObj),Ze)),f.a.post("".concat(v,"hts"),a,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){h(!1),e.setPatientObj(t.data),Ze.age>14?ut("pre-test-counsel","basic"):ut("hiv-test","basic")})).catch((function(e){if(h(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))}else o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})},disabled:u})]})})]})})]})}),Object(ce.jsxs)(Me.a,{show:pe,toggle:fe,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(Me.a.Header,{children:Object(ce.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(Me.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(Me.a.Footer,{children:Object(ce.jsx)(Se.a,{onClick:fe,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},Ge=s(732),We=s(742),qe=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ue=function(e){var t=qe(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(a.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(a.useState)({}),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(O.a)({},u),p=Object(a.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""}),x=Object(l.a)(p,2),N=x[0],y=x[1];Object(a.useEffect)((function(){console.log(e.extra.riskAssessment),e.patientObj&&(y(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),F(e.patientObj.riskAssessmentPartner&&null!==e.patientObj.riskAssessmentPartner?e.patientObj.riskAssessmentPartner:{}),W(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),X(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.extra.riskAssessment?(k(e.extra.riskAssessment&&null!==e.extra.riskAssessment?e.extra.riskAssessment:{}),""!==e.extra.riskAssessment.whatWasTheResult&&"Positive"===e.extra.riskAssessment.whatWasTheResult?N.previousTestedHIVNegative="false":N.previousTestedHIVNegative="true"):k(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),N.clientPregnant=73===e.patientObj.pregnant?"true":"")}),[e.patientObj]);var T=function(t,s){e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])),e.handleItemClick(t)},R=Object(a.useState)({htsClientId:r,knowledgeAssessment:{},personId:s,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),C=Object(l.a)(R,2),S=C[0],D=(C[1],function(e){y(Object(O.a)(Object(O.a)({},N),{},Object(He.a)({},e.target.name,e.target.value)))}),P=Object(a.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),I=Object(l.a)(P,2),w=I[0],k=I[1],A=function(e){k(Object(O.a)(Object(O.a)({},w),{},Object(He.a)({},e.target.name,e.target.value)))},H=Object.values(w).filter((function(e){return"true"===e})),Y=Object(a.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),E=Object(l.a)(Y,2),B=E[0],F=E[1],L=function(e){F(Object(O.a)(Object(O.a)({},B),{},Object(He.a)({},e.target.name,e.target.value)))},M=Object.values(B).filter((function(e){return"true"===e})),_=Object(a.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),V=Object(l.a)(_,2),G=V[0],W=V[1],q=function(e){W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,e.target.value)))},U=Object.values(G).filter((function(e){return"true"===e})),z=Object(a.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),K=Object(l.a)(z,2),Q=K[0],X=K[1],J=function(e){X(Object(O.a)(Object(O.a)({},Q),{},Object(He.a)({},e.target.name,e.target.value)))},Z=Object.values(Q).filter((function(e){return"true"===e}));return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Previously tested HIV negative ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:N.previousTestedHIVNegative,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.previousTestedHIVNegative?Object(ce.jsx)("span",{className:t.error,children:u.previousTestedHIVNegative}):""]})}),"true"===N.previousTestedHIVNegative&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Time of last HIV Negative test Result"}),Object(ce.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:N.timeLastHIVNegativeTestResult,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]}),Object(ce.jsx)("option",{value:"Never",children:" Never"})]}),""!==u.timeLastHIVNegativeTestResult?Object(ce.jsx)("span",{className:t.error,children:u.timeLastHIVNegativeTestResult}):""]})}),e.patientObj&&("Female"===e.patientObj.personResponseDto.sex||"female"===e.patientObj.personResponseDto.sex||"FEMALE"===e.patientObj.personResponseDto.sex)&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client pregnant "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:N.clientPregnant,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientPregnant?Object(ce.jsx)("span",{className:t.error,children:u.clientPregnant}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about HIV transmission routes "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:N.clientInformHivTransRoutes,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformHivTransRoutes?Object(ce.jsx)("span",{className:t.error,children:u.clientInformHivTransRoutes}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about risk factors for HIV transmission "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:N.clientInformRiskkHivTrans,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformRiskkHivTrans?Object(ce.jsx)("span",{className:t.error,children:u.clientInformRiskkHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed on preventing HIV transmission methods "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:N.clientInformPreventingsHivTrans,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformPreventingsHivTrans?Object(ce.jsx)("span",{className:t.error,children:u.clientInformPreventingsHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about possible test results "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:N.clientInformPossibleTestResult,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.clientInformPossibleTestResult?Object(ce.jsx)("span",{className:t.error,children:u.clientInformPossibleTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Informed consent for HIV testing given "}),Object(ce.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:N.informConsentHivTest,onChange:D,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.informConsentHivTest?Object(ce.jsx)("span",{className:t.error,children:u.informConsentHivTest}):""]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Current cough "}),Object(ce.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:Q.currentCough,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.currentCough?Object(ce.jsx)("span",{className:t.error,children:u.currentCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Weight loss "}),Object(ce.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:Q.weightLoss,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.weightLoss?Object(ce.jsx)("span",{className:t.error,children:u.weightLoss}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(ce.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:Q.lymphadenopathy,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.lymphadenopathy?Object(ce.jsx)("span",{className:t.error,children:u.lymphadenopathy}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Fever "}),Object(ce.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:Q.fever,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.fever?Object(ce.jsx)("span",{className:t.error,children:u.fever}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Night sweats"}),Object(ce.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:Q.nightSweats,onChange:J,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.nightSweats?Object(ce.jsx)("span",{className:t.error,children:u.nightSweats}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(ce.jsxs)("b",{children:["Score : ",Z.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Ever had sexual intercourse ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:w.everHadSexualIntercourse,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.everHadSexualIntercourse?Object(ce.jsx)("span",{className:t.error,children:u.everHadSexualIntercourse}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Blood transfusion in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:w.bloodtransInlastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.bloodtransInlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.bloodtransInlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with casual partner in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:w.uprotectedSexWithCasualLastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedSexWithCasualLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with regular partner in the last 3months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:w.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedSexWithRegularPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected vaginal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:w.unprotectedVaginalSex,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.unprotectedVaginalSex?Object(ce.jsx)("span",{className:t.error,children:u.unprotectedVaginalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected Anal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:w.uprotectedAnalSex,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:u.uprotectedAnalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["STI in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:w.stiLastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.stiLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.stiLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sex under the influence of drugs or alcohol ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:w.sexUnderInfluence,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.sexUnderInfluence?Object(ce.jsx)("span",{className:t.error,children:u.sexUnderInfluence}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["More than 1 sex partner during last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:w.moreThanOneSexPartnerLastThreeMonths,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.moreThanOneSexPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:" Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score : ",H.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:w.experiencePain,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.experiencePain?Object(ce.jsx)("span",{className:t.error,children:u.experiencePain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:w.haveSexWithoutCondom,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.haveSexWithoutCondom?Object(ce.jsx)("span",{className:t.error,children:u.haveSexWithoutCondom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you had a condom burst with your partner during sexual intercourse? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:w.haveCondomBurst,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.haveCondomBurst?Object(ce.jsx)("span",{className:t.error,children:u.haveCondomBurst}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:w.abuseDrug,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.abuseDrug?Object(ce.jsx)("span",{className:t.error,children:u.abuseDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had any blood or blood product transfusion? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:w.bloodTransfusion,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.bloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:u.bloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner experienced coughing, weight loss, fever, night sweats consistently? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:w.consistentWeightFeverNightCough,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.consistentWeightFeverNightCough?Object(ce.jsx)("span",{className:t.error,children:u.consistentWeightFeverNightCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner paid or sold vaginal, anal or oral sex? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:w.soldPaidVaginalSex,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.soldPaidVaginalSex?Object(ce.jsx)("span",{className:t.error,children:u.soldPaidVaginalSex}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:" HIV Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score :",H.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(ce.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:B.sexPartnerHivPositive,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.sexPartnerHivPositive?Object(ce.jsx)("span",{className:t.error,children:u.sexPartnerHivPositive}):""]})}),"true"===B.sexPartnerHivPositive&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?"}),Object(ce.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:B.newDiagnosedHivlastThreeMonths,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.newDiagnosedHivlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:u.newDiagnosedHivlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:B.currentlyArvForPmtct,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.currentlyArvForPmtct?Object(ce.jsx)("span",{className:t.error,children:u.currentlyArvForPmtct}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:B.knowHivPositiveOnArv,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.knowHivPositiveOnArv?Object(ce.jsx)("span",{className:t.error,children:u.knowHivPositiveOnArv}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:B.knowHivPositiveAfterLostToFollowUp,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.knowHivPositiveAfterLostToFollowUp?Object(ce.jsx)("span",{className:t.error,children:u.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Unprotected Anal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:B.uprotectedAnalSex,onChange:L,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:u.uprotectedAnalSex}):""]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(ce.jsxs)("b",{children:["Score :",M.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj.personResponseDto&&"Female"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:G.vaginalDischarge,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.vaginalDischarge?Object(ce.jsx)("span",{className:t.error,children:u.vaginalDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:G.lowerAbdominalPains,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.lowerAbdominalPains?Object(ce.jsx)("span",{className:t.error,children:u.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:G.urethralDischarge,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.urethralDischarge?Object(ce.jsx)("span",{className:t.error,children:u.urethralDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of scrotal swelling and pain"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:G.complaintsOfScrotal,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.complaintsOfScrotal?Object(ce.jsx)("span",{className:t.error,children:u.complaintsOfScrotal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:G.complaintsGenitalSore,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==u.complaintsGenitalSore?Object(ce.jsx)("span",{className:t.error,children:u.complaintsGenitalSore}):""]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(ce.jsxs)("b",{children:["Score :",U.length]})]}),c?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("basic","basic")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.everHadSexualIntercourse=w.everHadSexualIntercourse?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.bloodtransInlastThreeMonths=w.bloodtransInlastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.uprotectedSexWithCasualLastThreeMonths=w.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.uprotectedSexWithRegularPartnerLastThreeMonths=w.uprotectedSexWithRegularPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.unprotectedVaginalSex=w.unprotectedVaginalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.uprotectedAnalSex=w.uprotectedAnalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.sexUnderInfluence=w.sexUnderInfluence?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.uprotectedSexWithCasualLastThreeMonths=w.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(m.moreThanOneSexPartnerLastThreeMonths=w.moreThanOneSexPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.experiencePain=w.experiencePain?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.haveSexWithoutCondom=w.haveSexWithoutCondom?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.abuseDrug=w.abuseDrug?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.bloodTransfusion=w.bloodTransfusion?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.consistentWeightFeverNightCough=w.consistentWeightFeverNightCough?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(m.soldPaidVaginalSex=w.soldPaidVaginalSex?"":"This field is required."),h(Object(O.a)({},m)),Object.values(m).every((function(e){return""===e}))?(d(!0),S.htsClientId=r,S.knowledgeAssessment=N,S.personId=s,S.riskAssessment=w,S.stiScreening=G,S.tbScreening=Q,S.sexPartnerRiskAssessment=B,f.a.put("".concat(v,"hts/").concat(r,"/pre-test-counseling"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("hiv-test","pre-test-counsel")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})},disabled:c})]})})]})})]})})})},ze=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ke=function(e){var t=ze(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(O.a)({},j),h=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",m=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(a.useState)(""),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(a.useState)(!0),R=Object(l.a)(T,2),C=R[0],S=R[1],D=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ae(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),P=Object(a.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{},prepOffered:"",prepAccepted:""}),I=Object(l.a)(P,2),w=I[0],k=I[1],A=function(e){k(Object(O.a)(Object(O.a)({},w),{},Object(He.a)({},e.target.name,e.target.value)))},H=Object(a.useState)({date:"",result:""}),Y=Object(l.a)(H,2),E=Y[0],B=Y[1],F=Object(a.useState)({date2:"",result2:""}),L=Object(l.a)(F,2),M=L[0],_=L[1],V=function(e){U(Object(O.a)(Object(O.a)({},q),{},Object(He.a)({},e.target.name,e.target.value)))},G=Object(a.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),W=Object(l.a)(G,2),q=W[0],U=W[1],z=function(e){"No"===e.target.value?(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),Z({date:"",result:""}),je({date:"",result:""}),S(!1)):(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),S(!0))},K=function(e){"No"===e.target.value?(_(Object(O.a)(Object(O.a)({},M),{},Object(He.a)({},e.target.name,e.target.value))),re({date:"",result:""}),pe({date:"",result:""}),S(!1)):(_(Object(O.a)(Object(O.a)({},M),{},Object(He.a)({},e.target.name,e.target.value))),S(!0))},Q=Object(a.useState)({date:"",result:""}),X=Object(l.a)(Q,2),J=X[0],Z=X[1],$=Object(a.useState)({date2:"",result2:""}),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=function(e){Z(Object(O.a)(Object(O.a)({},J),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===E.result&&e.target.value,S(!0)},ie=function(e){re(Object(O.a)(Object(O.a)({},te),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===M.result2&&e.target.value,S(!0)},oe=Object(a.useState)({date:"",result:""}),le=Object(l.a)(oe,2),de=le[0],je=le[1],he=Object(a.useState)({date2:"",result2:""}),Oe=Object(l.a)(he,2),me=Oe[0],pe=Oe[1],xe=function(e){je(Object(O.a)(Object(O.a)({},de),{},Object(He.a)({},e.target.name,e.target.value))),"No"===J.result&&"Yes"===e.target.value?S(!0):"No"===J.result&&"No"===e.target.value?S(!1):S(!0)},fe=function(e){pe(Object(O.a)(Object(O.a)({},me),{},Object(He.a)({},e.target.name,e.target.value))),"No"===te.result2&&"Yes"===e.target.value?S(!0):"No"===te.result2&&"No"===e.target.value?S(!1):S(!0)},ge=Object(a.useState)({syphilisTestResult:""}),ve=Object(l.a)(ge,2),Ne=ve[0],ye=ve[1],Te=Object(a.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),Re=Object(l.a)(Te,2),Ce=Re[0],De=Re[1],Pe=function(e){De(Object(O.a)(Object(O.a)({},Ce),{},Object(He.a)({},e.target.name,e.target.value)))},Ie=Object(a.useState)({longitude:"",latitude:"",adhocCode:""}),ke=Object(l.a)(Ie,2),Ae=ke[0],Fe=ke[1];Object(a.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?y(e.patientObj.dateVisit):y(""),U(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),B(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),Z(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),je(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),ye(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),De(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),Fe(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),_(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),re(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),pe(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}))}),[e.patientObj]);var Le=function(e){Fe(Object(O.a)(Object(O.a)({},Ae),{},Object(He.a)({},e.target.name,e.target.value)))},Me=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),Object(ce.jsx)("h4",{children:"Initial Test :"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:E.date,onChange:z,min:""!==N&&null!==N?N:"",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(ce.jsx)("span",{className:t.error,children:j.date}):""]})}),E.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:E.result,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(ce.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===E.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:J.date,onChange:ne,min:E.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(ce.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),J.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:J.result,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===J.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:de.date,onChange:xe,min:J.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),de.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:de.result,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===de.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group  col-md-12",children:["No"===E.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===E.result&&"No"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"Yes"===E.result&&"Yes"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsxs)("h4",{children:[Object(ce.jsx)("b",{children:"RETESTING"}),":"]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:K,min:J.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:te.date2,onChange:ie,min:M.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:te.result2,onChange:ie,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===te.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:me.date2,onChange:fe,min:te.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:me.result2,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===me.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===J.result&&"Yes"===de.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Retesting:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:K,min:de.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:te.date2,onChange:ie,min:M.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:te.result2,onChange:ie,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===te.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:me.date2,onChange:fe,min:te.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:me.result2,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===me.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===J.result&&"No"===de.result&&("Yes"===E.result||"Yes"===E.result||""===E.result)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===M.result2&&"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"Yes"===M.result2&&"Yes"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{})]}),"No"===te.result2&&"Yes"===me.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"})]}),"No"===te.result2&&"No"===me.result2&&("Yes"===M.result2||"Yes"===M.result2||""===M.result2)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]})]})}),"No"===te.result2&&"Yes"===me.result2&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Prep Accepted"}),Object(ce.jsxs)("select",{className:"form-control",name:"prepAccepted",id:"prepAccepted",value:w.prepAccepted,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Prep Offered"}),Object(ce.jsxs)("select",{className:"form-control",name:"prepOffered",id:"prepOffered",value:w.prepOffered,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]})}),C&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count "}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:q.cd4Count,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(ce.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===q.cd4Count&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count Value"}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:q.cd4SemiQuantitative,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"<200",children:"<200"}),Object(ce.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===q.cd4Count&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"CD4 Count Value"}),Object(ce.jsx)(Be.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:q.cd4FlowCyteometry,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-7"})]}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Syphilis test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:Ne.syphilisTestResult,onChange:function(e){ye(Object(O.a)(Object(O.a)({},Ne),{},Object(He.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]}),""!==j.syphilisTestResult?Object(ce.jsx)("span",{className:t.error,children:j.syphilisTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis B virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:Ce.hepatitisBTestResult,onChange:Pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisBTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisBTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis C virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:Ce.hepatitisCTestResult,onChange:Pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisCTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisCTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",value:Ae.longitude,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",value:Ae.latitude,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Ae.adhocCode,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Me("basic","basic")}})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Me("pre-test-counsel","pre-test-counsel")}})}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==E.date&&(u.date=E.result?"":"This field is required."),u.syphilisTestResult=Ne.syphilisTestResult?"":"This field is required.",u.hepatitisBTestResult=Ce.hepatitisBTestResult?"":"This field is required.",u.hepatitisCTestResult=Ce.hepatitisBTestResult?"":"This field is required.",b(Object(O.a)({},u)),Object.values(u).every((function(e){return""==e}))&&(i(!0),"No"===M.result2?w.hivTestResult2="Negative":"Yes"===M.result2&&"Yes"===te.result2||"No"===te.result2&&"Yes"===me.result2?w.hivTestResult2="Positive":"No"===te.result2&&"No"===me.result2?w.hivTestResult2="Negative":w.hivTestResult2="","No"===E.result?w.hivTestResult="Negative":"Yes"===E.result&&"Yes"===J.result||"No"===J.result&&"Yes"===de.result?w.hivTestResult="Positive":"No"===J.result&&"No"===de.result?w.hivTestResult="Negative":w.hivTestResult="",w.htsClientId=m,w.confirmatoryTest=J,w.confirmatoryTest2=te,w.personId=h,w.test1=E,w.test2=M,w.tieBreakerTest=de,w.tieBreakerTest2=me,w.syphilisTesting=Ne,w.hepatitisTesting=Ce,w.cd4=q,w.others=Ae,f.a.put("".concat(v,"hts/").concat(m,"/request-result"),w,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){i(!1),e.setPatientObj(t.data),Me("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},disabled:n})]})})]})})]})})})},Qe=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Xe=function(e){var t=Qe(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)([]),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(a.useState)([]),h=Object(l.a)(u,2),m=h[0],p=h[1],x=Object(a.useState)(!0),N=Object(l.a)(x,2),y=N[0],T=N[1],R=Object(a.useState)([]),C=Object(l.a)(R,2),S=C[0],D=C[1],P=Object(a.useState)([]),I=Object(l.a)(P,2),w=I[0],k=I[1],A=Object(a.useState)(""),H=Object(l.a)(A,2),Y=H[0],E=H[1],B=Object(a.useState)({}),F=Object(l.a)(B,2),L=F[0],M=F[1],_=Object(O.a)({},L),V=Object(a.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),G=Object(l.a)(V,2),W=(G[0],G[1],Object(a.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""})),q=Object(l.a)(W,2),U=q[0],z=q[1];Object(a.useEffect)((function(){K(),J(),Q(),X(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?E(e.patientObj.dateVisit):E(""))}),[e.patientObj]);var K=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){b(e.data)})).catch((function(e){}))},Q=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){D(e.data)})).catch((function(e){}))},X=function(){f.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},J=function(){f.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){p(e.data)})).catch((function(e){}))},Z=function(t){e.handleIClickPage(t)},$=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var s=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,s)))}if("middleName"===e.target.name&&""!==e.target.value){var a=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,a)))}z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,e.target.value)))},ee=function(e){"Actual"===e.target.value?(U.isDateOfBirthEstimated=!1,T(!0)):"Estimated"===e.target.value&&(U.isDateOfBirthEstimated=!0,T(!1))},te=function(e,t){z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},t,e.slice(0,10))))},se=function(e){return e.replace(/[^a-z]/gi,"")};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return Z("list")},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Offered INS ? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:U.offeredIns,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.offeredIns?Object(ce.jsx)("span",{className:t.error,children:L.offeredIns}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Accepted INS ? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:U.acceptedIns,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.acceptedIns?Object(ce.jsx)("span",{className:t.error,children:L.acceptedIns}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"First Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"firstName",id:"firstName",value:U.firstName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==L.firstName?Object(ce.jsx)("span",{className:t.error,children:L.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Middle Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"middleName",id:"middleName",value:U.middleName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Last Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"lastName",id:"lastName",value:U.lastName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==L.lastName?Object(ce.jsx)("span",{className:t.error,children:L.lastName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ee(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ee(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ae(new Date).format("YYYY-MM-DD"),value:U.dob,onChange:function(e){if(e.target.value){var t=new Date,s=new Date(e.target.value),a=t.getFullYear()-s.getFullYear(),r=t.getMonth()-s.getMonth();(r<0||0===r&&t.getDate()<s.getDate())&&a--,U.age=a}else z(Object(O.a)(Object(O.a)({},U),{},{age:""}));z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,e.target.value))),z(Object(O.a)(Object(O.a)({},U),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:U.age,disabled:y,onChange:function(e){if(!y&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var s=ae(t.toISOString()).add(-1*e.target.value,"years");z(Object(O.a)(Object(O.a)({},U),{},{dob:ae(s).format("YYYY-MM-DD")})),U.dob=ae(s).format("YYYY-MM-DD")}z(Object(O.a)(Object(O.a)({},U),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:U.phoneNumber,onChange:function(e){te(e,"phoneNumber")}}),""!==L.phoneNumber?Object(ce.jsx)("span",{className:t.error,children:L.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Alternative Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:U.altPhoneNumber,onChange:function(e){te(e,"altPhoneNumber")}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sex "}),Object(ce.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:U.sex,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),j.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.sex?Object(ce.jsx)("span",{className:t.error,children:L.sex}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Address"}),Object(ce.jsx)(Be.a,{type:"text",name:"address",id:"address",value:U.address,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Hang-out spots"}),Object(ce.jsx)(Be.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:U.hangOutSpots,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship to Index Client "}),Object(ce.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:U.relativeToIndexClient,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),S.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.relativeToIndexClient?Object(ce.jsx)("span",{className:t.error,children:L.relativeToIndexClient}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Do you currently live with this partner? "}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:U.currentlyLiveWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==L.currentlyLiveWithPartner?Object(ce.jsx)("span",{className:t.error,children:L.currentlyLiveWithPartner}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"As far as you know, as this partner ever tested positive for HIV "}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:U.partnerTestedPositive,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.partnerTestedPositive?Object(ce.jsx)("span",{className:t.error,children:L.partnerTestedPositive}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? "}),Object(ce.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:U.physicalHurt,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.physicalHurt?Object(ce.jsx)("span",{className:t.error,children:L.physicalHurt}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten to hurt you? "}),Object(ce.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:U.threatenToHurt,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.threatenToHurt?Object(ce.jsx)("span",{className:t.error,children:L.threatenToHurt}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  "}),Object(ce.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:U.sexuallyUncomfortable,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.sexuallyUncomfortable?Object(ce.jsx)("span",{className:t.error,children:L.sexuallyUncomfortable}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Notification Method selected"}),Object(ce.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:U.notificationMethod,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),m.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.notificationMethod?Object(ce.jsx)("span",{className:t.error,children:L.notificationMethod}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(ce.jsx)(Be.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:U.datePartnerCameForTesting,onChange:$,min:Y,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==L.datePartnerComeForTesting?Object(ce.jsx)("span",{className:t.error,children:L.datePartnerComeForTesting}):""]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Se.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),_.acceptedIns=U.acceptedIns?"":"This field is required.",_.offeredIns=U.offeredIns?"":"This field is required.",M(Object(O.a)({},_)),Object.values(_).every((function(e){return""==e}))&&(i(!0),U.isDateOfBirthEstimated=1==U.isDateOfBirthEstimated?1:0,f.a.post("".concat(v,"index-elicitation"),U,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),Z("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))},disabled:n})})})]})]})]})})})},Je={Add:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(E.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(M.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(V.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(I.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(X.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},Ze=(Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),r=s[0],n=s[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ae.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(p.a,{icons:Je,title:"List of  client contact",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(re()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(ce.jsx)(ce.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),$e=function(e){var t=Object(c.g)(),s=Object(a.useState)("list"),r=Object(l.a)(s,2),n=r[0],i=r[1],o=function(e){i(e)};return Object(ce.jsx)(a.Fragment,{children:Object(ce.jsx)(d.a,{children:Object(ce.jsxs)(j.a,{md:12,children:["list"===n&&Object(ce.jsx)(Ze,{activePage:n,setActivePage:i,handleIClickPage:o,patientObj:e.patientObj}),"add"===n&&Object(ce.jsx)(Xe,{activePage:n,setActivePage:i,handleIClickPage:o,patientObj:e.patientObj}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return t="recency-testing",s="recency-testing",e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])),void e.handleItemClick(t);var t,s}}),Object(ce.jsx)(Se.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(){t.push("/")}})]})})]})})})},et=s(123),tt=s.n(et),st=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),at=function(e){var t=st(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=(r[1],Object(a.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Syphilis test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis B virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis C virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Completed By"}),Object(ce.jsx)(Be.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(ce.jsx)(tt.a,{}),onClick:function(){return t="basic",s="others",e.handleItemClick(t),void(e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])));var t,s},style:{backgroundColor:"#014d88"},children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},rt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),nt=function(e){var t=rt(),s=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(a.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(a.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),h=Object(l.a)(u,2),m=h[0],p=(h[1],Object(a.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1];Object(a.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?y(e.patientObj.postTestCounselingKnowledgeAssessment):""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(N.hivTestResult="true",y(Object(O.a)(Object(O.a)({},N),{},{hivTestResult:"false"}))):(N.hivTestResult="true",y(Object(O.a)(Object(O.a)({},N),{},{hivTestResult:"true"})))}),[e.patientObj,N.hivTestResult]);var T=function(e){y(Object(O.a)(Object(O.a)({},N),{},Object(He.a)({},e.target.name,e.target.value)))},R=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},C=function(t){t.preventDefault(),b(!0),m.htsClientId=e.patientObj.id,m.postTestCounselingKnowledgeAssessment=N,m.personId=e.patientObj.personResponseDto.id,f.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?R("recency-testing","post-test"):"false"===N.hivTestResult&&s.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV test result "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Positive"}),Object(ce.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you been tested for HIV before within this year? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(ce.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(ce.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(ce.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form signed by tester "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client received HIV test result "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test counseling done "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Risk reduction plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test disclosure plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Will bring partner(s) for HIV testing "}),Object(ce.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(ce.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Provided with information on FP and dual contraception "}),Object(ce.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Correct condom use demonstrated "}),Object(ce.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Condoms provided to client "}),Object(ce.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client referred to other services "}),Object(ce.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)(We.a,{success:!0,children:Object(ce.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return R("hiv-test","hiv-test")}}),"true"===N.hivTestResult&&Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C,disabled:j}),"false"===N.hivTestResult&&Object(ce.jsx)(Se.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C,disabled:j})]})})]})})]})})})},it=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ct=function(e){var t=it(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(a.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(a.useState)({}),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),x=p[0],N=p[1],y=Object(O.a)({},u),T=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},R=Object(a.useState)({htsClientId:r,recency:{},personId:s}),C=Object(l.a)(R,2),S=C[0],D=(C[1],Object(a.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),P=Object(l.a)(D,2),I=P[0],w=P[1];Object(a.useEffect)((function(){e.patientObj&&(w(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Recent")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Invalid")))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine,e.patientObj]);var k=function(e){if(h(Object(O.a)(Object(O.a)({},y),{},Object(He.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=A(e.target.value);w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,t)))}else w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))},A=function(e){return e.slice(0,10)};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"RECENCY FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"RECENCY"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Opt Out of RTRI? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Test Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Asante",children:"Asante"}),Object(ce.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Test Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency ID ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Control Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Verification Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Long Term Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency Interpretation ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has viral load request been made? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Viral Load Classification :"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Collected Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:I.sampleCollectedDate,min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Reference Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(ce.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"DBS",children:"DBS"}),Object(ce.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(ce.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Sample Sent to PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,value:I.dateSampleSentToPCRLab,max:ae(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(ce.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Test Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Receiving PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(ce.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(ce.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(ce.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(ce.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Final Recency Result"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),S.htsClientId=r,S.recency=I,S.personId=s,"true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),h(Object(O.a)({},y)),Object.values(y).every((function(e){return""===e}))&&(d(!0),f.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},disabled:c})]})})]})})]})})})},ot=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),lt=function(e){var t,s=ot(),n=Object(a.useState)([]),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(a.useState)([]),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)([]),p=Object(l.a)(m,2),x=p[0],N=p[1],y=Object(a.useState)([]),T=Object(l.a)(y,2),R=T[0],C=T[1],S=Object(a.useState)({}),D=Object(l.a)(S,2),P=D[0],I=D[1],w=Object(a.useState)(!0),k=Object(l.a)(w,2),A=k[0],H=k[1],Y=Object(a.useState)(!1),E=Object(l.a)(Y,2),B=E[0],F=E[1],L=Object(O.a)({},P),M=r.a.useState(!1),_=Object(l.a)(M,2),V=_[0],G=_[1],W=function(){return G(!V)},q=Object(a.useState)([]),U=Object(l.a)(q,2),z=U[0],K=U[1],Q=Object(a.useState)(0),X=Object(l.a)(Q,2),J=X[0],Z=X[1],$=Object(a.useState)(null),ee=Object(l.a)($,2),te=(ee[0],ee[1]),se=Object(a.useState)({age:"",dob:"",code:"",visitDate:"",dateOfBirth:null,dateOfRegistration:null,isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",careProvider:"",personId:"",id:"",riskAssessment:{},entryPoint:"",communityEntryPoint:""}),re=Object(l.a)(se,2),ne=re[0],ie=re[1],oe=Object(a.useState)({lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),le=Object(l.a)(oe,2),de=le[0],je=le[1];Object(a.useEffect)((function(){xe(),pe(),he(),Oe(),me(),""!==ne.age&&e.setPatientObjAge(ne.age),null!==e.patientObj.riskStratificationResponseDto&&(ie(e.patientObj.riskStratificationResponseDto),je(e.patientObj.riskStratificationResponseDto.riskAssessment))}),[ne.age]);var he=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){d(e.data)})).catch((function(e){}))},Oe=function(){f.a.get("".concat(v,"application-codesets/v2/HTS_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){h(e.data)})).catch((function(e){}))},me=function(){f.a.get("".concat(v,"application-codesets/v2/HTS_ENTRY_POINT_COMMUNITY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){N(e.data)})).catch((function(e){}))},pe=function(){f.a.get("".concat(v,"account"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),te(e.data)})).catch((function(e){}))},xe=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){C(e.data)})).catch((function(e){}))},fe=function(e){I(Object(O.a)(Object(O.a)({},L),{},Object(He.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;f.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){K(e.data)})).catch((function(e){}))}(e.target.value),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(Z(1),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(Z(1),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(Z(1),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value)))):(Z(0),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value))))),ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value)))},ge=function(e){"Actual"==e.target.value?(ne.isDateOfBirthEstimated=!1,H(!0)):"Estimated"==e.target.value&&(ne.isDateOfBirthEstimated=!0,H(!1))};var ve=function(){return L.visitDate=ne.visitDate?"":"This field is required.",L.entryPoint=ne.entryPoint?"":"This field is required.",L.testingSetting=ne.testingSetting?"":"This field is required.",L.entryPoint=ne.entryPoint?"":"This field is required.",L.modality=ne.modality?"":"This field is required.",L.dob=ne.dob?"":"This field is required.",L.age=ne.age?"":"This field is required.",L.lastHivTestBasedOnRequest=de.lastHivTestBasedOnRequest?"":"This field is required.",ne.age>15&&(L.targetGroup=ne.targetGroup?"":"This field is required."),""!==ne.entryPoint&&"HTS_ENTRY_POINT_COMMUNITY"===ne.entryPoint&&(L.communityEntryPoint=ne.communityEntryPoint?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestDone=de.lastHivTestDone?"":"This field is required."),""!==de.lastHivTestDone&&"Never"!==de.lastHivTestDone&&(L.whatWasTheResult=de.whatWasTheResult?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestVaginalOral=de.lastHivTestVaginalOral?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestBloodTransfusion=de.lastHivTestBloodTransfusion?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestPainfulUrination=de.lastHivTestPainfulUrination?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.diagnosedWithTb=de.diagnosedWithTb?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestInjectedDrugs=de.lastHivTestInjectedDrugs?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestHadAnal=de.lastHivTestHadAnal?"":"This field is required."),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&(L.lastHivTestForceToHaveSex=de.lastHivTestForceToHaveSex?"":"This field is required."),I(Object(O.a)({},L)),Object.values(L).every((function(e){return""==e}))},Ne=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},ye=Object.values(de);t=ye.filter((function(e){return"true"===e}));var Te=function(e){I(Object(O.a)(Object(O.a)({},L),{},Object(He.a)({},e.target.name,""))),je(Object(O.a)(Object(O.a)({},de),{},Object(He.a)({},e.target.name,e.target.value)))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ue.a,{className:s.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Entry Point ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:ne.entryPoint,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),u.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==P.entryPoint?Object(ce.jsx)("span",{className:s.error,children:P.entryPoint}):""]})}),"HTS_ENTRY_POINT_COMMUNITY"===ne.entryPoint&&Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Community Entry Point ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"communityEntryPoint",id:"communityEntryPoint",value:ne.communityEntryPoint,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),x.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==P.communityEntryPoint?Object(ce.jsx)("span",{className:s.error,children:P.communityEntryPoint}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Visit Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Be.a,{type:"date",name:"visitDate",id:"visitDate",value:ne.visitDate,onChange:fe,min:"1983-12-31",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==P.visitDate?Object(ce.jsx)("span",{className:s.error,children:P.visitDate}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Setting ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:ne.testingSetting,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),c.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==P.testingSetting?Object(ce.jsx)("span",{className:s.error,children:P.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Modality ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:ne.modality,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),z.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==P.modality?Object(ce.jsx)("span",{className:s.error,children:P.modality}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Target Group ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:fe,value:ne.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),R.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==P.targetGroup?Object(ce.jsx)("span",{className:s.error,children:P.targetGroup}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Date Of Birth ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ge(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ge(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:"1983-12-31",max:ae(new Date).format("YYYY-MM-DD"),value:ne.dob,onChange:function(t){if(t.target.value){var s=new Date,a=new Date(t.target.value),r=s.getFullYear()-a.getFullYear(),n=s.getMonth()-a.getMonth();(n<0||0===n&&s.getDate()<a.getDate())&&r--,ne.age=r}else ie(Object(O.a)(Object(O.a)({},ne),{},{age:""}));ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},t.target.name,t.target.value))),ie(Object(O.a)(Object(O.a)({},ne),{},{dob:t.target.value})),""!==ne.age&&ne.age<=15||""!==ne.age&&ne.age,e.setHideOtherMenu(!0),""!==ne.age&&ne.age>=85&&W()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==P.dob?Object(ce.jsx)("span",{className:s.error,children:P.dob}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Age ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:ne.age,disabled:A,onChange:function(t){if(!A&&t.target.value){""!==t.target.value&&t.target.value>=85&&W(),""!==t.target.value&&t.target.value<=15?e.setHideOtherMenu(!1):(""!==t.target.value&&t.target.value,e.setHideOtherMenu(!0));var s=new Date;s.setDate(15),s.setMonth(5);var a=ae(s.toISOString()).add(-1*t.target.value,"years");ie(Object(O.a)(Object(O.a)({},ne),{},{dob:ae(a).format("YYYY-MM-DD")})),ne.dob=ae(a).format("YYYY-MM-DD")}ie(Object(O.a)(Object(O.a)({},ne),{},{age:t.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==P.age?Object(ce.jsx)("span",{className:s.error,children:P.age}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Is this HIV test based on a Clinician/Doctor/Health Care Provider's  request ? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:de.lastHivTestBasedOnRequest,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestBasedOnRequest?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestBasedOnRequest}):""]})}),Object(ce.jsx)("br",{}),ne.age>15&&"false"===de.lastHivTestBasedOnRequest&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["When was your last HIV test done? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:de.lastHivTestDone,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]}),Object(ce.jsx)("option",{value:"Never",children:"Never"})]}),""!==P.lastHivTestDone?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestDone}):""]})}),""!==de.lastHivTestDone&&"Never"!==de.lastHivTestDone&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["What was the result? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:de.whatWasTheResult,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==P.whatWasTheResult?Object(ce.jsx)("span",{className:s.error,children:P.whatWasTheResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:de.lastHivTestVaginalOral,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestVaginalOral?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestVaginalOral}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you had a blood or blood product transfusion? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:de.lastHivTestBloodTransfusion,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestBloodTransfusion?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestBloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:de.lastHivTestPainfulUrination,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestPainfulUrination?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestPainfulUrination}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:de.diagnosedWithTb,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.diagnosedWithTb?Object(ce.jsx)("span",{className:s.error,children:P.diagnosedWithTb}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",value:de.lastHivTestInjectedDrugs,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestInjectedDrugs?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestInjectedDrugs}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:de.lastHivTestHadAnal,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestHadAnal?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestHadAnal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Since your last HIV test, have you been forced to have sex? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",value:de.lastHivTestForceToHaveSex,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==P.lastHivTestForceToHaveSex?Object(ce.jsx)("span",{className:s.error,children:P.lastHivTestForceToHaveSex}):""]})}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:" Risk assessment score "}),Object(ce.jsxs)("b",{children:["Score :",J+(ne.age>15?t.length:0)]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Se.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(s){s.preventDefault(),e.patientObj.riskStratificationResponseDto=ne,e.patientObj.personResponseDto.dob=ne.dob,e.patientObj.personResponseDto.dateOfBirth=ne.dob,e.patientObj.personResponseDto.isDateOfBirthEstimated=ne.isDateOfBirthEstimated,e.patientObj.targetGroup=ne.targetGroup,e.patientObj.testingSetting=ne.testingSetting,e.patientObj.modality=ne.modality,e.patientObj.dateVisit=ne.visitDate,ne.riskAssessment=de,e.patientObj.riskStratificationResponseDto&&null!==e.patientObj.riskStratificationResponseDto&&""!==e.patientObj.riskStratificationResponseDto.code?ve()&&(F(!0),Ne("basic","risk"),e.setHideOtherMenu(!1),f.a.put("".concat(v,"risk-stratification/").concat(e.patientObj.riskStratificationResponseDto.id),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){F(!1),e.patientObj.riskStratificationResponseDto=t.data,ne.code=t.data.code,e.setExtra(ne)})).catch((function(e){if(F(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):(J>0||t.length>0)&&ne.age>15?ve()?(F(!0),Ne("basic","risk"),e.setHideOtherMenu(!1),f.a.post("".concat(v,"risk-stratification"),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){F(!1),e.patientObj.riskStratificationResponseDto=t.data,ne.code=t.data.code,e.setExtra(ne)})).catch((function(e){if(F(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):ne.age<15?ve()?(F(!0),f.a.post("".concat(v,"risk-stratification"),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){F(!1),e.patientObj.riskStratificationResponseDto=t.data,ne.code=t.data.code,e.setExtra(ne),Ne("basic","risk")})).catch((function(e){if(F(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setHideOtherMenu(!1),e.setExtra(ne),ve()?(F(!0),f.a.post("".concat(v,"risk-stratification"),ne,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){F(!1),e.patientObj.riskStratificationResponseDto=t.data,ne.code=t.data.code,e.setExtra(ne)})).catch((function(e){if(F(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))},disabled:B})})})]})})]})}),Object(ce.jsxs)(Me.a,{show:V,toggle:W,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(Me.a.Header,{children:Object(ce.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(Me.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(Me.a.Footer,{children:Object(ce.jsx)(Se.a,{onClick:W,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},dt=(Object(he.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(c.h)().state,s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=(r[0],r[1],Object(a.useState)("risk")),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(a.useState)([]),u=Object(l.a)(b,2),h=u[0],O=u[1],m=Object(a.useState)(0),p=Object(l.a)(m,2),x=p[0],f=p[1],g=Object(a.useState)(!0),v=Object(l.a)(g,2),y=v[0],T=v[1],R=function(e){j(e)},C=Object(a.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),S=Object(l.a)(C,2),D=S[0],P=S[1],I=Object(a.useState)({breastFeeding:"",capturedBy:"",riskStratificationCode:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:"",personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),w=Object(l.a)(I,2),k=w[0],A=w[1];return Object(a.useEffect)((function(){t&&t.patientObj&&A(t.patientObj)}),[]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:["HTS / ",Object(ce.jsx)("span",{style:{color:"#014D88",fontSize:"1.1rem",fontWeight:"bolder"},children:"NEW HTS CLIENT"})]})})})}),Object(ce.jsx)(De.a,{children:Object(ce.jsx)(be.a,{children:Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsxs)("h3",{children:["HIV COUNSELLING AND TESTING",Object(ce.jsx)(N.a,{to:"/",children:Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end",style:{backgroundColor:"#014d88"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(ce.jsxs)(Pe.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"risk"===d,onClick:function(){return R("risk")},style:{backgroundColor:"risk"===d?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:[" Risk Stratification",h.includes("risk")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),0==y&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"basic"===d,onClick:function(){return R("basic")},style:{backgroundColor:"basic"===d?"#000":""},disabled:"basic"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",h.includes("basic")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),x>14&&Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"pre-test-counsel"===d,onClick:function(){return R("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===d?"#000":""},disabled:"pre-test-counsel"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",h.includes("pre-test-counsel")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"hiv-test"===d,onClick:function(){return R("hiv-test")},style:{backgroundColor:"hiv-test"===d?"#000":""},disabled:"hiv-test"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",h.includes("hiv-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"post-test"===d,onClick:function(){return R("post-test")},style:{backgroundColor:"post-test"===d?"#000":""},disabled:"post-test"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",h.includes("post-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"recency-testing"===d,onClick:function(){return R("recency-testing")},style:{backgroundColor:"recency-testing"===d?"#000":""},disabled:"recency-testing"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",h.includes("recency-testing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"indexing"===d,onClick:function(){return R("indexing")},style:{backgroundColor:"indexing"===d?"#000":""},disabled:"indexing"!==d,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",h.includes("indexing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})})]})]})}),Object(ce.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===d&&Object(ce.jsx)(lt,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setPatientObjAge:f,setHideOtherMenu:T,setExtra:P,extra:D}),"basic"===d&&Object(ce.jsx)(Ve,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setPatientObjAge:f,setExtra:P,extra:D}),"pre-test-counsel"===d&&Object(ce.jsx)(Ue,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D}),"hiv-test"===d&&Object(ce.jsx)(Ke,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D}),"post-test"===d&&Object(ce.jsx)(nt,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D}),"indexing"===d&&Object(ce.jsx)($e,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D}),"recency-testing"===d&&Object(ce.jsx)(ct,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D}),"others"===d&&Object(ce.jsx)(at,{handleItemClick:R,setCompleted:O,completed:h,setPatientObj:A,patientObj:k,setExtra:P,extra:D})]})]})})})})]})}),jt=s(10),bt=s(745),ut=s(750),ht=s(721),Ot=s(722),mt=s(178),pt=s(734);re.a.locale("en"),ie()();var xt=Object(jt.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=e.classes,s=e.patientObj?e.patientObj:{},r=Object(a.useState)(null),n=Object(l.a)(r,2),i=n[0],c=n[1];function o(){return(o=Object(Ae.a)(Object(ke.a)().mark((function e(){return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.a.get("".concat(v,"hts/persons/").concat(s.personId),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){c(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(e.patientObj),Object(a.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[e.patientObj]),Object(ce.jsx)(pt.a,{children:Object(ce.jsx)("div",{className:t.root,children:Object(ce.jsx)(ht.a,{children:Object(ce.jsx)(Ot.a,{children:Object(ce.jsx)(de.a,{children:Object(ce.jsx)(je.a,{md:12,children:Object(ce.jsx)(de.a,{className:"mt-1",children:i&&null!==i?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(je.a,{md:12,className:t.root2,children:[Object(ce.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:i.personResponseDto.firstName+" "+i.personResponseDto.surname}),Object(ce.jsx)(N.a,{to:"/",children:Object(ce.jsx)($.a,{variant:"contained",color:"primary",className:"float-end ms-2 mr-2 mt-2",style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:[" ","Patient ID :",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""}(i.personResponseDto.identifier)})]})}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:["Date Of Birth : ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:i.personResponseDto.dateOfBirth})]})}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:[" ","Age : ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"}(re()(i.personResponseDto.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(ce.jsx)(je.a,{md:4,children:Object(ce.jsxs)("span",{children:[" ","Gender :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:i.personResponseDto&&null!==i.personResponseDto.sex?i.personResponseDto.sex:""})]})}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:[" ","Phone Number : ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:function(e){var t=e.contactPoint.find((function(e){return"phone"==e.type}));return t?t.value:""}(i.personResponseDto.contactPoint)})]})}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:[" ","Address : ",Object(ce.jsxs)("b",{style:{color:"#0B72AA"},children:[function(e){var t=e.address.find((function(e){return e.city})),s=t&&null!==t.line[0]?t.line[0]:"",a=t&&t.city&&null!==t.city?t.city:"";return t?s+" "+a:""}(i.personResponseDto.address)," "]})]})}),Object(ce.jsx)(je.a,{md:4,className:t.root2,children:Object(ce.jsxs)("span",{children:[" ","Client Code : ",Object(ce.jsxs)("b",{style:{color:"#0B72AA"},children:[i&&i.clientCode?i.clientCode:""," "]})]})}),Object(ce.jsx)(je.a,{md:12,children:Object(ce.jsx)("div",{children:Object(ce.jsx)(mt.a,{variant:"caption",children:Object(ce.jsxs)(se.a,{color:i&&!0===i.hivPositive?"red":"teal",size:"mini",children:["STATUS : ",i&&!0===i.hivPositive?"Positive":"Negative"]})})})})]}):Object(ce.jsx)("p",{children:"Loading Please wait..."})})})})})})})})})),ft=s(738),gt={Add:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(E.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(M.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(V.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(I.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(X.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},vt=(Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){Object(a.useEffect)((function(){}),[e.patientObj]);var t=function(t,s){e.setActivePage(Object(O.a)(Object(O.a)({},e.activePage),{},{activePage:"view",activeObject:t,actionType:s}))};return Object(ce.jsx)("div",{children:Object(ce.jsx)(p.a,{icons:gt,title:"HTS HISTORY ",columns:[{title:"Date",field:"date"},{title:"Pre Test Counseling",field:"pre"},{title:"Recency Test",field:"rencency"},{title:"Post Test",field:"post"},{title:"Request & Result",field:"requestResult",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:e.loading,data:e.patientList.map((function(e){return{date:e.dateVisit,pre:e.knowledgeAssessment?"Filled":"Not Filled ",requestResult:e.confirmatoryTest?"Filled":"Not Filled ",rencency:e.recency?"Filled":"Not Filled ",post:e.postTestCounselingKnowledgeAssessment?"Filled":"Not Filled ",actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(Pe.a.Menu,{position:"right",children:Object(ce.jsx)(Pe.a.Item,{children:Object(ce.jsx)(Se.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(ft.a,{item:!0,text:"Action",children:Object(ce.jsxs)(ft.a.Menu,{style:{marginTop:"10px"},children:[Object(ce.jsxs)(ft.a.Item,{onClick:function(){return t(e,"view")},children:[" ",Object(ce.jsx)(Ie.a,{name:"eye"}),"View"]}),Object(ce.jsxs)(ft.a.Item,{onClick:function(){return t(e,"update")},children:[Object(ce.jsx)(Ie.a,{name:"edit"}),"Edit"]})]})})})})})})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),Nt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),yt=function(e){var t=Nt(),s=(Object(c.g)(),Object(a.useState)({})),r=Object(l.a)(s,2),n=r[0],i=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),b=j[0],u=j[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),p=(m[0],m[1],Object(a.useState)([])),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(a.useState)([]),R=Object(l.a)(T,2),C=R[0],S=R[1],D=Object(a.useState)([]),P=Object(l.a)(D,2),I=P[0],w=P[1],k=Object(a.useState)([]),A=Object(l.a)(k,2),H=(A[0],A[1]),Y=Object(a.useState)([]),E=Object(l.a)(Y,2),B=E[0],F=E[1],L=Object(a.useState)([]),M=Object(l.a)(L,2),_=M[0],V=M[1],G=Object(a.useState)([]),W=Object(l.a)(G,2),q=W[0],U=W[1],z=Object(O.a)({},n),K=Object(a.useState)(""),Q=Object(l.a)(K,2),X=(Q[0],Q[1]),J=Object(a.useState)(""),Z=Object(l.a)(J,2),$=(Z[0],Z[1]),ee=Object(a.useState)(""),te=Object(l.a)(ee,2),se=te[0],re=te[1],ne=Object(a.useState)({active:!0,personId:e.patientObject.personId,clientCode:e.patientObject&&e.patientObject.clientCode?e.patientObject.clientCode:"",breastFeeding:e.patientObj&&e.patientObj.breastFeeding?e.patientObj.breastFeeding:"",dateVisit:e.patientObj&&e.patientObj.dateVisit?e.patientObj.dateVisit:"",firstTimeVisit:e.patientObj&&e.patientObj.firstTimeVisit?e.patientObj.firstTimeVisit:"",indexClient:e.patientObj&&e.patientObj.indexClient?e.patientObj.indexClient:"",numChildren:e.patientObj&&e.patientObj.numChildren?e.patientObj.numChildren:"",numWives:e.patientObj&&e.patientObj.numWives?e.patientObj.numWives:"",pregnant:e.patientObj&&e.patientObj.pregnant?e.patientObj.pregnant:"",previouslyTested:e.patientObj?e.patientObj.previouslyTested:"",referredFrom:e.patientObj?e.patientObj.referredFrom:"",riskAssessment:e.patientObj&&e.patientObj.riskAssessment?e.patientObj.riskAssessment:{},riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:"",targetGroup:e.patientObj&&e.patientObj.targetGroup?e.patientObj.targetGroup:"",testingSetting:e.patientObj?e.patientObj.testingSetting:"",typeCounseling:e.patientObj?e.patientObj.typeCounseling:"",relationshipWithIndexClient:e.patientObj?e.patientObj.relationshipWithIndexClient:"",indexClientCode:""}),ie=Object(l.a)(ne,2),oe=ie[0],le=ie[1];Object(a.useEffect)((function(){de(),me(),pe(),xe(),Oe(),he(),je()}),[e.patientObj]);var de=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){y(e.data)})).catch((function(e){}))},je=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){U(e.data)})).catch((function(e){}))},he=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){V(e.data)})).catch((function(e){}))},Oe=function(){f.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){F(e.data)})).catch((function(e){}))},me=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){S(e.data)})).catch((function(e){}))},pe=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){w(e.data)})).catch((function(e){}))},xe=function(){f.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){H(e.data)})).catch((function(e){}))},fe=function(e){if(i(Object(O.a)(Object(O.a)({},z),{},Object(He.a)({},e.target.name,""))),"indexClientCode"===e.target.name&&""!==e.target.value){var t=function(){var t=Object(Ae.a)(Object(ke.a)().mark((function t(){var s,a;return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.target.value,t.next=3,f.a.get("".concat(v,"hts/client/").concat(s),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==(a=t.sent).data?($(""),X(a.data)):(X(""),$(a.data));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}le(Object(O.a)(Object(O.a)({},oe),{},Object(He.a)({},e.target.name,e.target.value)))},ge=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Target Group ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:fe,value:oe.targetGroup,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),N.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.targetGroup?Object(ce.jsx)("span",{className:t.error,children:n.targetGroup}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Client Code ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"text",name:"clientCode",id:"clientCode",value:oe.clientCode,onChange:fe,disabled:""!==e.clientCode&&null!==e.clientCode,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.clientCode?Object(ce.jsx)("span",{className:t.error,children:n.clientCode}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Referred From *"}),Object(ce.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),I.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.referredFrom?Object(ce.jsx)("span",{className:t.error,children:n.referredFrom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Setting ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:oe.testingSetting,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),C.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.testingSetting?Object(ce.jsx)("span",{className:t.error,children:n.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Visit Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"dateVisit",id:"dateVisit",value:oe.dateVisit,onChange:fe,min:oe.dateOfRegistration,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.dateVisit?Object(ce.jsx)("span",{className:t.error,children:n.dateVisit}):""]})}),oe.age>9&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Number of Children ","<5"," years"]}),Object(ce.jsx)(Be.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:oe.numChildren,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),oe.age>9&&"Male"===oe.sex&&5!==oe.maritalStatusId&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Number of wives/co-wives"}),Object(ce.jsx)(Be.a,{type:"number",name:"numWives",id:"numWives",min:0,value:oe.numWives,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Testing"}),Object(ce.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:oe.indexClient,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.indexClient?Object(ce.jsx)("span",{className:t.error,children:n.indexClient}):""]})}),"true"===oe.indexClient&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship of the index client"}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:oe.relationshipWithIndexClient,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),q.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Client Code/ID"}),Object(ce.jsx)(Be.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:oe.indexClientCode,onBlur:function(e){function t(){return(t=Object(Ae.a)(Object(ke.a)().mark((function e(){var t;return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=oe.clientCode,e.next=3,f.a.get("".concat(v,"hts/client/").concat(t),{headers:{Authorization:"Bearer ".concat(g),"Content-Type":"text/plain"}});case 3:"Record Not Found"!==e.sent.data?re("Client code already exist"):re("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==se?Object(ce.jsx)("span",{className:t.error,children:se}):""]})})]}),"Female"===oe.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Pregnant"}),Object(ce.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:oe.pregnant,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),_.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),73!==oe.pregnant&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Breast Feeding"}),Object(ce.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:oe.breastFeeding,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"First time visit"}),Object(ce.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:oe.firstTimeVisit,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.firstTimeVisit?Object(ce.jsx)("span",{className:t.error,children:n.firstTimeVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Previously tested within the last 3 months"}),Object(ce.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:oe.previouslyTested,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.previouslyTested?Object(ce.jsx)("span",{className:t.error,children:n.previouslyTested}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Type of Counseling"}),Object(ce.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:oe.typeCounseling,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),B.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.typeCounseling?Object(ce.jsx)("span",{className:t.error,children:n.typeCounseling}):""]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return ge("risk","risk")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault();var s={clientCode:oe.clientCode,dateVisit:oe.dateVisit,extra:{},firstTimeVisit:oe.firstTimeVisit,indexClient:oe.indexClient,numChildren:oe.numChildren,numWives:oe.numWives,personId:e.patientObject.personId,hospitalNumber:oe.clientCode,previouslyTested:oe.previouslyTested,referredFrom:oe.referredFrom,targetGroup:oe.targetGroup,testingSetting:oe.testingSetting,typeCounseling:oe.typeCounseling,breastFeeding:oe.breastFeeding,pregnant:oe.pregnant,indexClientCode:oe.indexClientCode,relationshipWithIndexClient:oe.relationshipWithIndexClient,riskStratificationCode:e.extra&&""!==e.extra.code?e.extra.code:""};z.clientCode=oe.clientCode?"":"This field is required.",z.typeCounseling=oe.typeCounseling?"":"This field is required.",z.testingSetting=oe.testingSetting?"":"This field is required.",z.targetGroup=oe.targetGroup?"":"This field is required.",z.referredFrom=oe.referredFrom?"":"This field is required.",z.previouslyTested=oe.previouslyTested?"":"This field is required.",z.indexClient=oe.indexClient?"":"This field is required.",z.firstTimeVisit=oe.firstTimeVisit?"":"This field is required.",z.dateVisit=oe.dateVisit?"":"This field is required.",i(Object(O.a)({},z)),Object.values(z).every((function(e){return""==e}))?f.a.post("".concat(v,"hts"),s,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){u(!1),e.setPatientObj(t.data),e.patientAge>15?ge("pre-test-counsel","basic"):ge("hiv-test","basic")})).catch((function(e){if(u(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})},disabled:b})]})})]})})]})})})},Tt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Rt=function(e){var t=Tt(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(a.useState)(!1),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(a.useState)({}),u=Object(l.a)(b,2),h=u[0],m=u[1],p=Object(O.a)({},h),x=Object(a.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),N=Object(l.a)(x,2),y=N[0],T=N[1],R=Object(a.useState)({htsClientId:n,knowledgeAssessment:{},personId:s,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),C=Object(l.a)(R,2),S=C[0],D=(C[1],Object(a.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),P=Object(l.a)(D,2),I=P[0],w=P[1],k=Object(a.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),A=Object(l.a)(k,2),H=A[0],Y=A[1],E=Object(a.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),B=Object(l.a)(E,2),F=B[0],L=B[1],M=Object(a.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),_=Object(l.a)(M,2),V=_[0],G=_[1];Object(a.useEffect)((function(){e.patientObj&&(w(e.patientObj.knowledgeAssessment&&null!==e.patientObj.knowledgeAssessment?e.patientObj.knowledgeAssessment:{}),Y(e.patientObj.riskAssessment&&null!==e.patientObj.riskAssessment?e.patientObj.riskAssessment:{}),T(e.patientObj.sexPartnerRiskAssessment&&null!==e.patientObj.sexPartnerRiskAssessment?e.patientObj.sexPartnerRiskAssessment:{}),L(e.patientObj.stiScreening&&null!==e.patientObj.stiScreening?e.patientObj.stiScreening:{}),G(e.patientObj.tbScreening&&null!==e.patientObj.tbScreening?e.patientObj.tbScreening:{}),e.patientObj.riskStratificationResponseDto&&0!==Object.keys(e.patientObj.riskStratificationResponseDto.riskAssessment).length&&null===e.patientObj.riskAssessment?(Y(Object(O.a)(Object(O.a)({},H),e.patientObj.riskStratificationResponseDto.riskAssessment)),""!==e.extra.riskAssessment.whatWasTheResult&&"Positive"===e.extra.riskAssessment.whatWasTheResult?I.previousTestedHIVNegative="false":I.previousTestedHIVNegative="true"):Y(Object(O.a)(Object(O.a)({},H),e.patientObj.riskAssessment)),I.clientPregnant=73===e.patientObj.pregnant?"true":"")}),[e.patientObj]);var W=function(t,s){e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])),e.handleItemClick(t)},q=function(e){w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))},U=function(e){Y(Object(O.a)(Object(O.a)({},H),{},Object(He.a)({},e.target.name,e.target.value)))},z=Object.values(H).filter((function(e){return"true"===e})),K=function(e){T(Object(O.a)(Object(O.a)({},y),{},Object(He.a)({},e.target.name,e.target.value)))},Q=Object.values(y).filter((function(e){return"true"===e})),X=function(e){L(Object(O.a)(Object(O.a)({},F),{},Object(He.a)({},e.target.name,e.target.value)))},J=Object.values(F).filter((function(e){return"true"===e})),Z=Object(a.useState)(0),$=Object(l.a)(Z,2),ee=$[0],te=$[1],se=function(e){if("true"===e.target.value){var t=ee+1;t>=0&&t<=5&&te(t)}if("false"===e.target.value){var s=ee-1;te(s<=0?0:s)}G(Object(O.a)(Object(O.a)({},V),{},Object(He.a)({},e.target.name,e.target.value)))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Previously tested HIV negative ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:I.previousTestedHIVNegative,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.previousTestedHIVNegative?Object(ce.jsx)("span",{className:t.error,children:h.previousTestedHIVNegative}):""]})}),"true"===I.previousTestedHIVNegative&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Time of last HIV Negative test Result"}),Object(ce.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:I.timeLastHIVNegativeTestResult,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]}),Object(ce.jsx)("option",{value:"Never",children:"Never"})]}),""!==h.timeLastHIVNegativeTestResult?Object(ce.jsx)("span",{className:t.error,children:h.timeLastHIVNegativeTestResult}):""]})}),"Female"===r&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client pregnant "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:I.clientPregnant,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.clientPregnant?Object(ce.jsx)("span",{className:t.error,children:h.clientPregnant}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about HIV transmission routes "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:I.clientInformHivTransRoutes,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.clientInformHivTransRoutes?Object(ce.jsx)("span",{className:t.error,children:h.clientInformHivTransRoutes}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about risk factors for HIV transmission "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:I.clientInformRiskkHivTrans,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.clientInformRiskkHivTrans?Object(ce.jsx)("span",{className:t.error,children:h.clientInformRiskkHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed on preventing HIV transmission methods "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:I.clientInformPreventingsHivTrans,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.clientInformPreventingsHivTrans?Object(ce.jsx)("span",{className:t.error,children:h.clientInformPreventingsHivTrans}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about possible test results "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:I.clientInformPossibleTestResult,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.clientInformPossibleTestResult?Object(ce.jsx)("span",{className:t.error,children:h.clientInformPossibleTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Informed consent for HIV testing given "}),Object(ce.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:I.informConsentHivTest,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.informConsentHivTest?Object(ce.jsx)("span",{className:t.error,children:h.informConsentHivTest}):""]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Current cough "}),Object(ce.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:V.currentCough,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.currentCough?Object(ce.jsx)("span",{className:t.error,children:h.currentCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Weight loss "}),Object(ce.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:V.weightLoss,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.weightLoss?Object(ce.jsx)("span",{className:t.error,children:h.weightLoss}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(ce.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:V.lymphadenopathy,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.lymphadenopathy?Object(ce.jsx)("span",{className:t.error,children:h.lymphadenopathy}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Fever "}),Object(ce.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:V.fever,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.fever?Object(ce.jsx)("span",{className:t.error,children:h.fever}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Night sweats"}),Object(ce.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:V.nightSweats,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.nightSweats?Object(ce.jsx)("span",{className:t.error,children:h.nightSweats}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(ce.jsxs)("b",{children:["Score : ",ee]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Ever had sexual intercourse ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:H.everHadSexualIntercourse,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.everHadSexualIntercourse?Object(ce.jsx)("span",{className:t.error,children:h.everHadSexualIntercourse}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Blood transfusion in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:H.bloodtransInlastThreeMonths,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.bloodtransInlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.bloodtransInlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with casual partner in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:H.uprotectedSexWithCasualLastThreeMonths,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedSexWithCasualLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with regular partner in the last 3months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:H.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedSexWithRegularPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected vaginal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:H.unprotectedVaginalSex,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.unprotectedVaginalSex?Object(ce.jsx)("span",{className:t.error,children:h.unprotectedVaginalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected Anal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:H.uprotectedAnalSex,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedAnalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["STI in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:H.stiLastThreeMonths,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.stiLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.stiLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sex under the influence of drugs or alcohol ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:H.sexUnderInfluence,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.sexUnderInfluence?Object(ce.jsx)("span",{className:t.error,children:h.sexUnderInfluence}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["More than 1 sex partner during last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:H.moreThanOneSexPartnerLastThreeMonths,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.moreThanOneSexPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"  Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score : ",z.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:H.experiencePain,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.experiencePain?Object(ce.jsx)("span",{className:t.error,children:h.experiencePain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:H.haveSexWithoutCondom,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.haveSexWithoutCondom?Object(ce.jsx)("span",{className:t.error,children:h.haveSexWithoutCondom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you had a condom burst with your partner during sexual intercourse? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:H.haveCondomBurst,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.haveCondomBurst?Object(ce.jsx)("span",{className:t.error,children:h.haveCondomBurst}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:H.abuseDrug,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.abuseDrug?Object(ce.jsx)("span",{className:t.error,children:h.abuseDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had any blood or blood product transfusion? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:H.bloodTransfusion,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.bloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:h.bloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner experienced coughing, weight loss, fever, night sweats consistently? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:H.consistentWeightFeverNightCough,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.consistentWeightFeverNightCough?Object(ce.jsx)("span",{className:t.error,children:h.consistentWeightFeverNightCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner paid or sold vaginal, anal or oral sex? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:H.soldPaidVaginalSex,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.soldPaidVaginalSex?Object(ce.jsx)("span",{className:t.error,children:h.soldPaidVaginalSex}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"  Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score :",z.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(ce.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:y.sexPartnerHivPositive,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.sexPartnerHivPositive?Object(ce.jsx)("span",{className:t.error,children:h.sexPartnerHivPositive}):""]})}),"true"===y.sexPartnerHivPositive&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago?"}),Object(ce.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:y.newDiagnosedHivlastThreeMonths,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.newDiagnosedHivlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.newDiagnosedHivlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:y.currentlyArvForPmtct,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.currentlyArvForPmtct?Object(ce.jsx)("span",{className:t.error,children:h.currentlyArvForPmtct}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:y.knowHivPositiveOnArv,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.knowHivPositiveOnArv?Object(ce.jsx)("span",{className:t.error,children:h.knowHivPositiveOnArv}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:y.knowHivPositiveAfterLostToFollowUp,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.knowHivPositiveAfterLostToFollowUp?Object(ce.jsx)("span",{className:t.error,children:h.knowHivPositiveAfterLostToFollowUp}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Unprotected Anal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:y.uprotectedAnalSex,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedAnalSex}):""]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(ce.jsxs)("b",{children:["Score :",Q.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj&&"Female"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:F.vaginalDischarge,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.vaginalDischarge?Object(ce.jsx)("span",{className:t.error,children:h.vaginalDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:F.lowerAbdominalPains,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.lowerAbdominalPains?Object(ce.jsx)("span",{className:t.error,children:h.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:F.urethralDischarge,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.urethralDischarge?Object(ce.jsx)("span",{className:t.error,children:h.urethralDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of scrotal swelling and pain"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:F.complaintsOfScrotal,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.complaintsOfScrotal?Object(ce.jsx)("span",{className:t.error,children:h.complaintsOfScrotal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:F.complaintsGenitalSore,onChange:X,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.complaintsGenitalSore?Object(ce.jsx)("span",{className:t.error,children:h.complaintsGenitalSore}):""]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(ce.jsxs)("b",{children:["Score :",J.length]})]}),d?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return W("basic","basic")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.everHadSexualIntercourse=H.everHadSexualIntercourse?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.bloodtransInlastThreeMonths=H.bloodtransInlastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithCasualLastThreeMonths=H.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithRegularPartnerLastThreeMonths=H.uprotectedSexWithRegularPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.unprotectedVaginalSex=H.unprotectedVaginalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedAnalSex=H.uprotectedAnalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.sexUnderInfluence=H.sexUnderInfluence?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithCasualLastThreeMonths=H.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.moreThanOneSexPartnerLastThreeMonths=H.moreThanOneSexPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.experiencePain=H.experiencePain?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.haveSexWithoutCondom=H.haveSexWithoutCondom?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.abuseDrug=H.abuseDrug?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.bloodTransfusion=H.bloodTransfusion?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.consistentWeightFeverNightCough=H.consistentWeightFeverNightCough?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.soldPaidVaginalSex=H.soldPaidVaginalSex?"":"This field is required."),m(Object(O.a)({},p)),Object.values(p).every((function(e){return""===e}))?(S.htsClientId=n,S.knowledgeAssessment=I,S.personId=s,S.riskAssessment=H,S.stiScreening=F,S.tbScreening=V,S.sexPartnerRiskAssessment=y,f.a.put("".concat(v,"hts/").concat(n,"/pre-test-counseling"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){j(!1),e.setPatientObj(t.data),W("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER})}})]})})]})})]})})})},Ct=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),St=function(e){var t=Ct(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(O.a)({},j);console.log(e.patientObj);var h=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",m=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(a.useState)(""),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(a.useState)(!0),R=Object(l.a)(T,2),C=R[0],S=R[1],D=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ae(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),P=Object(a.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{},prepOffered:"",prepAccepted:""}),I=Object(l.a)(P,2),w=I[0],k=I[1],A=function(e){k(Object(O.a)(Object(O.a)({},w),{},Object(He.a)({},e.target.name,e.target.value)))},H=Object(a.useState)({date:"",result:""}),Y=Object(l.a)(H,2),E=Y[0],B=Y[1],F=Object(a.useState)({date2:"",result2:""}),L=Object(l.a)(F,2),M=L[0],_=L[1],V=function(e){U(Object(O.a)(Object(O.a)({},q),{},Object(He.a)({},e.target.name,e.target.value)))},G=Object(a.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),W=Object(l.a)(G,2),q=W[0],U=W[1],z=function(e){"No"===e.target.value?(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),Z({date:"",result:""}),je({date:"",result:""}),S(!1)):(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),S(!0))},K=function(e){"No"===e.target.value?(_(Object(O.a)(Object(O.a)({},M),{},Object(He.a)({},e.target.name,e.target.value))),re({date:"",result:""}),pe({date:"",result:""}),S(!1)):(_(Object(O.a)(Object(O.a)({},M),{},Object(He.a)({},e.target.name,e.target.value))),S(!0))},Q=Object(a.useState)({date:"",result:""}),X=Object(l.a)(Q,2),J=X[0],Z=X[1],$=Object(a.useState)({date2:"",result2:""}),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=function(e){Z(Object(O.a)(Object(O.a)({},J),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===E.result&&e.target.value,S(!0)},ie=function(e){re(Object(O.a)(Object(O.a)({},te),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===M.result2&&e.target.value,S(!0)},oe=Object(a.useState)({date:"",result:""}),le=Object(l.a)(oe,2),de=le[0],je=le[1],he=Object(a.useState)({date2:"",result2:""}),Oe=Object(l.a)(he,2),me=Oe[0],pe=Oe[1],xe=function(e){je(Object(O.a)(Object(O.a)({},de),{},Object(He.a)({},e.target.name,e.target.value))),"No"===J.result&&"Yes"===e.target.value?S(!0):"No"===J.result&&"No"===e.target.value?S(!1):S(!0)},fe=function(e){pe(Object(O.a)(Object(O.a)({},me),{},Object(He.a)({},e.target.name,e.target.value))),"No"===te.result2&&"Yes"===e.target.value?S(!0):"No"===te.result2&&"No"===e.target.value?S(!1):S(!0)},ge=Object(a.useState)({syphilisTestResult:""}),ve=Object(l.a)(ge,2),Ne=ve[0],ye=ve[1],Te=Object(a.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),Re=Object(l.a)(Te,2),Ce=Re[0],De=Re[1],Pe=function(e){De(Object(O.a)(Object(O.a)({},Ce),{},Object(He.a)({},e.target.name,e.target.value)))},Ie=Object(a.useState)({longitude:"",latitude:"",adhocCode:""}),ke=Object(l.a)(Ie,2),Ae=ke[0],Fe=ke[1];Object(a.useEffect)((function(){e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?y(e.patientObj.dateVisit):y(""),U(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),B(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),Z(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),je(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),ye(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),De(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),Fe(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),_(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),re(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),pe(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}))}),[e.patientObj]);var Le=function(e){Fe(Object(O.a)(Object(O.a)({},Ae),{},Object(He.a)({},e.target.name,e.target.value)))},Me=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),Object(ce.jsx)("h4",{children:"Initial Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:E.date,onChange:z,min:""!==N&&null!==N?N:"",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(ce.jsx)("span",{className:t.error,children:j.date}):""]})}),E.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:E.result,onChange:z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(ce.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===E.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:J.date,onChange:ne,min:E.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(ce.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),J.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:J.result,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===J.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:de.date,onChange:xe,min:J.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),de.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:de.result,onChange:xe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===de.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group  col-md-12",children:["No"===E.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===E.result&&"No"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"Yes"===E.result&&"Yes"===J.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Retesting:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:K,min:J.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:te.date2,onChange:ie,min:M.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:te.result2,onChange:ie,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===te.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:me.date2,onChange:fe,min:te.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:me.result2,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===me.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===J.result&&"Yes"===de.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Retesting:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:M.date2,onChange:K,min:de.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:M.result2,onChange:K,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===M.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:te.date2,onChange:ie,min:M.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:te.result2,onChange:ie,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===te.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:me.date2,onChange:fe,min:te.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:me.result2,onChange:fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===me.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===J.result&&"No"===de.result&&("Yes"===E.result||"Yes"===E.result||""===E.result)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===M.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]}),"No"===M.result2&&"No"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]}),"Yes"===M.result2&&"Yes"===te.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Fianl Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{})]}),"No"===te.result2&&"Yes"===me.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"})]}),"No"===te.result2&&"No"===me.result2&&("Yes"===M.result2||"Yes"===M.result2||""===M.result2)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]})]})}),"No"===te.result2&&"Yes"===me.result2&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Prep Accepted"}),Object(ce.jsxs)("select",{className:"form-control",name:"prepAccepted",id:"prepAccepted",value:w.prepAccepted,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Prep Offered"}),Object(ce.jsxs)("select",{className:"form-control",name:"prepOffered",id:"prepOffered",value:w.prepOffered,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]})}),C&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count "}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:q.cd4Count,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(ce.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===q.cd4Count&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count Value"}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:q.cd4SemiQuantitative,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"<200",children:"<200"}),Object(ce.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===q.cd4Count&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"CD4 Count Value"}),Object(ce.jsx)(Be.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:q.cd4FlowCyteometry,onChange:V,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-7"})]}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Syphilis test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:Ne.syphilisTestResult,onChange:function(e){ye(Object(O.a)(Object(O.a)({},Ne),{},Object(He.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]}),""!==j.syphilisTestResult?Object(ce.jsx)("span",{className:t.error,children:j.syphilisTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis B virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:Ce.hepatitisBTestResult,onChange:Pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisBTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisBTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis C virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:Ce.hepatitisCTestResult,onChange:Pe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisCTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisCTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",value:Ae.longitude,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",value:Ae.latitude,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",value:Ae.adhocCode,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[D<=15?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Me("basic","basic")}})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return Me("pre-test-counsel","pre-test-counsel")}})}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),""!==E.date&&(u.date=E.result?"":"This field is required."),u.syphilisTestResult=Ne.syphilisTestResult?"":"This field is required.",u.hepatitisBTestResult=Ce.hepatitisBTestResult?"":"This field is required.",u.hepatitisCTestResult=Ce.hepatitisBTestResult?"":"This field is required.",b(Object(O.a)({},u)),Object.values(u).every((function(e){return""==e}))&&("No"===M.result2?w.hivTestResult2="Negative":"Yes"===M.result2&&"Yes"===te.result2||"No"===te.result2&&"Yes"===me.result2?w.hivTestResult2="Positive":"No"===te.result2&&"No"===me.result2?w.hivTestResult2="Negative":w.hivTestResult2="","No"===E.result?w.hivTestResult="Negative":"Yes"===E.result&&"Yes"===J.result||"No"===J.result&&"Yes"===de.result?w.hivTestResult="Positive":"No"===J.result&&"No"===de.result?w.hivTestResult="Negative":w.hivTestResult="",w.htsClientId=m,w.confirmatoryTest=J,w.confirmatoryTest2=te,w.personId=h,w.test1=E,w.test2=M,w.tieBreakerTest=de,w.tieBreakerTest2=me,w.syphilisTesting=Ne,w.hepatitisTesting=Ce,w.cd4=q,w.others=Ae,f.a.put("".concat(v,"hts/").concat(m,"/request-result"),w,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){i(!1),e.setPatientObj(t.data),Me("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}})]})})]})})]})})})},Dt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Pt=function(e){var t=Dt(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)([]),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(a.useState)([]),h=Object(l.a)(u,2),m=h[0],p=h[1],x=Object(a.useState)(!0),N=Object(l.a)(x,2),y=N[0],T=N[1],R=Object(a.useState)([]),C=Object(l.a)(R,2),S=C[0],D=C[1],P=Object(a.useState)([]),I=Object(l.a)(P,2),w=I[0],k=I[1],A=Object(a.useState)(""),H=Object(l.a)(A,2),Y=H[0],E=H[1],B=Object(a.useState)({}),F=Object(l.a)(B,2),L=F[0],M=F[1],_=Object(O.a)({},L),V=Object(a.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),G=Object(l.a)(V,2),W=(G[0],G[1],Object(a.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""})),q=Object(l.a)(W,2),U=q[0],z=q[1];Object(a.useEffect)((function(){K(),J(),Q(),X(),e.patientObj&&(e.patientObj.dateVisit&&""!==e.patientObj.dateVisit?E(e.patientObj.dateVisit):E(""))}),[e.patientObj]);var K=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){b(e.data)})).catch((function(e){}))},Q=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){D(e.data)})).catch((function(e){}))},X=function(){f.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},J=function(){f.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){p(e.data)})).catch((function(e){}))},Z=function(t){e.handleIClickPage(t)},$=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var s=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,s)))}if("middleName"===e.target.name&&""!==e.target.value){var a=se(e.target.value);z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,a)))}z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,e.target.value)))},ee=function(e){"Actual"==e.target.value?(U.isDateOfBirthEstimated=!1,T(!0)):"Estimated"==e.target.value&&(U.isDateOfBirthEstimated=!0,T(!1))},te=function(e,t){z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},t,e.slice(0,10))))},se=function(e){return e.replace(/[^a-z]/gi,"")};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return Z("list")},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Offered INS ?  ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:U.offeredIns,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.offeredIns?Object(ce.jsx)("span",{className:t.error,children:L.offeredIns}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Accepted INS ?  ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:U.acceptedIns,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==L.acceptedIns?Object(ce.jsx)("span",{className:t.error,children:L.acceptedIns}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"First Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"firstName",id:"firstName",value:U.firstName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Middle Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"middleName",id:"middleName",value:U.middleName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Last Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"lastName",id:"lastName",value:U.lastName,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ee(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ee(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ae(new Date).format("YYYY-MM-DD"),value:U.dob,onChange:function(e){if(e.target.value){var t=new Date,s=new Date(e.target.value),a=t.getFullYear()-s.getFullYear(),r=t.getMonth()-s.getMonth();(r<0||0===r&&t.getDate()<s.getDate())&&a--,U.age=a}else z(Object(O.a)(Object(O.a)({},U),{},{age:""}));z(Object(O.a)(Object(O.a)({},U),{},Object(He.a)({},e.target.name,e.target.value))),z(Object(O.a)(Object(O.a)({},U),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:U.age,disabled:y,onChange:function(e){if(!y&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var s=ae(t.toISOString()).add(-1*e.target.value,"years");z(Object(O.a)(Object(O.a)({},U),{},{dob:ae(s).format("YYYY-MM-DD")})),U.dob=ae(s).format("YYYY-MM-DD")}z(Object(O.a)(Object(O.a)({},U),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:U.phoneNumber,onChange:function(e){te(e,"phoneNumber")}}),""!==L.phoneNumber?Object(ce.jsx)("span",{className:t.error,children:L.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Alternative Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:U.altPhoneNumber,onChange:function(e){te(e,"altPhoneNumber")}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sex *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:U.sex,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),j.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Address"}),Object(ce.jsx)(Be.a,{type:"text",name:"address",id:"address",value:U.address,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Hang-out spots"}),Object(ce.jsx)(Be.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:U.hangOutSpots,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship to Index Client *"}),Object(ce.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:U.relativeToIndexClient,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),S.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Do you currently live with this partner? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:U.currentlyLiveWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:U.partnerTestedPositive,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:U.physicalHurt,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:U.threatenToHurt,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:U.sexuallyUncomfortable,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Notification Method selected*"}),Object(ce.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:U.notificationMethod,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),m.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(ce.jsx)(Be.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:U.datePartnerCameForTesting,onChange:$,min:Y,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==L.datePartnerComeForTesting?Object(ce.jsx)("span",{className:t.error,children:L.datePartnerComeForTesting}):""]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Se.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),_.acceptedIns=U.acceptedIns?"":"This field is required.",_.offeredIns=U.offeredIns?"":"This field is required.",M(Object(O.a)({},_)),Object.values(_).every((function(e){return""==e}))&&(U.isDateOfBirthEstimated=1==U.isDateOfBirthEstimated?1:0,f.a.post("".concat(v,"index-elicitation"),U,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){i(!1),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),Z("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))}})})})]})]})]})})})},It={Add:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(E.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(M.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(V.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(I.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(X.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},wt=(Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),r=s[0],n=s[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ae.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(p.a,{icons:It,title:"List of  client contact",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(re()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(ce.jsx)(ce.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),kt=function(e){var t=Object(a.useState)("list"),s=Object(l.a)(t,2),r=s[0],n=s[1],i=function(e){n(e)};return Object(ce.jsx)(a.Fragment,{children:Object(ce.jsx)(d.a,{children:Object(ce.jsxs)(j.a,{md:12,children:["list"===r&&Object(ce.jsx)(wt,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),"add"===r&&Object(ce.jsx)(Pt,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return t="recency-testing",s="recency-testing",e.handleItemClick(t),void(e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])));var t,s}}),Object(ce.jsx)(Se.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(){e.setActivePage(Object(O.a)(Object(O.a)({},e.activePage),{},{activePage:"home"}))}})]})})]})})})},At=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ht=function(e){var t=At(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=(r[1],Object(a.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Syphilis test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis B virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis C virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Completed By"}),Object(ce.jsx)(Be.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(ce.jsx)(tt.a,{}),onClick:function(){return t="basic",s="others",e.handleItemClick(t),void(e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])));var t,s},style:{backgroundColor:"#014d88"},children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},Yt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Et=function(e){var t=Yt(),s=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(a.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1];console.log(e.patientObj);var u=Object(a.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),h=Object(l.a)(u,2),m=h[0],p=(h[1],Object(a.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1];Object(a.useEffect)((function(){e.patientObj&&e.patientObj.postTestCounselingKnowledgeAssessment?y(e.patientObj.postTestCounselingKnowledgeAssessment):""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Positive"!==e.patientObj.hivTestResult&&"Positive"!==e.patientObj.hivTestResult2?""!==N.hivTestResult||""===e.patientObj.hivTestResult||null===e.patientObj.hivTestResult||"Negative"!==e.patientObj.hivTestResult&&"Negative"!==e.patientObj.hivTestResult2||(N.hivTestResult="false",y(Object(O.a)(Object(O.a)({},N),{},{hivTestResult:"true"}))):(N.hivTestResult="true",y(Object(O.a)(Object(O.a)({},N),{},{hivTestResult:"true"})))}),[e.patientObj,N.hivTestResult]);var T=function(e){y(Object(O.a)(Object(O.a)({},N),{},Object(He.a)({},e.target.name,e.target.value)))},R=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},C=function(t){t.preventDefault(),Object.values(N).every((function(e){return""===e}))?o.b.error("All post test fields are required"):(m.htsClientId=e.patientObj.id,m.postTestCounselingKnowledgeAssessment=N,m.personId=e.patientObj.personResponseDto.id,f.a.put("".concat(v,"hts/").concat(e.patientObj.id,"/post-test-counseling"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?R("recency-testing","post-test"):"false"===N.hivTestResult&&s.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["HIV test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Positive"}),Object(ce.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you been tested for HIV before within this year? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(ce.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(ce.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(ce.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form signed by tester "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client received HIV test result "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test counseling done "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Risk reduction plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test disclosure plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Will bring partner(s) for HIV testing "}),Object(ce.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(ce.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Provided with information on FP and dual contraception "}),Object(ce.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Correct condom use demonstrated "}),Object(ce.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Condoms provided to client "}),Object(ce.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client referred to other services "}),Object(ce.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)(We.a,{success:!0,children:Object(ce.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return R("hiv-test","hiv-test")}}),"true"===N.hivTestResult&&Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C}),"false"===N.hivTestResult&&Object(ce.jsx)(Se.a,{content:"Save & Finish",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C})]})})]})})]})})})},Bt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Ft=function(e){var t=Bt(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(a.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(a.useState)({}),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),x=p[0],N=p[1],y=Object(O.a)({},u),T=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},R=Object(a.useState)({htsClientId:r,recency:{},personId:s}),C=Object(l.a)(R,2),S=C[0],D=(C[1],Object(a.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",sampleType:"",receivingPcrLab:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),P=Object(l.a)(D,2),I=P[0],w=P[1];Object(a.useEffect)((function(){e.patientObj&&(w(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Recent")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Invalid")))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine,e.patientObj]);var k=function(e){if(h(Object(O.a)(Object(O.a)({},y),{},Object(He.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=A(e.target.value);w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,t)))}else w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))},A=function(e){return e.slice(0,10)};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"RECENCY FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"RECENCY"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Opt Out of RTRI? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Test Name ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Asante",children:"Asante"}),Object(ce.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Test Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency ID ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Control Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Verification Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Long Term Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency Interpretation ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has viral load request been made? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Viral Load Classification :"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Collected Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",value:I.sampleCollectedDate,min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Reference Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(ce.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"DBS",children:"DBS"}),Object(ce.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(ce.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Sample Sent to PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,value:I.dateSampleSentToPCRLab,max:ae(new Date).format("YYYY-MM-DD"),onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(ce.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Test Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Receiving PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(ce.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(ce.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(ce.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(ce.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Final Recency Result"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",disabled:!0,value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),Object(ce.jsx)(Se.a,{content:"Save & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(t){t.preventDefault(),S.htsClientId=r,S.recency=I,S.personId=s,"true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),h(Object(O.a)({},y)),Object.values(y).every((function(e){return""==e}))&&f.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.setPatientObj(t.data),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))}})]})})]})})]})})})},Lt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"green",fontSize:"12.8px",fontWeight:"bold"}}})),Mt=function(e){var t,s=Lt(),n=(Object(c.g)(),Object(a.useState)([])),i=Object(l.a)(n,2),d=i[0],j=i[1],b=Object(a.useState)([]),u=Object(l.a)(b,2),h=u[0],m=u[1],p=Object(a.useState)([]),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(a.useState)([]),R=Object(l.a)(T,2),C=R[0],S=R[1],D=Object(a.useState)({}),P=Object(l.a)(D,2),I=P[0],w=P[1],k=Object(a.useState)(!1),A=Object(l.a)(k,2),H=A[0],Y=A[1],E=Object(O.a)({},I),B=r.a.useState(!1),F=Object(l.a)(B,2),L=F[0],M=F[1],_=function(){return M(!L)},V=Object(a.useState)([]),G=Object(l.a)(V,2),W=G[0],q=G[1],U=Object(a.useState)(0),z=Object(l.a)(U,2),K=z[0],Q=z[1],X=Object(a.useState)({age:e.patientAge,dob:e.patientObj.dateOfBirth,visitDate:"",dateOfBirth:e.patientObj.dateOfBirth,dateOfRegistration:"",isDateOfBirthEstimated:"",targetGroup:"",testingSetting:"",modality:"",code:"",id:"",personId:e.patientObj.id,riskAssessment:{},entryPoint:"",careProvider:"",communityEntryPoint:""}),J=Object(l.a)(X,2),Z=J[0],$=J[1],ee=Object(a.useState)({lastHivTestForceToHaveSex:"",lastHivTestHadAnal:"",lastHivTestInjectedDrugs:"",whatWasTheResult:"",lastHivTestDone:"",diagnosedWithTb:"",lastHivTestPainfulUrination:"",lastHivTestBloodTransfusion:"",lastHivTestVaginalOral:"",lastHivTestBasedOnRequest:""}),te=Object(l.a)(ee,2),se=te[0],re=te[1];Object(a.useEffect)((function(){le(),ne(),ie(),oe(),null!==e.patientObj.riskStratificationResponseDto&&($(e.patientObj.riskStratificationResponseDto),re(e.patientObj.riskStratificationResponseDto&&e.patientObj.riskStratificationResponseDto.riskAssessment))}),[e.patientObj]),console.log(e);var ne=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){j(e.data)})).catch((function(e){}))},ie=function(){f.a.get("".concat(v,"application-codesets/v2/HTS_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){m(e.data)})).catch((function(e){}))},oe=function(){f.a.get("".concat(v,"application-codesets/v2/HTS_ENTRY_POINT_COMMUNITY"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){y(e.data)})).catch((function(e){}))},le=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){S(e.data)})).catch((function(e){}))},de=function(e){w(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,""))),"testingSetting"===e.target.name&&""!==e.target.value&&(!function(e){var t=e;f.a.get("".concat(v,"application-codesets/v2/").concat(t),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){q(e.data)})).catch((function(e){}))}(e.target.value),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value)))),"modality"===e.target.name&&""!==e.target.value&&("TEST_SETTING_STANDALONE_HTS_PMTCT_(ANC1_ONLY)"===e.target.value?(Q(1),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value)))):"TEST_SETTING_STANDALONE_HTS_EMERGENCY"===e.target.value?$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value))):"TEST_SETTING_STANDALONE_HTS_INDEX"===e.target.value||"TEST_SETTING_STANDALONE_HTS_PMTCT_(POST_ANC1:_PREGNANCYL&DBF)"===e.target.value||"TEST_SETTING_STANDALONE_HTS_STI"===e.target.value||"TEST_SETTING_STANDALONE_HTS_TB"===e.target.value||"TEST_SETTING_CT_STI"===e.target.value||"TEST_SETTING_CT_PMTCT"===e.target.value||"TEST_SETTING_CT_TB"===e.target.value||"TEST_SETTING_TB_TB"===e.target.value||"TEST_SETTING_STI_STI"===e.target.value?(Q(1),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value)))):"TEST_SETTING_OPD_STI"===e.target.value?$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value))):"TEST_SETTING_OUTREACH_INDEX"===e.target.value?(Q(1),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value)))):(Q(0),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value))))),$(Object(O.a)(Object(O.a)({},Z),{},Object(He.a)({},e.target.name,e.target.value)))};var je=function(){return E.dateVisit=Z.visitDate?"":"This field is required.",E.testingSetting=Z.testingSetting?"":"This field is required.",E.entryPoint=Z.entryPoint?"":"This field is required.",E.modality=Z.modality?"":"This field is required.",e.patientAge>15&&(E.targetGroup=Z.targetGroup?"":"This field is required."),E.lastHivTestBasedOnRequest=se.lastHivTestBasedOnRequest?"":"This field is required.",Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestDone=se.lastHivTestDone?"":"This field is required."),""!==Z.entryPoint&&"HTS_ENTRY_POINT_COMMUNITY"===Z.entryPoint&&(E.communityEntryPoint=Z.communityEntryPoint?"":"This field is required."),""!==se.lastHivTestDone&&"Never"!==se.lastHivTestDone&&(E.whatWasTheResult=se.whatWasTheResult?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestVaginalOral=se.lastHivTestVaginalOral?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestBloodTransfusion=se.lastHivTestBloodTransfusion?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestPainfulUrination=se.lastHivTestPainfulUrination?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.diagnosedWithTb=se.diagnosedWithTb?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestInjectedDrugs=se.lastHivTestInjectedDrugs?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestHadAnal=se.lastHivTestHadAnal?"":"This field is required."),Z.age>15&&"false"===se.lastHivTestBasedOnRequest&&(E.lastHivTestForceToHaveSex=se.lastHivTestForceToHaveSex?"":"This field is required."),w(Object(O.a)({},E)),Object.values(E).every((function(e){return""==e}))},he=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},Oe=Object.values(se);t=Oe.filter((function(e){return"true"===e}));var me=function(e){re(Object(O.a)(Object(O.a)({},se),{},Object(He.a)({},e.target.name,e.target.value)))};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ue.a,{className:s.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"RISK STRATIFICATION"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Modality"}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Entry Point *"}),Object(ce.jsxs)("select",{className:"form-control",name:"entryPoint",id:"entryPoint",value:Z.entryPoint,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),h.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==I.entryPoint?Object(ce.jsx)("span",{className:s.error,children:I.entryPoint}):""]})}),"HTS_ENTRY_POINT_COMMUNITY"===Z.entryPoint&&Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Community Entry Point *"}),Object(ce.jsxs)("select",{className:"form-control",name:"communityEntryPoint",id:"communityEntryPoint",value:Z.communityEntryPoint,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),N.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==I.communityEntryPoint?Object(ce.jsx)("span",{className:s.error,children:I.communityEntryPoint}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Visit Date * "}),Object(ce.jsx)(Be.a,{type:"date",name:"visitDate",id:"visitDate",value:Z.visitDate,onChange:de,min:"1983-12-31",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==I.dateVisit?Object(ce.jsx)("span",{className:s.error,children:I.dateVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Setting *"}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:Z.testingSetting,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),d.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==I.testingSetting?Object(ce.jsx)("span",{className:s.error,children:I.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Modality *"}),Object(ce.jsxs)("select",{className:"form-control",name:"modality",id:"modality",value:Z.modality,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),W.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)}))]}),""!==I.modality?Object(ce.jsx)("span",{className:s.error,children:I.modality}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Target Group *"}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:de,value:Z.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),C.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==I.targetGroup?Object(ce.jsx)("span",{className:s.error,children:I.targetGroup}):""]})}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is this HIV test based on a Clinician/Doctor/Health Care Provider's  request ? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBasedOnRequest",id:"lastHivTestBasedOnRequest",value:se.lastHivTestBasedOnRequest,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestBasedOnRequest?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestBasedOnRequest}):""]})})}),Object(ce.jsx)("br",{}),e.patientAge>15&&"false"===se.lastHivTestBasedOnRequest&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"When was your last HIV test done?  "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestDone",id:"lastHivTestDone",value:se.lastHivTestDone,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]}),Object(ce.jsx)("option",{value:"Never",children:" Never"})]}),""!==I.lastHivTestDone?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestDone}):""]})}),""!==se.lastHivTestDone&&"Never"!==se.lastHivTestDone&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"What was the result? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"whatWasTheResult",id:"whatWasTheResult",value:se.whatWasTheResult,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==I.whatWasTheResult?Object(ce.jsx)("span",{className:s.error,children:I.whatWasTheResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you had anal or vaginal or oral sex without a condom with someone who was HIV positive or unaware of their HIV status? "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestVaginalOral",id:"lastHivTestVaginalOral",value:se.lastHivTestVaginalOral,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestVaginalOral?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestVaginalOral}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you had a blood or blood product transfusion? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestBloodTransfusion",id:"lastHivTestBloodTransfusion",value:se.lastHivTestBloodTransfusion,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestBloodTransfusion?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestBloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you experienced painful urination, lower abdominal pain, vaginal or penile discharge, pain during sexual intercourse, thick, cloudy, or foul smelling discharge and/or small bumps or blisters near the mouth, penis, vagina, or anal areas? "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestPainfulUrination",id:"lastHivTestPainfulUrination",value:se.lastHivTestPainfulUrination,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestPainfulUrination?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestPainfulUrination}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you been diagnosed with TB or currently have any of the following symptoms : cough, fever, weight loss, night sweats? "}),Object(ce.jsxs)("select",{className:"form-control",name:"diagnosedWithTb",id:"diagnosedWithTb",value:se.diagnosedWithTb,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.diagnosedWithTb?Object(ce.jsx)("span",{className:s.error,children:I.diagnosedWithTb}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you ever injected drugs, shared needles or other sharp objects with someone known to be HIV positive or who you didn\u2019t know their HIV status? "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestInjectedDrugs",id:"sexUnderInfluence",value:se.lastHivTestInjectedDrugs,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestInjectedDrugs?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestInjectedDrugs}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you had anal, oral or vaginal sex in exchange for money or other benefits? "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestHadAnal",id:"lastHivTestHadAnal",value:se.lastHivTestHadAnal,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestHadAnal?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestHadAnal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Since your last HIV test, have you been forced to have sex? "}),Object(ce.jsxs)("select",{className:"form-control",name:"lastHivTestForceToHaveSex",id:"moreThanOneSexPartnerLastThreeMonths",value:se.lastHivTestForceToHaveSex,onChange:me,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==I.lastHivTestForceToHaveSex?Object(ce.jsx)("span",{className:s.error,children:I.lastHivTestForceToHaveSex}):""]})}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("br",{}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"  Risk assessment score "}),Object(ce.jsxs)("b",{children:["Score :",K+(e.patientAge>15?t.length:0)]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Se.a,{content:"Save",type:"submit",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(s){s.preventDefault(),e.patientObj.targetGroup=Z.targetGroup,e.patientObj.testingSetting=Z.testingSetting,e.patientObj.dateVisit=Z.visitDate,e.patientObj.modality=Z.modality,e.patientObj.riskStratificationResponseDto=Z,Z.riskAssessment=se,e.patientObj.riskStratificationResponseDto&&null!==e.patientObj.riskStratificationResponseDto&&""!==e.patientObj.riskStratificationResponseDto.code?je()&&(Y(!0),he("basic","risk"),e.setHideOtherMenu(!1),f.a.put("".concat(v,"risk-stratification/").concat(e.patientObj.riskStratificationResponseDto.id),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){Y(!1),e.patientObj.riskStratificationResponseDto=t.data,Z.code=t.data.code,e.setExtra(Z)})).catch((function(e){if(Y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):(K>0||t.length>0)&&e.patientAge>15?je()?(Y(!0),f.a.post("".concat(v,"risk-stratification"),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){Y(!1),Z.code=t.data.code,e.setExtra(Z),he("basic","risk"),e.setHideOtherMenu(!1)})).catch((function(e){if(Y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):e.patientAge<15?je()?f.a.post("".concat(v,"risk-stratification"),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){Y(!1),e.patientObj.riskStratificationResponseDto=t.data,Z.code=t.data.code,e.setExtra(Z),e.setHideOtherMenu(!1),he("basic","risk")})).catch((function(e){if(Y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...")})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}):(e.setExtra(Z),je()?f.a.post("".concat(v,"risk-stratification"),Z,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){Y(!1),e.patientObj.riskStratificationResponseDto=t.data,Z.code=t.data.code,e.setExtra(Z)})).catch((function(e){if(Y(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong. Please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))},disabled:H})})})]})})]})}),Object(ce.jsxs)(Me.a,{show:L,toggle:_,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(Me.a.Header,{children:Object(ce.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(Me.a.Body,{children:Object(ce.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ce.jsx)(Me.a.Footer,{children:Object(ce.jsx)(Se.a,{onClick:_,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},_t=(Object(he.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(c.h)().state,s=Object(a.useState)("risk"),r=Object(l.a)(s,2),n=r[0],i=r[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),b=j[0],u=j[1],h=Object(a.useState)(!0),O=Object(l.a)(h,2),m=O[0],p=O[1],x=Object(a.useState)({breastFeeding:"",capturedBy:"",cd4:{},clientCode:"",riskStratificationCode:"",confirmatoryTest:{},dateVisit:"",extra:{},firstTimeVisit:"",hepatitisTesting:{},hivTestResult:"",id:"",indexClient:"",indexClientCode:"",indexElicitation:[{address:"",altPhoneNumber:"",archived:0,currentlyLiveWithPartner:!0,datePartnerCameForTesting:"",dob:"",extra:{},facilityId:0,firstName:"",hangOutSpots:"",htsClient:{archived:0,breastFeeding:0,capturedBy:"",cd4:{},clientCode:"",confirmatoryTest:{},dateVisit:"",extra:{},facilityId:0,firstTimeVisit:!0,hepatitisTesting:{},hivTestResult:"",id:0,indexClient:!0,indexClientCode:"",indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:0,numWives:0,others:{},person:{active:"",address:{},archived:0,contact:{},contactPoint:{},createdDate:"",dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",facilityId:0,firstName:"string",gender:{},hospitalNumber:"",id:"",identifier:{},isDateOfBirthEstimated:!0,lastModifiedDate:"",maritalStatus:{},new:!0,ninNumber:"",organization:{},otherName:"",sex:"",surname:"",uuid:""},personUuid:"",postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:!0,recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:0,tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",uuid:""},htsClientUuid:"",id:"",isDateOfBirthEstimated:!0,lastName:"",middleName:"",notificationMethod:"",partnerTestedPositive:"",phoneNumber:"",physicalHurt:"",relationshipToIndexClient:"",sex:"",sexuallyUncomfortable:"",threatenToHurt:"",uuid:""}],indexNotificationServicesElicitation:{},knowledgeAssessment:{},numChildren:"",numWives:"",others:{},personId:"",personResponseDto:{active:!0,address:{address:[{city:"",line:[""],stateId:"",district:"",countryId:1,postalCode:"",organisationUnitId:0}]},biometricStatus:!0,checkInDate:"",contact:{},contactPoint:{contactPoint:[{type:"phone",value:""}]},dateOfBirth:"",dateOfRegistration:"",deceased:!0,deceasedDateTime:"",education:{},employmentStatus:{},emrId:"",encounterDate:"",facilityId:"",firstName:"",gender:{},id:"",identifier:{},isDateOfBirthEstimated:!0,maritalStatus:{},ninNumber:"",organization:{},otherName:"",sex:"",surname:"",visitId:""},postTestCounselingKnowledgeAssessment:{},pregnant:"",previouslyTested:"",recency:{},referredFrom:"",relationWithIndexClient:"",riskAssessment:{},sexPartnerRiskAssessment:{},stiScreening:{},syphilisTesting:{},targetGroup:"",tbScreening:{},test1:{},testingSetting:"",tieBreakerTest:{},typeCounseling:"",riskStratificationResponseDto:null}),f=Object(l.a)(x,2),g=f[0],v=f[1],N=Object(a.useState)({risk:"",index:"",pre:"",post:"",recency:"",elicitation:""}),y=Object(l.a)(N,2),T=y[0],R=y[1],C=function(e){i(e)};return Object(a.useEffect)((function(){}),[]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(De.a,{children:Object(ce.jsx)(be.a,{children:Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h3",{children:"HIV COUNSELLING AND TESTING"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(ce.jsxs)(Pe.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"risk"===n,onClick:function(){return C("risk")},style:{backgroundColor:"risk"===n?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:[" Risk Stratification",b.includes("risk")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),!1===m&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"basic"===n,onClick:function(){return C("basic")},style:{backgroundColor:"basic"===n?"#000":""},disabled:"basic"!==n,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",b.includes("basic")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),e.patientAge>=15&&Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"pre-test-counsel"===n,onClick:function(){return C("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===n?"#000":""},disabled:"pre-test-counsel"!==n,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",b.includes("pre-test-counsel")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"hiv-test"===n,onClick:function(){return C("hiv-test")},style:{backgroundColor:"hiv-test"===n?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",b.includes("hiv-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"post-test"===n,onClick:function(){return C("post-test")},style:{backgroundColor:"post-test"===n?"#000":""},disabled:"post-test"!==n,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",b.includes("post-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"recency-testing"===n,onClick:function(){return C("recency-testing")},style:{backgroundColor:"recency-testing"===n?"#000":""},disabled:"recency-testing"!==n,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",b.includes("recency-testing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"indexing"===n,onClick:function(){return C("indexing")},style:{backgroundColor:"indexing"===n?"#000":""},disabled:"indexing"!==n,children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",b.includes("indexing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})})]})]})}),Object(ce.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["risk"===n&&Object(ce.jsx)(Mt,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,setHideOtherMenu:p,patientAge:e.patientAge,setExtra:R,extra:T,patientObject:t.patientObject,activePage:e.activePage,setActivePage:e.setActivePage}),"basic"===n&&Object(ce.jsx)(yt,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge,setExtra:R,extra:T,patientObject:t.patientObject}),"pre-test-counsel"===n&&Object(ce.jsx)(Rt,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge}),"hiv-test"===n&&Object(ce.jsx)(St,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge}),"post-test"===n&&Object(ce.jsx)(Et,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge,patientsHistory:e.patients}),"indexing"===n&&Object(ce.jsx)(kt,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge}),"recency-testing"===n&&Object(ce.jsx)(Ft,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge}),"others"===n&&Object(ce.jsx)(Ht,{handleItemClick:C,setCompleted:u,completed:b,setPatientObj:v,patientObj:g,clientCode:e.clientCode,patientAge:e.patientAge})]})]})})})})]})}),Vt={borderRadius:"2px",fontSize:14},Gt=function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),r=s[0],n=s[1],i=Object(a.useState)(!0),c=Object(l.a)(i,2),o=c[0],O=c[1],m=e.patientObj&&e.patientObj.personId?e.patientObj.personId:null,p=Object(a.useState)("home"),x=Object(l.a)(p,2),N=x[0],y=x[1],T=Object(a.useState)(null),R=Object(l.a)(T,2),C=R[0],S=R[1],D=function(e){return ae(new Date(ae(new Date).format("YYYY-MM-DD"))).diff(new Date(e),"months",!0)};function P(){return I.apply(this,arguments)}function I(){return(I=Object(Ae.a)(Object(ke.a)().mark((function e(){return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),f.a.get("".concat(v,"hts/persons/").concat(m),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){O(!1),n(e.data.htsClientDtoList)})).catch((function(e){O(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(Ae.a)(Object(ke.a)().mark((function e(){return Object(ke.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),f.a.get("".concat(v,"hts/persons/").concat(m,"/current-hts"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){S(Math.round(D(e.data.dateVisit)))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){P(),function(){w.apply(this,arguments)}(),"home"===e.activePage.activePage&&y("home")}),[e.patientObj,e.activePage]),Object(ce.jsxs)(a.Fragment,{children:[Object(ce.jsx)("br",{}),Object(ce.jsx)(d.a,{children:Object(ce.jsx)(j.a,{xl:12,children:Object(ce.jsx)(b.a,{style:Vt,children:Object(ce.jsx)(b.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsxs)(u.a,{id:"controlled-tab-example",activeKey:N,onSelect:function(e){return y(e)},className:"mb-3",children:[Object(ce.jsx)(h.a,{eventKey:"home",title:"HTS HISTORY",children:Object(ce.jsx)(vt,{patientObj:e.patientObj,activePage:e.activePage,setActivePage:e.setActivePage,clientCode:e.clientCode,patientAge:e.patientAge,patients:P,patientList:r,loading:o})}),null!==C&&C>=3&&Object(ce.jsx)(h.a,{eventKey:"new",title:"NEW HTS",children:Object(ce.jsx)(_t,{patientObj:e.patientObj,activePage:e.activePage,setActivePage:e.setActivePage,clientCode:e.clientCode,patientAge:e.patientAge,patients:P})})]})})})})})})]})},Wt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),qt=function(e){var t=Wt(),s=(Object(c.g)(),Object(a.useState)({})),r=Object(l.a)(s,2),n=r[0],i=r[1],d=Object(a.useState)(!1),j=Object(l.a)(d,2),b=j[0],u=j[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),p=m[0],x=m[1],N=Object(a.useState)([]),y=Object(l.a)(N,2),T=y[0],R=y[1],C=Object(a.useState)([]),S=Object(l.a)(C,2),D=S[0],P=S[1],I=Object(a.useState)([]),w=Object(l.a)(I,2),k=(w[0],w[1]),A=Object(a.useState)([]),H=Object(l.a)(A,2),Y=H[0],E=H[1],B=Object(a.useState)([]),F=Object(l.a)(B,2),L=F[0],M=F[1],_=Object(a.useState)([]),V=Object(l.a)(_,2),G=V[0],W=V[1],q=Object(O.a)({},n),U=Object(a.useState)({active:!0,clientCode:"",age:"",dob:"",breastFeeding:"",dateVisit:"",firstTimeVisit:null,indexClient:null,numChildren:"",numWives:"",pregnant:"",dateOfBirth:null,dateOfRegistration:null,deceased:!0,deceasedDateTime:null,educationId:"",employmentStatusId:"",facilityId:"",firstName:"",genderId:"",address:"",phoneNumber:"",isDateOfBirthEstimated:"",maritalStatusId:"",organizationId:"",otherName:"",sexId:"",state:null,lga:"",id:"",surname:"",previouslyTested:"",referredFrom:"",targetGroup:"",testingSetting:"",typeCounseling:"",relationshipWithIndexClient:"",indexClientCode:""}),z=Object(l.a)(U,2),K=z[0],Q=z[1];Object(a.useEffect)((function(){X(),ee(),te(),se(),$(),Z(),J(),Q(e.activePage.activeObject)}),[e.patientObj]),console.log(K);var X=function(){f.a.get("".concat(v,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){x(e.data)})).catch((function(e){}))},J=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){W(e.data)})).catch((function(e){}))},Z=function(){f.a.get("".concat(v,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){M(e.data)})).catch((function(e){}))},$=function(){f.a.get("".concat(v,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){E(e.data)})).catch((function(e){}))},ee=function(){f.a.get("".concat(v,"application-codesets/v2/TEST_SETTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){R(e.data)})).catch((function(e){}))},te=function(){f.a.get("".concat(v,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){P(e.data)})).catch((function(e){}))},se=function(){f.a.get("".concat(v,"application-codesets/v2/GENDER"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},re=function(e){i(Object(O.a)(Object(O.a)({},q),{},Object(He.a)({},e.target.name,""))),Q(Object(O.a)(Object(O.a)({},K),{},Object(He.a)({},e.target.name,e.target.value)))},ne=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},ie=function(t){if(t.preventDefault(),"update"===e.activePage.actionType){var s={clientCode:K.clientCode,dateVisit:K.dateVisit,extra:{},id:K.id,firstTimeVisit:K.firstTimeVisit,indexClient:K.indexClient,numChildren:K.numChildren,numWives:K.numWives,personId:e.patientObj.personId,hospitalNumber:K.clientCode,previouslyTested:K.previouslyTested,referredFrom:K.referredFrom,targetGroup:K.targetGroup,testingSetting:K.testingSetting,typeCounseling:K.typeCounseling,breastFeeding:K.breastFeeding,indexClientCode:K.indexClientCode,pregnant:K.pregnant,relationshipWithIndexClient:K.relationshipWithIndexClient};q.clientCode=K.clientCode?"":"This field is required.",q.typeCounseling=K.typeCounseling?"":"This field is required.",q.testingSetting=K.testingSetting?"":"This field is required.",q.targetGroup=""!==K.targetGroup?"":"This field is required.",q.referredFrom=""!==K.referredFrom?"":"This field is required.",q.previouslyTested=""!==K.previouslyTested?"":"This field is required.",q.indexClient=""!==K.indexClient?"":"This field is required.",q.firstTimeVisit=""!==K.firstTimeVisit?"":"This field is required.",q.dateVisit=K.dateVisit?"":"This field is required.",i(Object(O.a)({},q)),Object.values(q).every((function(e){return""==e}))&&(u(!0),f.a.put("".concat(v,"hts/").concat(e.patientObj.id),s,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){u(!1),e.setPatientObj(t.data),o.b.success("HTS Test successful"),e.patientAge>14?ne("pre-test-counsel","basic"):ne("hiv-test","basic")})).catch((function(e){if(u(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))}"view"===e.activePage.actionType&&(u(!0),e.patientAge>14?(u(!1),ne("pre-test-counsel","basic")):(u(!1),ne("hiv-test","pre-test-counsel")))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"CLIENT INTAKE FORM "}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Target Group ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"targetGroup",id:"targetGroup",onChange:re,value:K.targetGroup,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),p.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.targetGroup?Object(ce.jsx)("span",{className:t.error,children:n.targetGroup}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Client Code ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"number",name:"clientCode",id:"clientCode",value:K.clientCode,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.clientCode?Object(ce.jsx)("span",{className:t.error,children:n.clientCode}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Referred From ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"referredFrom",id:"referredFrom",value:K.referredFrom,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),D.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.referredFrom?Object(ce.jsx)("span",{className:t.error,children:n.referredFrom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Setting ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"testingSetting",id:"testingSetting",value:K.testingSetting,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),T.map((function(e){return Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)}))]}),""!==n.testingSetting?Object(ce.jsx)("span",{className:t.error,children:n.testingSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{for:"",children:["Visit Date  ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"date",name:"dateVisit",id:"dateVisit",value:ae(new Date).format("YYYY-MM-DD"),onChange:re,min:K.dateOfRegistration,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==n.dateVisit?Object(ce.jsx)("span",{className:t.error,children:n.dateVisit}):""]})}),e.patientAge>9&&("Male"===e.patientObj.personResponseDto.sex||"male"===e.patientObj.personResponseDto.sex||"MALE"===e.patientObj.personResponseDto.sex)&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Number of wives/co-wives"}),Object(ce.jsx)(Be.a,{type:"number",name:"numWives",id:"numWives",min:0,value:K.numWives,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),e.patientAge>9&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Number of Children ","<5"," years"]}),Object(ce.jsx)(Be.a,{type:"number",name:"numChildren",id:"numChildren",min:0,value:K.numChildren,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Testing"}),Object(ce.jsxs)("select",{className:"form-control",name:"indexClient",id:"indexClient",value:K.indexClient,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.indexClient?Object(ce.jsx)("span",{className:t.error,children:n.indexClient}):""]})}),"true"===K.indexClient||!0===K.indexClient&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship of the index client"}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipWithIndexClient",id:"relationshipWithIndexClient",value:K.relationshipWithIndexClient,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),G.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Index Client Code/ID"}),Object(ce.jsx)(Be.a,{type:"text",name:"indexClientCode",id:"indexClientCode",value:K.indexClientCode,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})})]}),("Female"===e.patientObj.personResponseDto.sex||"female"===e.patientObj.personResponseDto.sex||"FEMALE"===e.patientObj.personResponseDto.sex)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Pregnant"}),Object(ce.jsxs)("select",{className:"form-control",name:"pregnant",id:"pregnant",value:K.pregnant,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),L.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),73!==K.pregnant||"73"!==K.pregnant&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Breast Feeding"}),Object(ce.jsxs)("select",{className:"form-control",name:"breastFeeding",id:"breastFeeding",value:K.breastFeeding,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]})]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"First time visit"}),Object(ce.jsxs)("select",{className:"form-control",name:"firstTimeVisit",id:"firstTimeVisit",value:K.firstTimeVisit,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.firstTimeVisit?Object(ce.jsx)("span",{className:t.error,children:n.firstTimeVisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Previously tested within the last 3 months"}),Object(ce.jsxs)("select",{className:"form-control",name:"previouslyTested",id:"previouslyTested",value:K.previouslyTested,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"YES"}),Object(ce.jsx)("option",{value:"false",children:"NO"})]}),""!==n.previouslyTested?Object(ce.jsx)("span",{className:t.error,children:n.previouslyTested}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Type of Counseling"}),Object(ce.jsxs)("select",{className:"form-control",name:"typeCounseling",id:"typeCounseling",value:K.typeCounseling,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Y.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==n.typeCounseling?Object(ce.jsx)("span",{className:t.error,children:n.typeCounseling}):""]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:["update"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ie,disabled:b}),"view"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ie,disabled:b})]})})]})})]})})})},Ut=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),zt=function(e){var t=Ut(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.sex:"",i=Object(a.useState)(!1),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(a.useState)({}),u=Object(l.a)(b,2),h=u[0],m=u[1],p=Object(O.a)({},h),x=function(t,s){e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])),e.handleItemClick(t)},N=Object(a.useState)({htsClientId:r,knowledgeAssessment:{},personId:s,riskAssessment:{},stiScreening:{},tbScreening:{},sexPartnerRiskAssessment:{}}),y=Object(l.a)(N,2),T=y[0],R=(y[1],Object(a.useState)({previousTestedHIVNegative:"",timeLastHIVNegativeTestResult:"",clientPregnant:"",clientInformHivTransRoutes:"",clientInformRiskkHivTrans:"",clientInformPreventingsHivTrans:"",clientInformPossibleTestResult:"",informConsentHivTest:""})),C=Object(l.a)(R,2),S=C[0],D=C[1],P=function(e){D(Object(O.a)(Object(O.a)({},S),{},Object(He.a)({},e.target.name,e.target.value)))},I=Object(a.useState)({everHadSexualIntercourse:"",bloodtransInlastThreeMonths:"",uprotectedSexWithCasualLastThreeMonths:"",uprotectedSexWithRegularPartnerLastThreeMonths:"",unprotectedVaginalSex:"",uprotectedAnalSex:"",stiLastThreeMonths:"",sexUnderInfluence:"",moreThanOneSexPartnerLastThreeMonths:"",experiencePain:"",haveSexWithoutCondom:"",abuseDrug:"",bloodTransfusion:"",consistentWeightFeverNightCough:"",soldPaidVaginalSex:""}),w=Object(l.a)(I,2),k=w[0],A=w[1],H=function(e){A(Object(O.a)(Object(O.a)({},k),{},Object(He.a)({},e.target.name,e.target.value)))},Y=Object.values(k).filter((function(e){return"true"===e})),E=Object(a.useState)({sexPartnerHivPositive:"",newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""}),B=Object(l.a)(E,2),F=B[0],L=B[1],M=function(e){L(Object(O.a)(Object(O.a)({},F),{},Object(He.a)({},e.target.name,e.target.value))),("false"===F.sexPartnerHivPositive||"sexPartnerHivPositive"===e.target.name&&"false"===e.target.value)&&L({sexPartnerHivPositive:e.target.value,newDiagnosedHivlastThreeMonths:"",currentlyArvForPmtct:"",knowHivPositiveOnArv:"",knowHivPositiveAfterLostToFollowUp:"",uprotectedAnalSex:""})},_=Object.values(F).filter((function(e){return"true"===e})),V=Object(a.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:""}),G=Object(l.a)(V,2),W=G[0],q=G[1],U=function(e){q(Object(O.a)(Object(O.a)({},W),{},Object(He.a)({},e.target.name,e.target.value)))},z=Object.values(W).filter((function(e){return"true"===e})),K=Object(a.useState)({currentCough:"",weightLoss:"",lymphadenopathy:"",fever:"",nightSweats:""}),Q=Object(l.a)(K,2),X=Q[0],J=Q[1],Z=function(e){J(Object(O.a)(Object(O.a)({},X),{},Object(He.a)({},e.target.name,e.target.value)))},$=Object.values(X).filter((function(e){return"true"===e}));Object(a.useEffect)((function(){D(Object(O.a)(Object(O.a)({},S),e.patientObj.knowledgeAssessment)),A(Object(O.a)(Object(O.a)({},k),e.patientObj.riskAssessment)),q(Object(O.a)(Object(O.a)({},W),e.patientObj.stiScreening)),J(Object(O.a)(Object(O.a)({},X),e.patientObj.tbScreening)),L(Object(O.a)(Object(O.a)({},F),e.patientObj.sexPartnerRiskAssessment))}),[e.patientObj]);var ee=function(t){t.preventDefault(),"view"===e.activePage.actionType&&x("hiv-test","pre-test-counsel"),"update"===e.activePage.actionType&&("TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.everHadSexualIntercourse=k.everHadSexualIntercourse?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.bloodtransInlastThreeMonths=k.bloodtransInlastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithCasualLastThreeMonths=k.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithRegularPartnerLastThreeMonths=k.uprotectedSexWithRegularPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.unprotectedVaginalSex=k.unprotectedVaginalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedAnalSex=k.uprotectedAnalSex?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.sexUnderInfluence=k.sexUnderInfluence?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.uprotectedSexWithCasualLastThreeMonths=k.uprotectedSexWithCasualLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&(p.moreThanOneSexPartnerLastThreeMonths=k.moreThanOneSexPartnerLastThreeMonths?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.experiencePain=k.experiencePain?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.haveSexWithoutCondom=k.haveSexWithoutCondom?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.abuseDrug=k.abuseDrug?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.bloodTransfusion=k.bloodTransfusion?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.consistentWeightFeverNightCough=k.consistentWeightFeverNightCough?"":"This field is required."),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&(p.soldPaidVaginalSex=k.soldPaidVaginalSex?"":"This field is required."),m(Object(O.a)({},p)),Object.values(p).every((function(e){return""===e}))?(j(!0),T.htsClientId=r,T.knowledgeAssessment=S,T.personId=s,T.riskAssessment=k,T.stiScreening=W,T.tbScreening=X,T.sexPartnerRiskAssessment=F,f.a.put("".concat(v,"hts/").concat(r,"/pre-test-counseling"),T,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){j(!1),e.setPatientObj(e&&e.patientObj?e.patientObj:""),x("hiv-test","pre-test-counsel")})).catch((function(e){if(j(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):o.b.error("All fields are required",{position:o.b.POSITION.BOTTOM_CENTER}))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"PRE TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"rgb(0,181,173)",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Knowledge Assessment"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Previously tested HIV negative "}),Object(ce.jsxs)("select",{className:"form-control",name:"previousTestedHIVNegative",id:"previousTestedHIVNegative",value:S.previousTestedHIVNegative,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"false"===S.previousTestedHIVNegative&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Time of last HIV Negative test Result"}),Object(ce.jsxs)("select",{className:"form-control",name:"timeLastHIVNegativeTestResult",id:"timeLastHIVNegativeTestResult",value:S.timeLastHIVNegativeTestResult,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:"<1",children:[" ","< 1"," month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6 Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:">6 Months",children:[" ",">6"," Months"]})]})]})}),"Female"===n||"FEMALE"===n||"female"===n&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client pregnant "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientPregnant",id:"clientPregnant",value:S.clientPregnant,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about HIV transmission routes "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformHivTransRoutes",id:"clientInformHivTransRoutes",value:S.clientInformHivTransRoutes,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about risk factors for HIV transmission "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformRiskkHivTrans",id:"clientInformRiskkHivTrans",value:S.clientInformRiskkHivTrans,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed on preventing HIV transmission methods "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPreventingsHivTrans",id:"clientInformPreventingsHivTrans",value:S.clientInformPreventingsHivTrans,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client informed about possible test results "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientInformPossibleTestResult",id:"clientInformPossibleTestResult",value:S.clientInformPossibleTestResult,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Informed consent for HIV testing given "}),Object(ce.jsxs)("select",{className:"form-control",name:"informConsentHivTest",id:"informConsentHivTest",value:S.informConsentHivTest,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Clinical TB screening"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Current cough "}),Object(ce.jsxs)("select",{className:"form-control",name:"currentCough",id:"currentCough",value:X.currentCough,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Weight loss "}),Object(ce.jsxs)("select",{className:"form-control",name:"weightLoss",id:"weightLoss",value:X.weightLoss,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Lymphadenopathy (swelling of the lymph nodes) "}),Object(ce.jsxs)("select",{className:"form-control",name:"lymphadenopathy",id:"lymphadenopathy",value:X.lymphadenopathy,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Fever "}),Object(ce.jsxs)("select",{className:"form-control",name:"fever",id:"fever",value:X.fever,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Night sweats"}),Object(ce.jsxs)("select",{className:"form-control",name:"nightSweats",id:"nightSweats",value:X.nightSweats,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["TB Screening score (calculate the sum of the TB assessment) If score ",">= 1",", test for Xper MTB RIF or refer to TB service "]}),Object(ce.jsxs)("b",{children:["Score : ",$.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),"TARGET_GROUP_GEN_POP"===e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Ever had sexual intercourse ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"everHadSexualIntercourse",id:"everHadSexualIntercourse",value:k.everHadSexualIntercourse,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.everHadSexualIntercourse?Object(ce.jsx)("span",{className:t.error,children:h.everHadSexualIntercourse}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Blood transfusion in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodtransInlastThreeMonths",id:"bloodtransInlastThreeMonths",value:k.bloodtransInlastThreeMonths,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.bloodtransInlastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.bloodtransInlastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with casual partner in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithCasualLastThreeMonths",id:"uprotectedSexWithCasualLastThreeMonths",value:k.uprotectedSexWithCasualLastThreeMonths,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedSexWithCasualLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedSexWithCasualLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected sex with regular partner in the last 3months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedSexWithRegularPartnerLastThreeMonths",id:"uprotectedSexWithRegularPartnerLastThreeMonths",value:k.uprotectedSexWithRegularPartnerLastThreeMonths,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedSexWithRegularPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedSexWithRegularPartnerLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected vaginal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSex",id:"unprotectedVaginalSex",value:k.unprotectedVaginalSex,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.unprotectedVaginalSex?Object(ce.jsx)("span",{className:t.error,children:h.unprotectedVaginalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Unprotected Anal sex ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:k.uprotectedAnalSex,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.uprotectedAnalSex?Object(ce.jsx)("span",{className:t.error,children:h.uprotectedAnalSex}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["STI in last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"stiLastThreeMonths",id:"stiLastThreeMonths",value:k.stiLastThreeMonths,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.stiLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.stiLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sex under the influence of drugs or alcohol ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sexUnderInfluence",id:"sexUnderInfluence",value:k.sexUnderInfluence,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.sexUnderInfluence?Object(ce.jsx)("span",{className:t.error,children:h.sexUnderInfluence}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["More than 1 sex partner during last 3 months ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:k.moreThanOneSexPartnerLastThreeMonths,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.moreThanOneSexPartnerLastThreeMonths?Object(ce.jsx)("span",{className:t.error,children:h.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"  Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score : ",Y.legth]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),"TARGET_GROUP_GEN_POP"!==e.patientObj.targetGroup&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/your partner experienced lower abdominal pain, smelly discharge, blisters and wounds around you/partner vagina, penis anus or mouth? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"experiencePain",id:"experiencePain",value:k.experiencePain,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.experiencePain?Object(ce.jsx)("span",{className:t.error,children:h.experiencePain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had sex without a condom with someone of unknown HIV status, or you/partner raped by person with unknown HIV status? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithoutCondom",id:"haveSexWithoutCondom",value:k.haveSexWithoutCondom,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.haveSexWithoutCondom?Object(ce.jsx)("span",{className:t.error,children:h.haveSexWithoutCondom}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you had a condom burst with your partner during sexual intercourse?  ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"haveCondomBurst",id:"haveCondomBurst",value:k.haveCondomBurst,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.haveCondomBurst?Object(ce.jsx)("span",{className:t.error,children:h.haveCondomBurst}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Do you/partner share needles/syringes, other sharp objects or used abuse drug substances of any kind? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"abuseDrug",id:"abuseDrug",value:k.abuseDrug,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.abuseDrug?Object(ce.jsx)("span",{className:t.error,children:h.abuseDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner had any blood or blood product transfusion? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"bloodTransfusion",id:"bloodTransfusion",value:k.bloodTransfusion,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.bloodTransfusion?Object(ce.jsx)("span",{className:t.error,children:h.bloodTransfusion}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner experienced coughing, weight loss, fever, night sweats consistently? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"consistentWeightFeverNightCough",id:"consistentWeightFeverNightCough",value:k.consistentWeightFeverNightCough,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.consistentWeightFeverNightCough?Object(ce.jsx)("span",{className:t.error,children:h.consistentWeightFeverNightCough}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Have you/partner paid or sold vaginal, anal or oral sex? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"soldPaidVaginalSex",id:"soldPaidVaginalSex",value:k.soldPaidVaginalSex,onChange:H,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==h.soldPaidVaginalSex?Object(ce.jsx)("span",{className:t.error,children:h.soldPaidVaginalSex}):""]})}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:" HIV Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score :",Y.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{})]}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(ce.jsxs)("select",{className:"form-control",name:"sexPartnerHivPositive",id:"sexPartnerHivPositive",value:F.sexPartnerHivPositive,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===F.sexPartnerHivPositive&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner newly diagnosed with HIV and started treatment less than 3-6 months ago? "}),Object(ce.jsxs)("select",{className:"form-control",name:"newDiagnosedHivlastThreeMonths",id:"newDiagnosedHivlastThreeMonths",value:F.newDiagnosedHivlastThreeMonths,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Is sex partner pregnant and currently receiving ARV for PMTCT?"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyArvForPmtct",id:"currentlyArvForPmtct",value:F.currentlyArvForPmtct,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive partner on ARV with an unsurpressed VL"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveOnArv",id:"knowHivPositiveOnArv",value:F.knowHivPositiveOnArv,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Known HIV positive recently returned to treatment after being lost to follow up"}),Object(ce.jsxs)("select",{className:"form-control",name:"knowHivPositiveAfterLostToFollowUp",id:"knowHivPositiveAfterLostToFollowUp",value:F.knowHivPositiveAfterLostToFollowUp,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Unprotected Anal sex"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSex",id:"uprotectedAnalSex",value:F.uprotectedAnalSex,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Sex Partner Risk assessment score (sum of all 6 answers)"}),Object(ce.jsxs)("b",{children:["Score :",_.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientObj.personResponseDto&&"Female"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:W.vaginalDischarge,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:W.lowerAbdominalPains,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientObj.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:W.urethralDischarge,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Male: Complaints of scrotal swelling and pain"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:W.complaintsOfScrotal,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:W.complaintsGenitalSore,onChange:U,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]}),Object(ce.jsxs)(We.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(ce.jsxs)("b",{children:["Score :",z.length]})]}),d?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return x("basic","basic")}}),"update"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ee,disabled:d}),"view"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:ee,disabled:d})]})})]})})]})})})},Kt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Qt=function(e){var t=Kt(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)({}),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(O.a)({},j);console.log(e.patientObj);var h=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",m=e.patientObj&&e.patientObj?e.patientObj.id:"",p=Object(a.useState)(!0),x=Object(l.a)(p,2),N=x[0],y=x[1],T=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n}(ae(e.patientObj.personResponseDto&&e.patientObj.personResponseDto.dateOfBirth?e.patientObj.personResponseDto.dateOfBirth:0).format("DD-MM-YYYY")),R=Object(a.useState)({confirmatoryTest:{},confirmatoryTest2:{},hivTestResult:"",hivTestResult2:"",htsClientId:"",personId:e.patientObj?e.patientObj.id:"",test1:{},test2:{},tieBreakerTest:{},tieBreakerTest2:{},syphilisTesting:{},hepatitisTesting:{},others:{},cd4:{},prepOffered:"",prepAccepted:""}),C=Object(l.a)(R,2),S=C[0],D=C[1],P=function(e){D(Object(O.a)(Object(O.a)({},S),{},Object(He.a)({},e.target.name,e.target.value)))},I=Object(a.useState)({date:"",result:""}),w=Object(l.a)(I,2),k=w[0],A=w[1],H=Object(a.useState)({date2:"",result2:""}),Y=Object(l.a)(H,2),E=Y[0],B=Y[1],F=function(e){V(Object(O.a)(Object(O.a)({},_),{},Object(He.a)({},e.target.name,e.target.value)))},L=Object(a.useState)({cd4Count:"",cd4SemiQuantitative:"",cd4FlowCyteometry:""}),M=Object(l.a)(L,2),_=M[0],V=M[1],G=function(e){"No"===e.target.value?(A(Object(O.a)(Object(O.a)({},k),{},Object(He.a)({},e.target.name,e.target.value))),K({date:"",result:""}),ie({date:"",result:""}),y(!1)):(A(Object(O.a)(Object(O.a)({},k),{},Object(He.a)({},e.target.name,e.target.value))),y(!0))},W=function(e){"No"===e.target.value?(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),Z({date:"",result:""}),je({date:"",result:""}),y(!1)):(B(Object(O.a)(Object(O.a)({},E),{},Object(He.a)({},e.target.name,e.target.value))),y(!0))},q=Object(a.useState)({date:"",result:""}),U=Object(l.a)(q,2),z=U[0],K=U[1],Q=Object(a.useState)({date2:"",result2:""}),X=Object(l.a)(Q,2),J=X[0],Z=X[1],$=function(e){K(Object(O.a)(Object(O.a)({},z),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===k.result&&e.target.value,y(!0)},ee=function(e){Z(Object(O.a)(Object(O.a)({},J),{},Object(He.a)({},e.target.name,e.target.value))),"Yes"===E.result2&&e.target.value,y(!0)},te=Object(a.useState)({date:"",result:""}),re=Object(l.a)(te,2),ne=re[0],ie=re[1],oe=Object(a.useState)({date2:"",result2:""}),le=Object(l.a)(oe,2),de=le[0],je=le[1],he=function(e){ie(Object(O.a)(Object(O.a)({},ne),{},Object(He.a)({},e.target.name,e.target.value))),"No"===z.result&&"Yes"===e.target.value?y(!0):"No"===z.result&&"No"===e.target.value?y(!1):y(!0)},Oe=function(e){je(Object(O.a)(Object(O.a)({},de),{},Object(He.a)({},e.target.name,e.target.value))),"No"===J.result2&&"Yes"===e.target.value?y(!0):"No"===J.result2&&"No"===e.target.value?y(!1):y(!0)},me=Object(a.useState)({syphilisTestResult:""}),pe=Object(l.a)(me,2),xe=pe[0],fe=pe[1],ge=Object(a.useState)({hepatitisCTestResult:"",hepatitisBTestResult:"",longitude:"",latitude:"",adhocCode:""}),ve=Object(l.a)(ge,2),Ne=ve[0],ye=ve[1],Te=function(e){ye(Object(O.a)(Object(O.a)({},Ne),{},Object(He.a)({},e.target.name,e.target.value)))},Re=Object(a.useState)({longitude:"",latitude:"",adhocCode:""}),Ce=Object(l.a)(Re,2),De=Ce[0],Pe=Ce[1];Object(a.useEffect)((function(){e.patientObj&&(V(e.patientObj&&null!==e.patientObj.cd4?e.patientObj.cd4:{}),A(e.patientObj&&null!==e.patientObj.test1?e.patientObj.test1:{}),K(e.patientObj&&null!==e.patientObj.confirmatoryTest?e.patientObj.confirmatoryTest:{}),ie(e.patientObj&&null!==e.patientObj.tieBreakerTest?e.patientObj.tieBreakerTest:{}),fe(e.patientObj&&null!==e.patientObj.syphilisTesting?e.patientObj.syphilisTesting:{}),ye(e.patientObj&&null!==e.patientObj.hepatitisTesting?e.patientObj.hepatitisTesting:{}),Pe(e.patientObj&&null!==e.patientObj.others?e.patientObj.others:{}),B(e.patientObj&&null!==e.patientObj.test2?e.patientObj.test2:{}),Z(e.patientObj&&null!==e.patientObj.confirmatoryTest2?e.patientObj.confirmatoryTest2:{}),je(e.patientObj&&null!==e.patientObj.tieBreakerTest2?e.patientObj.tieBreakerTest2:{}),null!==e.patientObj.hivTestResult&&""!==e.patientObj.hivTestResult&&"Positive"===e.patientObj.hivTestResult?y(!0):y(!1),null!==e.patientObj.hivTestResult2&&""!==e.patientObj.hivTestResult2&&"Positive"===e.patientObj.hivTestResult2?y(!0):y(!1))}),[e.patientObj]);var Ie=function(e){Pe(Object(O.a)(Object(O.a)({},De),{},Object(He.a)({},e.target.name,e.target.value)))},ke=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},Ae=function(t){t.preventDefault(),""!==k.date&&(u.date=k.result?"":"This field is required."),u.syphilisTestResult=xe.syphilisTestResult?"":"This field is required.",u.hepatitisBTestResult=Ne.hepatitisBTestResult?"":"This field is required.",u.hepatitisCTestResult=Ne.hepatitisBTestResult?"":"This field is required.",b(Object(O.a)({},u)),Object.values(u).every((function(e){return""==e}))&&(i(!0),"No"===E.result2?S.hivTestResult2="Negative":"Yes"===E.result2&&"Yes"===J.result2||"No"===J.result2&&"Yes"===de.result2?S.hivTestResult2="Positive":"No"===J.result2&&"No"===de.result2?S.hivTestResult2="Negative":S.hivTestResult2="","No"===k.result?S.hivTestResult="Negative":"Yes"===k.result&&"Yes"===z.result||"No"===z.result&&"Yes"===ne.result?S.hivTestResult="Positive":"No"===z.result&&"No"===ne.result?S.hivTestResult="Negative":S.hivTestResult="","view"===e.activePage.actionType&&ke("post-test","hiv-test"),"update"===e.activePage.actionType&&(S.htsClientId=m,S.confirmatoryTest=z,S.confirmatoryTest2=J,S.personId=h,S.test1=k,S.test2=E,S.tieBreakerTest=ne,S.tieBreakerTest2=de,S.syphilisTesting=xe,S.hepatitisTesting=Ne,S.cd4=_,S.others=De,f.a.put("".concat(v,"hts/").concat(m,"/request-result"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){i(!1),e.setPatientObj(t.data),console.log(t.data),ke("post-test","hiv-test")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{style:{color:"#000"},children:"REQUEST AND RESULT FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"HIV TEST RESULT"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),Object(ce.jsx)("h4",{children:"Initial Test :"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:k.date,onChange:G,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date?Object(ce.jsx)("span",{className:t.error,children:j.date}):""]})}),k.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:k.result,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===k.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result?Object(ce.jsx)("span",{className:t.error,children:j.result}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===k.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:z.date,onChange:$,min:k.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.dateOfEac1?Object(ce.jsx)("span",{className:t.error,children:j.dateOfEac1}):""]})}),z.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:z.result,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===z.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===z.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date",id:"date",value:ne.date,onChange:he,min:z.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),ne.date&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result",id:"result",value:ne.result,onChange:he,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===ne.date,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group  col-md-12",children:["No"===k.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"No"===k.result&&"No"===z.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"None Reactive"})]}),"Yes"===k.result&&"Yes"===z.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"RETESTING:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:E.date2,onChange:W,min:z.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:E.result2,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===E.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:J.date2,onChange:ee,min:E.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:J.result2,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===J.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===J.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:de.date2,onChange:Oe,min:J.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:de.result2,onChange:Oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===de.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===z.result&&"Yes"===ne.result&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Reactive"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Retesting:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:E.date2,onChange:W,min:ne.date,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==j.date2?Object(ce.jsx)("span",{className:t.error,children:j.date2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result  "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:E.result2,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===E.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]}),""!==j.result2?Object(ce.jsx)("span",{className:t.error,children:j.result2}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"}),"Yes"===E.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Confirmatory Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:J.date2,onChange:ee,min:E.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:J.result2,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===J.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]}),"No"===J.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{children:"Tie Breaker Test 2:"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:" Date  "}),Object(ce.jsx)(Be.a,{type:"date",name:"date2",id:"date2",value:de.date2,onChange:Oe,min:J.date2,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Result "}),Object(ce.jsxs)("select",{className:"form-control",name:"result2",id:"result2",value:de.result2,onChange:Oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:""===de.date2,children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non Reactive"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-2"})]})]})]}),"No"===E.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]}),"No"===E.result2&&"No"===J.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" FinalnResult : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]}),"Yes"===E.result2&&"Yes"===J.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:" Final Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"}),Object(ce.jsx)("br",{})]}),"No"===J.result2&&"Yes"===de.result2&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"red",children:"Positive"})]}),"No"===J.result2&&"No"===de.result2&&("Yes"===E.result2||"Yes"===E.result2||""===E.result2)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("b",{children:"Final Result : "}),Object(ce.jsx)(se.a,{color:"green",children:"Negative"})]})]})}),"No"===J.result2&&"Yes"===de.result2&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Prep Accepted ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"prepAccepted",id:"prepAccepted",value:S.prepAccepted,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Prep Offered ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"prepOffered",id:"prepOffered",value:S.prepOffered,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})})]})}),N&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"CD4 Count"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count "}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4Count",id:"cd4Count",value:_.cd4Count,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Semi-Quantitative",children:"Semi-Quantitative"}),Object(ce.jsx)("option",{value:"Flow Cyteometry",children:"Flow Cyteometry"})]})]})}),"Semi-Quantitative"===_.cd4Count&&Object(ce.jsx)("div",{className:"form-group  col-md-5",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"CD4 Count Value"}),Object(ce.jsxs)("select",{className:"form-control",name:"cd4SemiQuantitative",id:"cd4SemiQuantitative",value:_.cd4SemiQuantitative,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"<200",children:"<200"}),Object(ce.jsx)("option",{value:">=200",children:">=200"})]})]})}),"Flow Cyteometry"===_.cd4Count&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"CD4 Count Value"}),Object(ce.jsx)(Be.a,{type:"text",name:"cd4FlowCyteometry",id:"cd4FlowCyteometry",value:_.cd4FlowCyteometry,onChange:F,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-7"})]}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Syphilis test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",value:xe.syphilisTestResult,onChange:function(e){fe(Object(O.a)(Object(O.a)({},xe),{},Object(He.a)({},e.target.name,e.target.value)))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]}),""!==j.syphilisTestResult?Object(ce.jsx)("span",{className:t.error,children:j.syphilisTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis Testing"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis B virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",value:Ne.hepatitisBTestResult,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisBTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisBTestResult}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Hepatitis C virus test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",value:Ne.hepatitisCTestResult,onChange:Te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]}),""!==j.hepatitisCTestResult?Object(ce.jsx)("span",{className:t.error,children:j.hepatitisCTestResult}):""]})}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Others"})}),Object(ce.jsx)("br",{})," ",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",value:De.longitude,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",value:De.latitude,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",value:De.adhocCode,onChange:Ie,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[T<=15?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return ke("basic","basic")}})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return ke("pre-test-counsel","pre-test-counsel")}})}),"update"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:Ae,disabled:n}),"view"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:Ae,disabled:n})]})})]})})]})})})},Xt=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),Jt=function(e){var t=Xt(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1],c=Object(a.useState)([]),d=Object(l.a)(c,2),j=d[0],b=d[1],u=Object(a.useState)([]),h=Object(l.a)(u,2),m=h[0],p=h[1],x=Object(a.useState)(!0),N=Object(l.a)(x,2),y=N[0],T=N[1],R=Object(a.useState)([]),C=Object(l.a)(R,2),S=C[0],D=C[1],P=Object(a.useState)([]),I=Object(l.a)(P,2),w=I[0],k=I[1],A=Object(a.useState)({}),H=Object(l.a)(A,2),Y=H[0],E=H[1],B=Object(O.a)({},Y),F=Object(a.useState)({htsClientId:null,indexNotificationServicesElicitation:{},personId:null}),L=Object(l.a)(F,2),M=(L[0],L[1],function(t){e.handleIClickPage(t)}),_=Object(a.useState)({firstName:"",middleName:"",lastName:"",dob:"",phoneNumber:"",altPhoneNumber:"",sex:"",htsClientId:e&&e.patientObj?e.patientObj.id:"",physicalHurt:"",threatenToHurt:"",address:"",hangOutSpots:"",relativeToIndexClient:"",currentlyLiveWithPartner:"",partnerTestedPositive:"",sexuallyUncomfortable:"",notificationMethod:"",datePartnerCameForTesting:"",offeredIns:"",acceptedIns:""}),V=Object(l.a)(_,2),G=V[0],W=V[1];Object(a.useEffect)((function(){q(),K(),z(),U()}),[]);var q=function(){f.a.get("".concat(v,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){b(e.data)})).catch((function(e){}))},U=function(){f.a.get("".concat(v,"application-codesets/v2/CONSENT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){k(e.data)})).catch((function(e){}))},z=function(){f.a.get("".concat(v,"application-codesets/v2/INDEX_TESTING"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){D(e.data)})).catch((function(e){}))},K=function(){f.a.get("".concat(v,"application-codesets/v2/NOTIFICATION_CONTACT"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){p(e.data)})).catch((function(e){}))},Q=function(e){if("firstName"===e.target.name&&""!==e.target.value){var t=Z(e.target.value);W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var s=Z(e.target.value);W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,s)))}if("middleName"===e.target.name&&""!==e.target.value){var a=Z(e.target.value);W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,a)))}W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,e.target.value)))},X=function(e){"Actual"==e.target.value?(G.isDateOfBirthEstimated=!1,T(!0)):"Estimated"==e.target.value&&(G.isDateOfBirthEstimated=!0,T(!1))},J=function(e,t){W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},t,e.slice(0,10))))},Z=function(e){return e.replace(/[^a-z]/gi,"")};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h2",{style:{color:"#000"},children:["Index Notification Services - Elicitation",Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return M("list")},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:" Back To Client Index List"})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Offered INS ? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"offeredIns",id:"offeredIns",value:G.offeredIns,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Accepted INS ? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"acceptedIns",id:"acceptedIns",value:G.acceptedIns,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"First Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"firstName",id:"firstName",value:G.firstName,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Middle Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"middleName",id:"middleName",value:G.middleName,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Last Name"}),Object(ce.jsx)(Be.a,{type:"text",name:"lastName",id:"lastName",value:G.lastName,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return X(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return X(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:ae(new Date).format("YYYY-MM-DD"),value:G.dob,onChange:function(e){if(e.target.value){var t=new Date,s=new Date(e.target.value),a=t.getFullYear()-s.getFullYear(),r=t.getMonth()-s.getMonth();(r<0||0===r&&t.getDate()<s.getDate())&&a--,G.age=a}else W(Object(O.a)(Object(O.a)({},G),{},{age:""}));W(Object(O.a)(Object(O.a)({},G),{},Object(He.a)({},e.target.name,e.target.value))),W(Object(O.a)(Object(O.a)({},G),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:G.age,disabled:y,onChange:function(e){if(!y&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var s=ae(t.toISOString()).add(-1*e.target.value,"years");W(Object(O.a)(Object(O.a)({},G),{},{dob:ae(s).format("YYYY-MM-DD")})),G.dob=ae(s).format("YYYY-MM-DD")}W(Object(O.a)(Object(O.a)({},G),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:G.phoneNumber,onChange:function(e){J(e,"phoneNumber")}}),""!==Y.phoneNumber?Object(ce.jsx)("span",{className:t.error,children:Y.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Alternative Phone Number"}),Object(ce.jsx)(Le.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",minLength:10,name:"altPhoneNumber",id:"altPhoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:G.altPhoneNumber,onChange:function(e){J(e,"altPhoneNumber")}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sex *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sex",id:"sex",value:G.sex,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),j.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Address"}),Object(ce.jsx)(Be.a,{type:"text",name:"address",id:"address",value:G.address,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Hang-out spots"}),Object(ce.jsx)(Be.a,{type:"text",name:"hangOutSpots",id:"hangOutSpots",value:G.hangOutSpots,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Relationship to Index Client *"}),Object(ce.jsxs)("select",{className:"form-control",name:"relativeToIndexClient",id:"relativeToIndexClient",value:G.relativeToIndexClient,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),S.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Do you currently live with this partner? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"currentlyLiveWithPartner",id:"currentlyLiveWithPartner",value:G.currentlyLiveWithPartner,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"As far as you know, as this partner ever tested positive for HIV *"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerTestedPositive",id:"partnerTestedPositive",value:G.partnerTestedPositive,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"As this partner ever hit, kick, slapped or otherwise physical hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"physicalHurt",id:"physicalHurt",value:G.physicalHurt,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten to hurt you? *"}),Object(ce.jsxs)("select",{className:"form-control",name:"threatenToHurt",id:"threatenToHurt",value:G.threatenToHurt,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has this partner ever threaten force you to do something sexually that made you uncomfortable ?  *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexuallyUncomfortable",id:"sexuallyUncomfortable",value:G.sexuallyUncomfortable,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),w.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Notification Method selected*"}),Object(ce.jsxs)("select",{className:"form-control",name:"notificationMethod",id:"notificationMethod",value:G.notificationMethod,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),m.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"If contract by which date will partner come for testing?"}),Object(ce.jsx)(Be.a,{type:"date",name:"datePartnerCameForTesting",id:"datePartnerCameForTesting",value:G.datePartnerCameForTesting,onChange:Q,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==Y.datePartnerComeForTesting?Object(ce.jsx)("span",{className:t.error,children:Y.datePartnerComeForTesting}):""]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)(Se.a,{content:"Save",icon:"save",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(e){e.preventDefault(),B.acceptedIns=G.acceptedIns?"":"This field is required.",B.offeredIns=G.offeredIns?"":"This field is required.",E(Object(O.a)({},B)),Object.values(B).every((function(e){return""==e}))&&(i(!0),G.isDateOfBirthEstimated=1==G.isDateOfBirthEstimated?1:0,f.a.post("".concat(v,"index-elicitation"),G,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){i(!1),o.b.success("Record save successful"),M("list")})).catch((function(e){if(i(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},disabled:n})})})]})]})]})})})},Zt={Add:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(T.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(E.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(K.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(M.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(V.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(k.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(I.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(X.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return Object(ce.jsx)(Z.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},$t=(Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),r=s[0],n=s[1];e.patientObj&&e.patientObj.id&&e.patientObj.id;function i(){return(i=Object(Ae.a)(Object(ke.a)().mark((function t(){return Object(ke.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.a.get("".concat(v,"hts/").concat(e.patientObj.id,"/index-elicitation"),{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){console.log(e.data),n(e.data)})).catch((function(e){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]);var c=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end  mr-2 mt-2",onClick:function(){return t="add",void e.handleIClickPage(t);var t},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"New Index Client "})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(p.a,{icons:Zt,title:"List of  client contact",columns:[{title:"Name",field:"name"},{title:"Age",field:"age"},{title:"Phone Number",field:"phone"},{title:"Adress",field:"address"},{title:"Actions",field:"actions",filtering:!1}],data:r.map((function(e){return{name:e.firstName+" "+e.lastName,age:c(re()(e.dob).format("DD-MM-YYYY")),phone:e.phoneNumber,address:e.address,actions:Object(ce.jsx)(ce.Fragment,{})}})),options:{headerStyle:{color:"#000"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})]})}),es=function(e){var t=Object(a.useState)("list"),s=Object(l.a)(t,2),r=s[0],n=s[1],i=function(e){n(e)};return Object(ce.jsx)(a.Fragment,{children:Object(ce.jsx)(d.a,{children:Object(ce.jsxs)(j.a,{md:12,children:["list"===r&&Object(ce.jsx)($t,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),"add"===r&&Object(ce.jsx)(Jt,{activePage:r,setActivePage:n,handleIClickPage:i,patientObj:e.patientObj}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return t="recency-testing",s="recency-testing",e.handleItemClick(t),void(e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])));var t,s}}),Object(ce.jsx)(Se.a,{content:"Done",icon:"list",labelPosition:"left",style:{backgroundColor:"#014d88",color:"#fff"},onClick:function(){var t,s;e.setActivePage(Object(O.a)(Object(O.a)({},e.activePage),{},{activePage:"home",activeObject:t,actionType:s}))}})]})})]})})})},ts=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),ss=function(e){var t=ts(),s=Object(a.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=(r[1],Object(a.useState)({})),c=Object(l.a)(i,2);c[0],c[1];return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsxs)("h3",{children:["OTHERS - (Resquest ","& "," Result Form)"]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Syphilis Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Syphilis test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"syphilisTestResult",id:"syphilisTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Reactive"}),Object(ce.jsx)("option",{value:"No",children:"Non-Reactive"})]})]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"Hepatitis B Testing"})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis B virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisBTestResult",id:"hepatitisBTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Hepatitis C virus test result *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hepatitisCTestResult",id:"hepatitisCTestResult",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Positive"}),Object(ce.jsx)("option",{value:"No",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form *"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCT",id:"hivRequestResultCT",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Completed By"}),Object(ce.jsx)(Be.a,{type:"number",name:"completedBy",id:"completedBy",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Longitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"longitude",id:"longitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Latitude"}),Object(ce.jsx)(Be.a,{type:"number",name:"latitude",id:"latitude",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{for:"",children:"Adhoc Code"}),Object(ce.jsx)(Be.a,{type:"number",name:"adhocCode",id:"adhocCode",style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),n?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsx)($.a,{type:"button",variant:"contained",color:"primary",className:t.button,startIcon:Object(ce.jsx)(tt.a,{}),onClick:function(){return t="basic",s="others",e.handleItemClick(t),void(e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s])));var t,s},style:{backgroundColor:"#014d88"},children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})]})})})},as=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),rs=function(e){var t=as(),s=Object(c.g)(),r=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",n=e.patientObj&&e.patientObj?e.patientObj.id:"",i=Object(a.useState)(!1),d=Object(l.a)(i,2),j=d[0],b=d[1],u=Object(a.useState)({htsClientId:n,postTestCounselingKnowledgeAssessment:{},personId:r}),h=Object(l.a)(u,2),m=h[0],p=(h[1],Object(a.useState)({hivTestResult:"",hivTestBefore:"",hivRequestResult:"",hivRequestResultCt:"",clientReceivedHivTestResult:"",postTestCounseling:"",riskReduction:"",postTestDisclosure:"",bringPartnerHivtesting:"",childrenHivtesting:"",informationFp:"",partnerFpThanCondom:"",partnerFpUseCondom:"",correctCondomUse:"",condomProvidedToClient:"",unprotectedSexRegularPartnerLastThreeMonth:"",referredToServices:""})),x=Object(l.a)(p,2),N=x[0],y=x[1],T=function(e){y(Object(O.a)(Object(O.a)({},N),{},Object(He.a)({},e.target.name,e.target.value)))},R=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))};Object(a.useEffect)((function(){y(Object(O.a)(Object(O.a)({},N),e.patientObj.postTestCounselingKnowledgeAssessment)),!e.patientObj||"Positive"!==e.patientObj.hivTestResult&&"Positive"===e.patientObj.hivTestResult2||(N.hivTestResult="Positive")}),[e.patientObj]);var C=function(t){t.preventDefault(),"view"===e.activePage.actionType&&R("recency-testing","post-test"),"update"===e.activePage.actionType&&(b(!0),m.htsClientId=n,m.postTestCounselingKnowledgeAssessment=N,m.personId=r,f.a.put("".concat(v,"hts/").concat(n,"/post-test-counseling"),m,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){b(!1),e.setPatientObj(t.data),"true"===N.hivTestResult?R("recency-testing","post-test"):"false"===N.hivTestResult&&s.push("/")})).catch((function(e){if(b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"POST TEST COUNSELING"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["HIV test result ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestResult",id:"hivTestResult",value:N.hivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Positive"}),Object(ce.jsx)("option",{value:"false",children:"Negative"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Have you been tested for HIV before within this year? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestBefore",id:"hivTestBefore",value:N.hivTestBefore,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Not previously tested",children:"Not previously tested"}),Object(ce.jsx)("option",{value:"Previously tested negative",children:"Previously tested negative"}),Object(ce.jsx)("option",{value:"Previously tested positive in HIV care",children:"Previously tested positive in HIV care"}),Object(ce.jsx)("option",{value:"Previously tested positive not in HIV care",children:"Previously tested positive not in HIV care"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form signed by tester "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResult",id:"hivRequestResult",value:N.hivRequestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"HIV Request and Result form filled with CT Intake Form "}),Object(ce.jsxs)("select",{className:"form-control",name:"hivRequestResultCt",id:"hivRequestResultCt",value:N.hivRequestResultCt,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client received HIV test result "}),Object(ce.jsxs)("select",{className:"form-control",name:"clientReceivedHivTestResult",id:"clientReceivedHivTestResult",value:N.clientReceivedHivTestResult,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test counseling done "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestCounseling",id:"postTestCounseling",value:N.postTestCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Risk reduction plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"riskReduction",id:"riskReduction",value:N.riskReduction,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Post test disclosure plan developed "}),Object(ce.jsxs)("select",{className:"form-control",name:"postTestDisclosure",id:"postTestDisclosure",value:N.postTestDisclosure,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Will bring partner(s) for HIV testing "}),Object(ce.jsxs)("select",{className:"form-control",name:"bringPartnerHivtesting",id:"bringPartnerHivtesting",value:N.bringPartnerHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Will bring own children ","<5"," years for HIV testing "]}),Object(ce.jsxs)("select",{className:"form-control",name:"childrenHivtesting",id:"childrenHivtesting",value:N.childrenHivtesting,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Provided with information on FP and dual contraception "}),Object(ce.jsxs)("select",{className:"form-control",name:"informationFp",id:"informationFp",value:N.informationFp,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use FP methods (other than condom)"}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpThanCondom",id:"partnerFpThanCondom",value:N.partnerFpThanCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client/Partner use condoms as (one) FP method "}),Object(ce.jsxs)("select",{className:"form-control",name:"partnerFpUseCondom",id:"partnerFpUseCondom",value:N.partnerFpUseCondom,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Correct condom use demonstrated "}),Object(ce.jsxs)("select",{className:"form-control",name:"correctCondomUse",id:"correctCondomUse",value:N.correctCondomUse,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Condoms provided to client "}),Object(ce.jsxs)("select",{className:"form-control",name:"condomProvidedToClient",id:"condomProvidedToClient",value:N.condomProvidedToClient,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Client referred to other services "}),Object(ce.jsxs)("select",{className:"form-control",name:"referredToServices",id:"referredToServices",value:N.referredToServices,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)(We.a,{success:!0,children:Object(ce.jsxs)("h4",{children:["If client tests HIV negative, and HIV Risk Assessment Score ",">0"," or there is evidence for a STI syndrome, recommend re-testing after 3 months"]})}),j?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return R("hiv-test","hiv-test")}}),"update"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C,disabled:j}),"view"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:C,disabled:j})]})})]})})]})})})},ns=Object(he.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),is=function(e){var t=ns(),s=e.patientObj&&e.patientObj.personResponseDto?e.patientObj.personResponseDto.id:"",r=e.patientObj&&e.patientObj?e.patientObj.id:"",n=Object(a.useState)(!1),i=Object(l.a)(n,2),c=i[0],d=i[1],j=Object(a.useState)({}),b=Object(l.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),x=p[0],N=p[1],y=Object(O.a)({},u),T=function(t,s){e.handleItemClick(t),e.completed.includes(s)||e.setCompleted([].concat(Object(we.a)(e.completed),[s]))},R=Object(a.useState)({htsClientId:r,recency:{},personId:s}),C=Object(l.a)(R,2),S=C[0],D=(C[1],Object(a.useState)({optOutRTRI:"",optOutRTRITestName:"",optOutRTRITestDate:"",rencencyId:"",controlLine:"",verififcationLine:"",longTermLine:"",rencencyInterpretation:"",hasViralLoad:"",sampleCollectedDate:"",sampleReferanceNumber:"",dateSampleSentToPCRLab:"",sampleTestDate:"",receivingPcrLab:"",sampleType:"",viralLoadResultClassification:"",recencyResult:"",finalRecencyResult:""})),P=Object(l.a)(D,2),I=P[0],w=P[1],k=function(e){if(h(Object(O.a)(Object(O.a)({},y),{},Object(He.a)({},e.target.name,""))),"viralLoadResultClassification"===e.target.name)">=1000"===e.target.value?(I.finalRecencyResult="RITA Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"<1000"===e.target.value?(I.finalRecencyResult="RITA Long term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):"Failed run"===e.target.value||"Invalid viral load result"===e.target.value?(I.finalRecencyResult="RITA Inconclusive",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)));else if("rencencyId"===e.target.name&&""!==e.target.value){var t=A(e.target.value);w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,t)))}else w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},e.target.name,e.target.value)))},A=function(e){return e.slice(0,10)};Object(a.useEffect)((function(){"true"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Long Term",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Long Term")))):"false"===I.longTermLine&&"true"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Recent",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Recent"))),w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"hasViralLoad","true")))):"false"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Negative",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Negative")))):"true"===I.longTermLine&&"true"===I.verififcationLine&&"false"===I.controlLine||"true"===I.longTermLine&&"false"===I.verififcationLine&&"true"===I.controlLine?(I.rencencyInterpretation="Invalid",w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","Invalid")))):w(Object(O.a)(Object(O.a)({},I),{},Object(He.a)({},"rencencyInterpretation","")))}),[I.longTermLine,I.verififcationLine,I.controlLine]),Object(a.useEffect)((function(){e.patientObj&&(w(e.patientObj&&null!==e.patientObj.recency?e.patientObj.recency:{}),e.patientObj.confirmatoryTest&&""!==e.patientObj.confirmatoryTest.date?N(e.patientObj.confirmatoryTest.date):e.patientObj.confirmatoryTest2&&""!==e.patientObj.confirmatoryTest2.date2?N(e.patientObj.confirmatoryTest2.date2):N("")),w(Object(O.a)({recency:I},e.patientObj.recency))}),[e.patientObj]);var H=function(t){t.preventDefault(),"view"===e.activePage.actionType&&T("indexing","recency-testing"),"update"===e.activePage.actionType&&("true"==I.hasViralLoad&&(y.sampleReferanceNumber=I.sampleReferanceNumber?"":"This field is required."),"true"==I.hasViralLoad&&(y.sampleType=I.sampleType?"":"This field is required."),h(Object(O.a)({},y)),Object.values(y).every((function(e){return""==e}))&&(S.htsClientId=r,S.recency=I,S.personId=s,f.a.put("".concat(v,"hts/").concat(r,"/recency"),S,{headers:{Authorization:"Bearer ".concat(g)}}).then((function(t){d(!1),e.setPatientObj(e&&e.patientObj?e.patientObj:""),T("indexing","recency-testing")})).catch((function(e){if(d(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))))};return Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(ue.a,{className:t.root,children:Object(ce.jsxs)(be.a,{children:[Object(ce.jsx)("h2",{children:"RECENCY FORM"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)(se.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h5",{style:{color:"#fff"},children:"RECENCY"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Opt Out of RTRI? ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRI",id:"optOutRTRI",value:I.optOutRTRI,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-8"}),"false"===I.optOutRTRI&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Test Name *"}),Object(ce.jsxs)("select",{className:"form-control",name:"optOutRTRITestName",id:"optOutRTRITestName",value:I.optOutRTRITestName,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"Asante",children:"Asante"}),Object(ce.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Test Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{type:"date",name:"optOutRTRITestDate",id:"optOutRTRITestDate",value:I.optOutRTRITestDate,onChange:k,min:""!==x&&null!==x?x:"",max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency ID ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyId",id:"rencencyId",type:"text",value:I.rencencyId,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Control Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"controlLine",id:"controlLine",value:I.controlLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Verification Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"verififcationLine",id:"verififcationLine",value:I.verififcationLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Long Term Line ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"longTermLine",id:"longTermLine",value:I.longTermLine,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Recency Interpretation ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"rencencyInterpretation",id:"rencencyInterpretation",type:"text",value:I.rencencyInterpretation,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),"Recent"===I.rencencyInterpretation&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Has viral load request been made? "}),Object(ce.jsxs)("select",{className:"form-control",name:"hasViralLoad",id:"hasViralLoad",value:I.hasViralLoad,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===I.hasViralLoad&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h4",{children:"Viral Load Classification :"}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Collected Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleCollectedDate",id:"sampleCollectedDate",type:"date",min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),value:I.sampleCollectedDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Reference Number ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleReferanceNumber",id:"sampleReferanceNumber",type:"text",value:I.sampleReferanceNumber,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.sampleReferanceNumber?Object(ce.jsx)("span",{className:t.error,children:u.sampleReferanceNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsxs)(Ee.a,{children:["Sample Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sampleType",id:"sampleType",value:I.sampleType,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsx)("option",{value:"DBS",children:"DBS"}),Object(ce.jsx)("option",{value:"Plasma",children:"Plasma"})]}),""!==u.sampleType?Object(ce.jsx)("span",{className:t.error,children:u.sampleType}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Date Sample Sent to PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"dateSampleSentToPCRLab",id:"dateSampleSentToPCRLab",type:"date",min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),value:I.dateSampleSentToPCRLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==u.dateSampleSentToPCRLab?Object(ce.jsx)("span",{className:t.error,children:u.dateSampleSentToPCRLab}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Sample Test Date"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"sampleTestDate",id:"sampleTestDate",type:"date",min:I.optOutRTRITestDate,max:ae(new Date).format("YYYY-MM-DD"),value:I.sampleTestDate,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Receiving PCR Lab"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"receivingPcrLab",id:"receivingPcrLab",type:"text",value:I.receivingPcrLab,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Viral Load Result Classification and Result (copies/ml)"}),Object(ce.jsxs)("select",{className:"form-control",name:"viralLoadResultClassification",id:"viralLoadResultClassification",value:I.viralLoadResultClassification,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:""}),Object(ce.jsxs)("option",{value:">=1000",children:[">= "," 1000"]}),Object(ce.jsxs)("option",{value:"<1000",children:["< "," 1000"]}),Object(ce.jsx)("option",{value:"Failed run",children:"Failed run"}),Object(ce.jsx)("option",{value:"Invalid viral load result",children:"Invalid viral load result"})]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(Ye.a,{children:[Object(ce.jsx)(Ee.a,{children:"Final Recency Result"}),Object(ce.jsx)(Be.a,{className:"form-control",name:"finalRecencyResult",id:"finalRecencyResult",type:"text",value:I.finalRecencyResult,onChange:k,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]}),c?Object(ce.jsx)(Ge.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ce.jsx)(Se.a,{content:"Back",icon:"left arrow",labelPosition:"left",style:{backgroundColor:"#992E62",color:"#fff"},onClick:function(){return T("post-test","post-test")}}),"update"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Update & Continue",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:H,disabled:c}),"view"===e.activePage.actionType&&Object(ce.jsx)(Se.a,{content:"Next",icon:"right arrow",labelPosition:"right",style:{backgroundColor:"#014d88",color:"#fff"},onClick:H,disabled:c})]})})]})})]})})})},cs=Object(he.a)((function(e){return{error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),os=function(e){cs();var t=Object(a.useState)("basic"),s=Object(l.a)(t,2),r=s[0],n=s[1],i=Object(a.useState)([]),c=Object(l.a)(i,2),d=c[0],j=c[1],b=Object(a.useState)(e.activePage.activeObject),u=Object(l.a)(b,2),h=u[0],m=u[1],p=function(e){n(e)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(De.a,{children:Object(ce.jsx)(be.a,{children:Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsxs)("h3",{children:["HIV COUNSELLING AND TESTING   -  ",h&&h.dateVisit?h.dateVisit:"",Object(ce.jsx)(Se.a,{variant:"contained",color:"primary",className:" float-end",style:{backgroundColor:"#014d88"},onClick:function(t,s){e.setActivePage(Object(O.a)(Object(O.a)({},e.activePage),{},{activePage:"home",activeObject:t,actionType:s}))},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-md-3 col-sm-3 col-lg-3",children:Object(ce.jsxs)(Pe.a,{size:"large",vertical:!0,style:{backgroundColor:"#014D88"},children:[Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"basic"===r,onClick:function(){return p("basic")},style:{backgroundColor:"basic"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:[" Basic Information",d.includes("basic")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),e.patientAge>14&&Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"pre-test-counsel"===r,onClick:function(){return p("pre-test-counsel")},style:{backgroundColor:"pre-test-counsel"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Pre Test Counseling",d.includes("pre-test-counsel")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"inbox",active:"hiv-test"===r,onClick:function(){return p("hiv-test")},style:{backgroundColor:"hiv-test"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Request ","&"," Result Form",d.includes("hiv-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"post-test"===r,onClick:function(){return p("post-test")},style:{backgroundColor:"post-test"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Post Test Counseling",d.includes("post-test")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"recency-testing"===r,onClick:function(){return p("recency-testing")},style:{backgroundColor:"recency-testing"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["HIV Recency Testing",d.includes("recency-testing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})}),Object(ce.jsx)(Pe.a.Item,{name:"spam",active:"indexing"===r,onClick:function(){return p("indexing")},style:{backgroundColor:"indexing"===r?"#000":""},children:Object(ce.jsxs)("span",{style:{color:"#fff"},children:["Index Notification Services - Elicitation",d.includes("indexing")&&Object(ce.jsx)(Ie.a,{name:"check",color:"green"})]})})]})}),Object(ce.jsxs)("div",{className:"col-md-9 col-sm-9 col-lg-9 ",style:{backgroundColor:"#fff",margingLeft:"-50px",paddingLeft:"-20px"},children:["basic"===r&&Object(ce.jsx)(qt,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"pre-test-counsel"===r&&Object(ce.jsx)(zt,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"hiv-test"===r&&Object(ce.jsx)(Qt,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"post-test"===r&&Object(ce.jsx)(rs,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"indexing"===r&&Object(ce.jsx)(es,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"recency-testing"===r&&Object(ce.jsx)(is,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage,patientAge:e.patientAge}),"others"===r&&Object(ce.jsx)(ss,{handleItemClick:p,setCompleted:j,completed:d,setPatientObj:m,patientObj:h,activePage:e.activePage,setActivePage:e.setActivePage})]})]})})})})]})};var ls=Object(jt.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=Object(c.g)(),s=Object(a.useState)({activePage:"home",activeObject:{},actionType:""}),r=Object(l.a)(s,2),n=r[0],i=r[1],o=e.classes;Object(a.useEffect)((function(){}),[n]);var d=t.location&&t.location.state?t.location.state.patientObject:{},j=t.location&&t.location.state?t.location.state.patientObj:{},b=t.location&&t.location.state?t.location.state.clientCode:"",u=function(e){var t=new Date,s=e.split("-"),a=new Date(+s[2],s[1]-1,+s[0]),r=new Date(a),n=t.getFullYear()-r.getFullYear(),i=t.getMonth()-r.getMonth();return(i<0||0===i&&t.getDate()<r.getDate())&&n--,0===n?i:n}(re()(j.dateOfBirth).format("DD-MM-YYYY"));return Object(ce.jsxs)("div",{className:o.root,children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(N.a,{to:"/",children:"HTS /"})," Patient Dashboard"]})})})}),Object(ce.jsx)(bt.a,{children:Object(ce.jsxs)(ut.a,{children:[Object(ce.jsx)(xt,{patientObj:j,clientCode:b,patientObject:d}),"home"===n.activePage&&Object(ce.jsx)(Gt,{patientObj:j,activePage:n,setActivePage:i,clientCode:b,patientAge:u,patientObject:d}),"view"===n.activePage&&Object(ce.jsx)(os,{patientObj:j,activePage:n,setActivePage:i,clientCode:b,patientAge:u,patientObject:d})]})})]})}));function ds(){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(o.a,{}),Object(ce.jsxs)(c.d,{children:[Object(ce.jsx)(c.b,{path:"/patient-history",children:Object(ce.jsx)(ls,{})}),Object(ce.jsx)(c.b,{path:"/register-patient",children:Object(ce.jsx)(dt,{})}),Object(ce.jsx)(c.b,{path:"/",children:Object(ce.jsx)(Ce,{})})]})]})}var js=function(e){e&&e instanceof Function&&s.e(6).then(s.bind(null,916)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),n(e),i(e)}))},bs=s(539),us="ltr",hs=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:us},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:us},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:us},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:us},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:us},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:us}],Os=Object(a.createContext)(),ms=function(e){var t=Object(a.useState)({value:"full",label:"Full"}),s=Object(l.a)(t,2),r=s[0],n=s[1],i=Object(a.useState)({value:"fixed",label:"Fixed"}),c=Object(l.a)(i,2),o=c[0],d=c[1],j=Object(a.useState)({value:"fixed",label:"Fixed"}),b=Object(l.a)(j,2),u=b[0],h=b[1],O=Object(a.useState)({value:"vertical",label:"Vertical"}),m=Object(l.a)(O,2),p=m[0],x=m[1],f=Object(a.useState)({value:"ltr",label:"LTR"}),g=Object(l.a)(f,2),v=g[0],N=g[1],y=Object(a.useState)("color_1"),T=Object(l.a)(y,2),R=T[0],C=T[1],S=Object(a.useState)("color_1"),D=Object(l.a)(S,2),P=D[0],I=D[1],w=Object(a.useState)("color_1"),k=Object(l.a)(w,2),A=k[0],H=k[1],Y=Object(a.useState)("color_1"),E=Object(l.a)(Y,2),B=E[0],F=E[1],L=Object(a.useState)(!1),M=Object(l.a)(L,2),_=M[0],V=M[1],G=Object(a.useState)(!1),W=Object(l.a)(G,2),q=W[0],U=W[1],z=Object(a.useState)({value:"light",label:"Light"}),K=Object(l.a)(z,2),Q=K[0],X=K[1],J=Object(a.useState)({value:"wide-boxed",label:"Wide Boxed"}),Z=Object(l.a)(J,2),$=Z[0],ee=Z[1],te=document.querySelector("body"),se=Object(a.useState)(0),ae=Object(l.a)(se,2),re=ae[0],ne=ae[1],ie=Object(a.useState)(0),oe=Object(l.a)(ie,2),le=oe[0],de=oe[1],je=function(e){C(e),te.setAttribute("data-primary",e)},be=function(e){I(e),te.setAttribute("data-nav-headerbg",e)},ue=function(e){H(e),te.setAttribute("data-headerbg",e)},he=function(e){F(e),te.setAttribute("data-sibebarbg",e)},Oe=function(e){d(e),te.setAttribute("data-sidebar-position",e.value)},me=function(e){N(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},pe=function(e){"horizontal"===e.value&&"overlay"===r.value?(x(e),te.setAttribute("data-layout",e.value),n({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(x(e),te.setAttribute("data-layout",e.value))},xe=function(e){"horizontal"===p.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(n(e),V("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},fe=function(e){h(e),te.setAttribute("data-header-position",e.value)},ge=function(e){te.setAttribute("data-theme-version",e.value),X(e)},ve=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&xe({value:"overlay",label:"Overlay"})};return Object(a.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ne(window.innerWidth),de(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(ce.jsx)(Os.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:R,navigationHader:P,windowWidth:re,windowHeight:le,changePrimaryColor:je,changeNavigationHader:be,changeSideBarStyle:xe,sideBarStyle:r,changeSideBarPostion:Oe,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:fe,headerposition:u,changeSideBarLayout:pe,sidebarLayout:p,changeDirectionLayout:me,changeContainerPosition:ve,direction:v,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:A,chnageHaderColor:ue,chnageSidebarColor:he,sidebarColor:B,iconHover:_,menuToggle:q,openMenuToggle:function(){"overly"===r.value?U(!0):U(!1)},changeBackground:ge,background:Q,containerPosition_:$,setDemoTheme:function(e,t){var s={},a=hs[e];te.setAttribute("data-typography",a.typography),s.value=a.version,ge(s),s.value=a.layout,pe(s),je(a.primary),be(a.navheaderBg),ue(a.headerBg),s.value=a.sidebarStyle,xe(s),he(a.sidebarBg),s.value=a.sidebarPosition,Oe(s),s.value=a.headerPosition,fe(s),s.value=a.containerLayout,ve(s),s.value=t,me(s)}},children:e.children})};i.a.render(Object(ce.jsx)(r.a.StrictMode,{children:Object(ce.jsx)(bs.a,{children:Object(ce.jsx)(c.a,{basename:"/",children:Object(ce.jsx)(ms,{children:Object(ce.jsx)(ds,{})})})})}),document.getElementById("root")),js()}},[[667,1,2]]]);
//# sourceMappingURL=main.df4cc5b2.chunk.js.map